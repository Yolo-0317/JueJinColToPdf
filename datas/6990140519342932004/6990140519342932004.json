{"article_id": "6990140519342932004", "article_info": {"article_id": "6990140519342932004", "user_id": "131597122679661", "category_id": "6809637769959178254", "tag_ids": [6809640408797167623, 6809640448827588622], "visible_level": 0, "link_url": "", "cover_image": "https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/994adb9f88ee4180b389a44175c68266~tplv-k3u1fbpfcp-watermark.image", "is_gfw": 0, "title": "\u3010\u73a9\u8f6c\u6398\u91d1\u3011\u6398\u91d1\u4e13\u680f\u6587\u7ae0\u6b63\u751f\u6210pdf\u6587\u6863 \uff5cPython \u4e3b\u9898\u6708", "brief_content": "\u6398\u91d1\u6709\u5f88\u591a\u4f18\u79c0\u7684\u4e13\u680f\uff0c\u6211\u4e00\u76f4\u5728\u601d\u8003\uff0c\u5982\u4f55\u628a\u8fd9\u4e9b\u4e13\u680f\u7684\u6587\u7ae0\u5185\u5bb9\u6574\u5408\u5728\u4e00\u8d77\u5462\uff1f \u5bf9\uff0c\u751f\u6210PDF\u6587\u4ef6\uff0c\u6570\u636e\u805a\u5408\uff0c\u65b9\u4fbf\u4f60\u6211\u4ed6\u3002 Don't worry! \u5b9e\u73b0\u7684\u65b9\u6cd5\u65b9\u5f0f\u90fd\u5f88\u7b80\u5355\uff0c\u4e00\u5171\u4e0d\u5230200\u884c\u4ee3\u7801", "is_english": 0, "is_original": 1, "user_index": 0, "original_type": 0, "original_author": "", "content": "", "ctime": "1627519001", "mtime": "1628342386", "rtime": "1627539919", "draft_id": "6988474064637526024", "view_count": 5133, "collect_count": 18, "digg_count": 92, "comment_count": 19, "hot_index": 367, "is_hot": 0, "rank_index": 0.03217766, "status": 2, "verify_status": 1, "audit_status": 2, "mark_content": "---\ntheme: channing-cyan\nhighlight: a11y-dark\n---\n\n\u672c\u6587\u6b63\u5728\u53c2\u52a0\u300cPython\u4e3b\u9898\u6708\u300d\uff0c\u8be6\u60c5\u67e5\u770b [\u6d3b\u52a8\u94fe\u63a5](https://juejin.cn/post/6979532761954533390)\n\n## \u524d\u8a00\n\n\u6398\u91d1\u6709\u5728\u770b\u5404\u4f4d\u7684\u5f88\u591a\u4f18\u79c0\u7684\u4e13\u680f\uff0c\u6211\u4e00\u76f4\u5728\u601d\u8003\uff0c\u5982\u4f55\u628a\u8fd9\u4e9b\u4e13\u680f\u7684\u6587\u7ae0\u5185\u5bb9\u6574\u5408\u5728\u4e00\u8d77\u5462\uff1f\n\n\u5bf9\uff0c\u751f\u6210PDF\u6587\u4ef6\uff0c\u6570\u636e\u805a\u5408\uff0c\u65b9\u4fbf\u4f60\u6211\u5979\u4ed6\u5b83\u3002   \nDon't worry!  \u5b9e\u73b0\u7684\u65b9\u6cd5\u65b9\u5f0f\u90fd\u5f88\u7b80\u5355\uff0c\u4e00\u5171\u4e0d\u5230**200**\u884c\u4ee3\u7801\u3002\n\n**\u6e90\u7801\uff1a**[JueJinColToPdf](https://github.com/xiangwenhu/JueJinColToPdf)\n\n**\u5728\u7ebf\u9884\u89c8:**\n[\u6211\u7684\u6398\u91d1\u524d\u7aef\u5468\u680f.pdf](https://github.com/xiangwenhu/JueJinColToPdf/blob/master/pdfs/%E6%88%91%E7%9A%84%E6%8E%98%E9%87%91%E5%89%8D%E7%AB%AF%E5%91%A8%E6%A0%8F.pdf)\n\n## \u6548\u679c\u6f14\u793a\n\n### \u4ee3\u7801\u6267\u884c\n\n![cmd.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8357fac2e435446385a5351a1bf97134~tplv-k3u1fbpfcp-watermark.image)\n\n### PDF\u6587\u6863\u6548\u679c\n\n![pdf.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/013b8f30cc8d4718a8911ef1140ce32d~tplv-k3u1fbpfcp-watermark.image)\n\n## \u57fa\u672c\u601d\u8def\n\n1. \u6536\u96c6API\u4fe1\u606f\u548c\u5173\u8054\n2. \u4e0b\u8f7d\u4e13\u680f\u6570\u636e\n3. \u751f\u6210html\u4ee3\u7801 (markdown\u8f6chtml)\n4. \u751f\u6210pdf\u6587\u4ef6\n\n\n## \u6536\u96c6API\u4fe1\u606f\u548c\u5173\u8054\n\n**\u6570\u636e\u662f\u4e00\u5207\u7684\u6839\u6e90**\uff0c\u6240\u4ee5\u5148\u5206\u6790\u5982\u4f55\u83b7\u53d6\u6398\u91d1\u4e13\u680f\u6570\u636e\u3002   \n\n\u5176\u5b9e**\u4e09\u4e2aAPI**\u5c31\u6ee1\u8db3\u9700\u6c42\uff1a\n\n1. [\u4e13\u680f\u6458\u8981\u4fe1\u606f](https://api.juejin.cn/content_api/v1/column/detail)     \n    **\u4f5c\u7528\uff1a** \u83b7\u53d6\u4e13\u680f\u7684\u6458\u8981\u4fe1\u606f\uff0c\u4e3b\u8981\u662f**\u4e13\u680fID\u548c\u4e13\u680f\u540d\u79f0**    \n    **API\u5730\u5740\uff1a** https://api.juejin.cn/content_api/v1/column/detail\n    \n2. [\u4e13\u680f\u6587\u7ae0\u5217\u8868](https://api.juejin.cn/content_api/v1/column/articles_cursor)   \n   **\u4f5c\u7528\uff1a** \u83b7\u53d6\u4e13\u680f\u6587\u7ae0\u5217\u8868\uff0c\u4e3b\u8981\u662f**\u6587\u7ae0ID**\uff0c\u4e00\u4e2a\u4e2d\u95f4\u5546\u7f62\u4e86\u3002   \n   **API\u5730\u5740\uff1a** https://api.juejin.cn/content_api/v1/column/articles_cursor\n3. [\u6587\u7ae0\u8be6\u60c5](https://api.juejin.cn/content_api/v1/article/detail)    \n   **\u4f5c\u7528\uff1a** \u83b7\u53d6\u6587\u7ae0\u8be6\u60c5\uff0c\u4e3b\u8981\u662f**\u6587\u7ae0\u6807\u9898\u548cMarkDown\u683c\u5f0f\u7684\u6587\u7ae0\u5185\u5bb9**    \n   **API\u5730\u5740**\uff1a https://api.juejin.cn/content_api/v1/article/detail\n\n\n\u6574\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a\n\n![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc3dce5e11db48a08d1adce9f634b111~tplv-k3u1fbpfcp-watermark.image)\n\n\n### \u83b7\u53d6\u4e13\u680f\u4fe1\u606f\nAPI\u5730\u5740\uff1a https://api.juejin.cn/content_api/v1/column/detail?column_id=[cid]\n\n**\u8bf7\u6c42\u53c2\u6570**   \nQueryString\n1. column_id \u4e13\u680fID\n\n**\u6570\u636e\u7ed3\u6784**  \n\u6709\u7528\u7684\u5c31\u662f `title`\u5b57\u6bb5\uff0c\u751f\u6210html\u548cpdf\u65f6\u9700\u8981\u3002\n```json\n{\n    column_id\uff1a\"\"6979380367216082957\" \n    data: {\n        \"column_version\": {\n            \"title\": \"\u524d\u7aef\u57fa\u7840\u8fdb\u9636\u201c  // \u4e13\u680f\u6807\u9898\n        }\n    }\n}\n```\n\n### \u83b7\u53d6\u4e13\u680f\u6587\u7ae0\u5217\u8868\n\n**API \u5730\u5740**\n`https://api.juejin.cn/content_api/v1/column/articles_cursor`\n\n**\u8bf7\u6c42\u53c2\u6570** \n ```json\n {\n     \"column_id\":\"6979380367216082957\", // \u4e13\u680fID\n     \"cursor\":\"0\", // \u5f53\u524d\u4e0b\u6807\n     \"limit\":20, // \u4e00\u9875\u5927\u5c0f\n     \"sort\":0  // 0 \u53d1\u5e03\u4e8b\u4ef6\u4ece\u8fd1\u5230\u8fdc\uff0c\u53cd\u4e4b\u4ece\u8fdc\u5230\u8fd1\n }  \n ```\n \n**\u6570\u636e\u7ed3\u6784**\n\u6709\u7528\u7684\u5176\u5b9e\u5c31 `artcile_id`\n```json\n{\n   \"err_no\": 0,\n   \"err_msg\": \"success\",\n   \"cursor\": \"2\",\n   \"count\": 5,\n   \"has_more\": false,\n   \"data\": [\n       {\n            \"article_id\": \"6989391487200919566\",\n             .....................\n   \n       }\n   ]\n}\n```\n\n### \u83b7\u53d6\u6587\u7ae0\u8be6\u60c5\n\n**API\u5730\u5740:**   \n`https://api.juejin.cn/content_api/v1/article/detail`\n\n**\u8bf7\u6c42\u53c2\u6570:**\n```json\n{\n    \"article_id\":\u00a0\"6989391487200919566\" // \u6587\u7ae0ID\n}    \n```\n\n**\u8fd4\u56de\u7ed3\u679c:**  \n`data`\u5c5e\u6027\u4e2d\u7684`mark_content`\u5b57\u6bb5\u5c31\u662fmarkdown\u8bed\u6cd5\u7684\u539f\u59cb\u5185\u5bb9\u3002\n```json\n{\n    \"data\": {\n        \"article_id\": \"6989391487200919566\",\n        \"article_info\": {\n            \"mark_content\": \"---\\ntheme: channing-cyan\\nhighlight: a11y-dark\\n---\\n\\n\\n## \u524d\u8a00\\n\\n\u672c\u6587\u6536\u5f55\u5728 **[\u524d\u7aef\u57fa\u7840\u8fdb\u9636](https://juejin.cn/column/6979380367216082957)** \u4e13\u680f\"\n        }\n    },\n    \"err_no\": 0,\n    \"err_msg\": \"success\",\n}\n```\n\n\n\n\n## \u4e0b\u8f7d\u4e13\u680f\u6570\u636e\n\u6211\u4eec\u9009\u62e9Python\u91cc\u9762\u6bd4\u8f83\u6709\u540d\u7684`requests`\u5e93\uff0c\u867d\u7136\u4e0d\u652f\u6301\u5f02\u6b65\uff0c\u4e0d\u8fc7\u95ee\u9898\u4e0d\u5927\u3002\n\n\u57fa\u672c\u987a\u5e8f\uff1a\n1. \u4e0b\u8f7d\u4e13\u680f\u4fe1\u606f\n2. \u4e0b\u8f7d\u4e13\u680f\u6587\u7ae0\u5217\u8868\u4fe1\u606f\n3. \u4e0b\u8f7d\u5355\u7bc7\u6587\u7ae0\u4fe1\u606f\n\n**\u6ce8\u610f\u70b9\uff1a**\n1. \u6211\u4eec\u4f1a\u6309\u7167\u4e13\u680fID\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u628a\u4e0b\u8f7d\u4e0b\u6765\u7684JSON\u683c\u5f0f\u7684\u6587\u4ef6\u90fd\u653e\u5230\u4e0b\u9762\n     \n     \u81f3\u4e8e\u4e3a\u4ec0\u4e48\uff1f **21\u4e16\u7eaa\u4ec0\u4e48\u6700\u91cd\u8981\uff0c \u6570\u636e!!**   \n     \u6709\u4e86\u6570\u636e\uff0c\u4f60\u53ef\u4ee5\u81ea\u5df1\u751f\u6210\u7f51\u9875\uff0c\u505a\u6210word, pdf\uff0c\u4ea6\u6216\u5176\u4ed6\uff0c\u65e0\u7ebf\u7684\u9009\u62e9\u3002\n\n\u672c\u7740\u672c\u6587\u4e3aPython\u7c7b\u522b\uff0c\u8fd8\u662f\u8d34\u4e00\u6bb5\u4e3b\u6d41\u7a0b\u4ee3\u7801\uff1a\n\u66f4\u591a\u7ec6\u8282\u67e5\u770b\u6e90\u7801 **[JueJinColToPdf](https://github.com/xiangwenhu/JueJinColToPdf)**\n\n```python\ndef downloadColumn(cid):\n\n    column = getColumn(cid);\n    print(\"\u83b7\u53d6\u4e13\u680f\u4fe1\u606f\u6210\u529f\uff0c\u4e13\u680f\u540d\u79f0\uff1a\", column[\"data\"][\"column_version\"][\"title\"]);\n    saveColumn(cid, json.dumps(column[\"data\"]))\n\n    articleList = getArticleList(cid)\n    saveArticleList(cid, json.dumps(articleList[\"data\"]))\n\n    articleIds = list(map(lambda item: item[\"article_id\"], articleList[\"data\"]))\n    print(\"\u83b7\u53d6\u4e13\u680f\u6587\u7ae0\u5217\u8868\u6210\u529f\uff1a\", articleIds)\n\n    for artId in articleIds:\n        artContent = getArticleContent(artId)\n        saveArticleContent(cid, artId, json.dumps(artContent[\"data\"]))\n        print(\"\u6587\u7ae0ID\u4e3a %s \u7684\u6587\u7ae0\u4e0b\u8f7d\u5b8c\u6bd5\" % artId)\n```\n\n\n## \u751f\u6210Html\u4ee3\u7801\n\n\u76f4\u63a5\u8bf4\u4e00\u4e9b\u95ee\u9898\n\n###  \u5982\u4f55\u628amarkdown\u683c\u5f0f\u8f6c\u4e3ahtml\u4ee3\u7801  \n   \u5de8\u4eba\u7684\u80a9\u4e0a`markdown`\u5e93\n   ```python\n    html += markdown.markdown(\n            removeScheme(article[\"article_info\"][\"mark_content\"]), extensions=extensions)\n   ```  \n\n### \u5982\u4f55\u9ad8\u4eae\u4ee3\u7801\n`Pygments`\u5e93\uff0c\n\n```js\npygmentize -S default -f html -a .codehilite > code.css\n```\n\u7136\u540e\u8bbe\u7f6e\u4e00\u4e2a`markdown`\u5e93\u7684extensions\n```python\nextensions = [  # \u6839\u636e\u4e0d\u540c\u6559\u7a0b\u52a0\u4e0a\u7684\u6269\u5c55\n    'markdown.extensions.extra',\n    'markdown.extensions.codehilite',  # \u4ee3\u7801\u9ad8\u4eae\u6269\u5c55\n    'markdown.extensions.toc',\n    'markdown.extensions.tables',\n    'markdown.extensions.fenced_code',\n]\n\n html += markdown.markdown(\n            removeScheme(article[\"article_info\"][\"mark_content\"]), extensions=extensions)\n```\n\n    \n### \u53bb\u6389\u6398\u91d1\u4e3b\u9898\u548c\u4ee3\u7801\u98ce\u683c\n\u5982\u679c\u4f60\u9009\u62e9\u4e86\u4e3b\u9898\u6216\u8005\u4ee3\u7801\u9ad8\u4eae\uff0cmarkdown\u5934\u90e8\u4f1a\u591a\u51fa\u5982\u4e0b\u7684\u5185\u5bb9\u3002\n```markdown\n---\ntheme: github\nhighlight: a11y-light\n---\n```\n \u65b9\u6848\uff1a\u6b63\u5219\u66ff\u6362\u6216\u8005\u5b57\u7b26\u4e32\u622a\u53d6\n   \n\n### \u5982\u4f55\u81ea\u5b9a\u4e49\u6837\u5f0f  \n\u65b0\u5efa\u4e00\u4e2a `extend.css`\n```css\n* {\n    font-size: 30px;  // \u9ed8\u8ba4\u5b57\u4f53\n}\n\nimg{\n    display: block;  \n    min-width: 50%; // \u56fe\u7247\u81f3\u5c1150%\n}\n```\n    \n### \u5982\u4f55\u751f\u6210\u4e00\u4e2a\u5927\u7684html\u6587\u4ef6  \n 1. \u521b\u5efa\u4e00\u4e2ahtml\u6587\u4ef6\uff0c\n 2. `core.css`\u548c`extend.css\u6587\u4ef6`\u5199\u5165html\u7684style\u6807\u7b7e\u91cc\u9762\n 3. \u5199\u5165\u5934\u90e8\u7684html\uff0c \n 4. \u5199\u5165markdown\u8f6c\u6362\u540e\u7684html,\n 5. \u6700\u540e\u5199\u5165\u5c3e\u90e8\u7684html\u3002   \n\n\n\n\n### \u5982\u679c\u6587\u7ae0\u592a\u591a\uff0c\u600e\u4e48\u529e    \n   \u4ee5\u4e00\u5b9a\u6587\u7ae0\u6570\u91cf\u5206\u5272\uff0c\u6bd4\u598220\u7bc7   \n   \u4ee5\u4e00\u5b9a\u6587\u5b57\u6570\u91cf\u5206\u5272\uff0c\u6bd4\u59825\u4e07\u5b57\n\n\u5728\u7b14\u8005\u7684\u4ee3\u7801\u4e2d\u662f\u672a\u5b9e\u73b0\u7684\uff0c\u4e0d\u8fc7\u95ee\u9898\u4e0d\u5927\uff0c\u6211\u4e4b\u524d\u6709\u7528html\u751f\u6210400\u591a\u9875\u7684pdf\u4e5f\u59a5\u59a5\u7684\u3002\n\n\n\n## \u8f6c\u4e3apdf\u6587\u4ef6\n\n\u501f\u52a9 [wkhtmltopdf.exe](https://wkhtmltopdf.org/), \u8fd9\u6b3e\u795e\u5947\u53ef\u4ee5\u628a\u7f51\u7edc\u5730\u5740\u6216\u8005\u672c\u5730html\u6587\u4ef6\u76f4\u63a5\u8f6c\u6362\u6210\u4e3apdf\u6587\u4ef6\u3002   \n\u6700\u91cd\u8981\u7684\u662f\u5176\u5b8c\u7f8e\u7684\u652f\u6301\u76ee\u5f55\u3002 \n\n\u4ece\u5b98\u65b9\u4e0b\u8f7d\u5b89\u88c5\uff0c\u7136\u540e\u914d\u7f6e\u4e00\u4e0b\u73af\u5883\u53d8\u91cf\u5c31\u53ef\u4ee5\uff0c\u4ee3\u7801\u561b\u5c31\u4e0b\u9762\u8fd9\u70b9\u3002\n\n```python\ndef genPdf(title):\n    # TODO:: \u9700\u8981\u914d\u7f6e\u5168\u5c40\u8def\u5f84\n    exePath = \"wkhtmltopdf.exe\"\n    sourcePath = \"./htmls/%s.html\" % title\n    targetPath = \"./pdfs/%s.pdf\" % title\n    cmd = '\"%s\" --outline-depth 2 --footer-center [page] \"%s\" \"%s\"' % (\n        exePath, sourcePath, targetPath)\n    print(cmd)\n    subprocess.call(cmd)\n```\n\n\n\n## \u5199\u5728\u6700\u540e\n\u5199\u4f5c\u4e0d\u6613\uff0c\u4f60\u7684\u4e00\u8d5e\u4e00\u8bc4\uff0c\u5c31\u662f\u6211\u6700\u5927\u7684\u52a8\u529b\u3002\n"}, "author_user_info": {"user_id": "131597122679661", "user_name": "\u4e91\u7684\u4e16\u754c", "company": "\u516c\u53f7\uff1a\u4e91\u7684\u7a0b\u5e8f\u4e16\u754c", "job_title": "", "avatar_large": "https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/f1a9f122e925aeef5e4534ff7f706729~300x300.image", "level": 5, "description": "\u5929\u7a7a\u7cfb\u3002\u770b\u4e16\u754c\uff0c\u542c\u4e16\u754c\uff0c\u95ee\u4e16\u754c\u3002  \n\u5fae\u4fe1\uff1adirge-cloud", "followee_count": 55, "follower_count": 1165, "post_article_count": 57, "digg_article_count": 1969, "got_digg_count": 9433, "got_view_count": 304246, "post_shortmsg_count": 8, "digg_shortmsg_count": 4, "isfollowed": false, "favorable_author": 1, "power": 12475, "study_point": 0, "university": {"university_id": "0", "name": "", "logo": ""}, "major": {"major_id": "0", "parent_id": "0", "name": ""}, "student_status": 0, "select_event_count": 0, "select_online_course_count": 0, "identity": 0, "is_select_annual": false, "select_annual_rank": 0, "annual_list_type": 0, "extraMap": {}, "is_logout": 0}, "category": {"category_id": "6809637769959178254", "category_name": "\u540e\u7aef", "category_url": "backend", "rank": 1, "back_ground": "https://lc-mhke0kuv.cn-n1.lcfile.com/fb3b208d06e6fe32.png", "icon": "https://lc-mhke0kuv.cn-n1.lcfile.com/a2ec01b816abd4c5.png", "ctime": 1457483880, "mtime": 1432503193, "show_type": 3, "item_type": 2, "promote_tag_cap": 4, "promote_priority": 1}, "tags": [{"id": 2546527, "tag_id": "6809640408797167623", "tag_name": "\u540e\u7aef", "color": "#C679FF", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/d83da9d012ddb7ae85f4.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 1, "ctime": 1435971556, "mtime": 1632291470, "id_type": 9, "tag_alias": "", "post_article_count": 72367, "concern_user_count": 422496}, {"id": 2546556, "tag_id": "6809640448827588622", "tag_name": "Python", "color": "#356E9C", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/b51a1dacf9bb7883defe.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1436156327, "mtime": 1632291440, "id_type": 9, "tag_alias": "", "post_article_count": 25456, "concern_user_count": 213911}], "user_interact": {"id": 6990140519342932004, "omitempty": 2, "user_id": 0, "is_digg": false, "is_follow": false, "is_collect": false}, "org": {"org_info": null, "org_user": null, "is_followed": false}, "req_id": "202109221419060102040502193E00BA4B"}