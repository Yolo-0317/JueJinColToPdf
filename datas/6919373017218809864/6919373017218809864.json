{"article_id": "6919373017218809864", "article_info": {"article_id": "6919373017218809864", "user_id": "3544481220801815", "category_id": "6809637767543259144", "tag_ids": [6809640404791590919, 6809640407484334093, 6809640369764958215], "visible_level": 0, "link_url": "", "cover_image": "https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/399ff716b97f4ac1a91e39d883f7130c~tplv-k3u1fbpfcp-watermark.image", "is_gfw": 0, "title": "\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bVue\u7bc7 \uff08\u4e0a\uff09", "brief_content": "2021 \u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bVue\u7bc7\uff0c\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u7cfb\u5217\u6587\u7ae0\u7684Vue\u7bc7\uff0c\u957f\u671f\u66f4\u65b0\uff0c\u6b22\u8fce\u6536\u85cf\u3001\u70b9\u8d5e\uff01", "is_english": 0, "is_original": 1, "user_index": 0, "original_type": 0, "original_author": "", "content": "", "ctime": "1611042108", "mtime": "1630551885", "rtime": "-62135596800", "draft_id": "6917856615362199565", "view_count": 26843, "collect_count": 240, "digg_count": 192, "comment_count": 22, "hot_index": 1555, "is_hot": 0, "rank_index": 7.25e-06, "status": 1, "verify_status": 1, "audit_status": 2, "mark_content": "---\ntheme: fancy\n---\n\u8fd1\u671f\u6574\u7406\u4e86\u4e00\u4e0b\u9ad8\u9891\u7684\u524d\u7aef\u9762\u8bd5\u9898\uff0c\u5206\u4eab\u7ed9\u5927\u5bb6\u4e00\u8d77\u6765\u5b66\u4e60\u3002\u5982\u6709\u95ee\u9898\uff0c\u6b22\u8fce\u6307\u6b63\uff01\n\n\u7531\u4e8e\u6587\u7ae0\u5b57\u6570\u9650\u5236\uff0c\u6240\u4ee5\u5c06Vue\u7bc7\u5206\u4e3a\u4e86\u4e0a\u4e0b\u4e24\u7bc7\uff0c\u5269\u4f59\u5185\u5bb9\u5728\u4e0b\u7bc7\u3002\n\n\n\n#### \u524d\u7aef\u9762\u8bd5\u9898\u7cfb\u5217\u6587\u7ae0\uff1a\n\u30101\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bHTML\u7bc7](https://juejin.cn/post/6905294475539513352)\n\n\u30102\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bCSS\u7bc7](https://juejin.cn/post/6905539198107942919)\n\n\u30103\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bJavaScript\u7bc7\uff08\u4e0a\uff09](https://juejin.cn/post/6940945178899251230)\n\n\u30104\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bJavaScript\u7bc7\uff08\u4e0b\uff09](https://juejin.cn/post/6941194115392634888)\n\n\u30105\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bVue\u7bc7\uff08\u4e0a\uff09](https://juejin.cn/post/6919373017218809864)\n\n\u30106\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bVue\u7bc7\uff08\u4e0b\uff09](https://juejin.cn/post/6964779204462247950/)\n\n\u30107\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bReact\u7bc7\uff08\u4e0a\uff09](https://juejin.cn/post/6941546135827775525)\n\n\u30108\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4bReact\u7bc7\uff08\u4e0b\uff09](https://juejin.cn/post/6940942549305524238)\n\n\u30109\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4b\u8ba1\u7b97\u673a\u7f51\u7edc\u7bc7](https://juejin.cn/post/6908327746473033741)\n\n\u301010\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4b\u6d4f\u89c8\u5668\u539f\u7406\u7bc7](https://juejin.cn/post/6916157109906341902/)\n\n\u301011\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4b\u6027\u80fd\u4f18\u5316\u7bc7](https://juejin.cn/post/6941278592215515143)\n\n\u301012\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4b\u624b\u5199\u4ee3\u7801\u7bc7](https://juejin.cn/post/6946136940164939813)\n\n\u301013\u3011[\u300c2021\u300d\u9ad8\u9891\u524d\u7aef\u9762\u8bd5\u9898\u6c47\u603b\u4e4b\u4ee3\u7801\u8f93\u51fa\u7ed3\u679c\u7bc7](https://juejin.cn/post/6959043611161952269)\n\n![Vue\u9762\u8bd5\u9898.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a44f18af182434d901b74df18491dea~tplv-k3u1fbpfcp-zoom-1.image)\n\n## \u4e00\u3001Vue \u57fa\u7840\n\n### 1. Vue\u7684\u57fa\u672c\u539f\u7406\n\n\u5f53\u4e00\u4e2aVue\u5b9e\u4f8b\u521b\u5efa\u65f6\uff0cVue\u4f1a\u904d\u5386data\u4e2d\u7684\u5c5e\u6027\uff0c\u7528 Object.defineProperty\uff08vue3.0\u4f7f\u7528proxy \uff09\u5c06\u5b83\u4eec\u8f6c\u4e3a getter/setter\uff0c\u5e76\u4e14\u5728\u5185\u90e8\u8ffd\u8e2a\u76f8\u5173\u4f9d\u8d56\uff0c\u5728\u5c5e\u6027\u88ab\u8bbf\u95ee\u548c\u4fee\u6539\u65f6\u901a\u77e5\u53d8\u5316\u3002 \u6bcf\u4e2a\u7ec4\u4ef6\u5b9e\u4f8b\u90fd\u6709\u76f8\u5e94\u7684 watcher \u7a0b\u5e8f\u5b9e\u4f8b\uff0c\u5b83\u4f1a\u5728\u7ec4\u4ef6\u6e32\u67d3\u7684\u8fc7\u7a0b\u4e2d\u628a\u5c5e\u6027\u8bb0\u5f55\u4e3a\u4f9d\u8d56\uff0c\u4e4b\u540e\u5f53\u4f9d\u8d56\u9879\u7684setter\u88ab\u8c03\u7528\u65f6\uff0c\u4f1a\u901a\u77e5watcher\u91cd\u65b0\u8ba1\u7b97\uff0c\u4ece\u800c\u81f4\u4f7f\u5b83\u5173\u8054\u7684\u7ec4\u4ef6\u5f97\u4ee5\u66f4\u65b0\u3002\n![0_tB3MJCzh_cB6i3mS-1.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1b16025a35b4cd2b343a92e740621b7~tplv-k3u1fbpfcp-zoom-1.image)\n\n### 2. \u53cc\u5411\u6570\u636e\u7ed1\u5b9a\u7684\u539f\u7406\n\nVue.js \u662f\u91c7\u7528**\u6570\u636e\u52ab\u6301**\u7ed3\u5408**\u53d1\u5e03\u8005-\u8ba2\u9605\u8005\u6a21\u5f0f**\u7684\u65b9\u5f0f\uff0c\u901a\u8fc7Object.defineProperty()\u6765\u52ab\u6301\u5404\u4e2a\u5c5e\u6027\u7684setter\uff0cgetter\uff0c\u5728\u6570\u636e\u53d8\u52a8\u65f6\u53d1\u5e03\u6d88\u606f\u7ed9\u8ba2\u9605\u8005\uff0c\u89e6\u53d1\u76f8\u5e94\u7684\u76d1\u542c\u56de\u8c03\u3002\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a\n\n1. \u9700\u8981observe\u7684\u6570\u636e\u5bf9\u8c61\u8fdb\u884c\u9012\u5f52\u904d\u5386\uff0c\u5305\u62ec\u5b50\u5c5e\u6027\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u90fd\u52a0\u4e0asetter\u548cgetter\u8fd9\u6837\u7684\u8bdd\uff0c\u7ed9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u67d0\u4e2a\u503c\u8d4b\u503c\uff0c\u5c31\u4f1a\u89e6\u53d1setter\uff0c\u90a3\u4e48\u5c31\u80fd\u76d1\u542c\u5230\u4e86\u6570\u636e\u53d8\u5316\n1. compile\u89e3\u6790\u6a21\u677f\u6307\u4ee4\uff0c\u5c06\u6a21\u677f\u4e2d\u7684\u53d8\u91cf\u66ff\u6362\u6210\u6570\u636e\uff0c\u7136\u540e\u521d\u59cb\u5316\u6e32\u67d3\u9875\u9762\u89c6\u56fe\uff0c\u5e76\u5c06\u6bcf\u4e2a\u6307\u4ee4\u5bf9\u5e94\u7684\u8282\u70b9\u7ed1\u5b9a\u66f4\u65b0\u51fd\u6570\uff0c\u6dfb\u52a0\u76d1\u542c\u6570\u636e\u7684\u8ba2\u9605\u8005\uff0c\u4e00\u65e6\u6570\u636e\u6709\u53d8\u52a8\uff0c\u6536\u5230\u901a\u77e5\uff0c\u66f4\u65b0\u89c6\u56fe\n1. Watcher\u8ba2\u9605\u8005\u662fObserver\u548cCompile\u4e4b\u95f4\u901a\u4fe1\u7684\u6865\u6881\uff0c\u4e3b\u8981\u505a\u7684\u4e8b\u60c5\u662f: \u2460\u5728\u81ea\u8eab\u5b9e\u4f8b\u5316\u65f6\u5f80\u5c5e\u6027\u8ba2\u9605\u5668(dep)\u91cc\u9762\u6dfb\u52a0\u81ea\u5df1 \u2461\u81ea\u8eab\u5fc5\u987b\u6709\u4e00\u4e2aupdate()\u65b9\u6cd5 \u2462\u5f85\u5c5e\u6027\u53d8\u52a8dep.notice()\u901a\u77e5\u65f6\uff0c\u80fd\u8c03\u7528\u81ea\u8eab\u7684update()\u65b9\u6cd5\uff0c\u5e76\u89e6\u53d1Compile\u4e2d\u7ed1\u5b9a\u7684\u56de\u8c03\uff0c\u5219\u529f\u6210\u8eab\u9000\u3002\n1. MVVM\u4f5c\u4e3a\u6570\u636e\u7ed1\u5b9a\u7684\u5165\u53e3\uff0c\u6574\u5408Observer\u3001Compile\u548cWatcher\u4e09\u8005\uff0c\u901a\u8fc7Observer\u6765\u76d1\u542c\u81ea\u5df1\u7684model\u6570\u636e\u53d8\u5316\uff0c\u901a\u8fc7Compile\u6765\u89e3\u6790\u7f16\u8bd1\u6a21\u677f\u6307\u4ee4\uff0c\u6700\u7ec8\u5229\u7528Watcher\u642d\u8d77Observer\u548cCompile\u4e4b\u95f4\u7684\u901a\u4fe1\u6865\u6881\uff0c\u8fbe\u5230\u6570\u636e\u53d8\u5316 -> \u89c6\u56fe\u66f4\u65b0\uff1b\u89c6\u56fe\u4ea4\u4e92\u53d8\u5316(input) -> \u6570\u636emodel\u53d8\u66f4\u7684\u53cc\u5411\u7ed1\u5b9a\u6548\u679c\u3002\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a286bdc076ae425fb9591bb8c4153240~tplv-k3u1fbpfcp-zoom-1.image)\n\n### 3. \u4f7f\u7528 Object.defineProperty() \u6765\u8fdb\u884c\u6570\u636e\u52ab\u6301\u6709\u4ec0\u4e48\u7f3a\u70b9\uff1f\n\n\u5728\u5bf9\u4e00\u4e9b\u5c5e\u6027\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u65e0\u6cd5\u62e6\u622a\uff0c\u6bd4\u5982\u901a\u8fc7\u4e0b\u6807\u65b9\u5f0f\u4fee\u6539\u6570\u7ec4\u6570\u636e\u6216\u8005\u7ed9\u5bf9\u8c61\u65b0\u589e\u5c5e\u6027\uff0c\u8fd9\u90fd\u4e0d\u80fd\u89e6\u53d1\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u56e0\u4e3a\u00a0Object.defineProperty\u00a0\u4e0d\u80fd\u62e6\u622a\u5230\u8fd9\u4e9b\u64cd\u4f5c\u3002\u66f4\u7cbe\u786e\u7684\u6765\u8bf4\uff0c\u5bf9\u4e8e\u6570\u7ec4\u800c\u8a00\uff0c\u5927\u90e8\u5206\u64cd\u4f5c\u90fd\u662f\u62e6\u622a\u4e0d\u5230\u7684\uff0c\u53ea\u662f Vue \u5185\u90e8\u901a\u8fc7\u91cd\u5199\u51fd\u6570\u7684\u65b9\u5f0f\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\n\n\n\u5728 Vue3.0 \u4e2d\u5df2\u7ecf\u4e0d\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u4e86\uff0c\u800c\u662f\u901a\u8fc7\u4f7f\u7528 Proxy \u5bf9\u5bf9\u8c61\u8fdb\u884c\u4ee3\u7406\uff0c\u4ece\u800c\u5b9e\u73b0\u6570\u636e\u52ab\u6301\u3002\u4f7f\u7528Proxy \u7684\u597d\u5904\u662f\u5b83\u53ef\u4ee5\u5b8c\u7f8e\u7684\u76d1\u542c\u5230\u4efb\u4f55\u65b9\u5f0f\u7684\u6570\u636e\u6539\u53d8\uff0c\u552f\u4e00\u7684\u7f3a\u70b9\u662f\u517c\u5bb9\u6027\u7684\u95ee\u9898\uff0c\u56e0\u4e3a Proxy \u662f ES6 \u7684\u8bed\u6cd5\u3002\n\n### 4. MVVM\u3001MVC\u3001MVP\u7684\u533a\u522b\n\nMVC\u3001MVP \u548c MVVM \u662f\u4e09\u79cd\u5e38\u89c1\u7684\u8f6f\u4ef6\u67b6\u6784\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4e3b\u8981\u901a\u8fc7\u5206\u79bb\u5173\u6ce8\u70b9\u7684\u65b9\u5f0f\u6765\u7ec4\u7ec7\u4ee3\u7801\u7ed3\u6784\uff0c\u4f18\u5316\u5f00\u53d1\u6548\u7387\u3002\n\n\n\u5728\u5f00\u53d1\u5355\u9875\u9762\u5e94\u7528\u65f6\uff0c\u5f80\u5f80\u4e00\u4e2a\u8def\u7531\u9875\u9762\u5bf9\u5e94\u4e86\u4e00\u4e2a\u811a\u672c\u6587\u4ef6\uff0c\u6240\u6709\u7684\u9875\u9762\u903b\u8f91\u90fd\u5728\u4e00\u4e2a\u811a\u672c\u6587\u4ef6\u91cc\u3002\u9875\u9762\u7684\u6e32\u67d3\u3001\u6570\u636e\u7684\u83b7\u53d6\uff0c\u5bf9\u7528\u6237\u4e8b\u4ef6\u7684\u54cd\u5e94\u6240\u6709\u7684\u5e94\u7528\u903b\u8f91\u90fd\u6df7\u5408\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u5728\u5f00\u53d1\u7b80\u5355\u9879\u76ee\u65f6\uff0c\u53ef\u80fd\u770b\u4e0d\u51fa\u4ec0\u4e48\u95ee\u9898\uff0c\u5982\u679c\u9879\u76ee\u53d8\u5f97\u590d\u6742\uff0c\u90a3\u4e48\u6574\u4e2a\u6587\u4ef6\u5c31\u4f1a\u53d8\u5f97\u5197\u957f\u3001\u6df7\u4e71\uff0c\u8fd9\u6837\u5bf9\u9879\u76ee\u5f00\u53d1\u548c\u540e\u671f\u7684\u9879\u76ee\u7ef4\u62a4\u662f\u975e\u5e38\u4e0d\u5229\u7684\u3002\n\n\n**\uff081\uff09MVC**\n\nMVC \u901a\u8fc7\u5206\u79bb Model\u3001View \u548c Controller \u7684\u65b9\u5f0f\u6765\u7ec4\u7ec7\u4ee3\u7801\u7ed3\u6784\u3002\u5176\u4e2d View \u8d1f\u8d23\u9875\u9762\u7684\u663e\u793a\u903b\u8f91\uff0cModel \u8d1f\u8d23\u5b58\u50a8\u9875\u9762\u7684\u4e1a\u52a1\u6570\u636e\uff0c\u4ee5\u53ca\u5bf9\u76f8\u5e94\u6570\u636e\u7684\u64cd\u4f5c\u3002\u5e76\u4e14 View \u548c Model \u5e94\u7528\u4e86\u89c2\u5bdf\u8005\u6a21\u5f0f\uff0c\u5f53 Model \u5c42\u53d1\u751f\u6539\u53d8\u7684\u65f6\u5019\u5b83\u4f1a\u901a\u77e5\u6709\u5173 View \u5c42\u66f4\u65b0\u9875\u9762\u3002Controller \u5c42\u662f View \u5c42\u548c Model \u5c42\u7684\u7ebd\u5e26\uff0c\u5b83\u4e3b\u8981\u8d1f\u8d23\u7528\u6237\u4e0e\u5e94\u7528\u7684\u54cd\u5e94\u64cd\u4f5c\uff0c\u5f53\u7528\u6237\u4e0e\u9875\u9762\u4ea7\u751f\u4ea4\u4e92\u7684\u65f6\u5019\uff0cController \u4e2d\u7684\u4e8b\u4ef6\u89e6\u53d1\u5668\u5c31\u5f00\u59cb\u5de5\u4f5c\u4e86\uff0c\u901a\u8fc7\u8c03\u7528 Model \u5c42\uff0c\u6765\u5b8c\u6210\u5bf9 Model \u7684\u4fee\u6539\uff0c\u7136\u540e Model \u5c42\u518d\u53bb\u901a\u77e5 View \u5c42\u66f4\u65b0\u3002\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a65e1b9145894647a25788caf12ddd26~tplv-k3u1fbpfcp-zoom-1.image)\n\n\uff082\uff09MVVM\n\nMVVM \u5206\u4e3a Model\u3001View\u3001ViewModel\uff1a\n\n- Model\u4ee3\u8868\u6570\u636e\u6a21\u578b\uff0c\u6570\u636e\u548c\u4e1a\u52a1\u903b\u8f91\u90fd\u5728Model\u5c42\u4e2d\u5b9a\u4e49\uff1b\n- View\u4ee3\u8868UI\u89c6\u56fe\uff0c\u8d1f\u8d23\u6570\u636e\u7684\u5c55\u793a\uff1b\n- ViewModel\u8d1f\u8d23\u76d1\u542cModel\u4e2d\u6570\u636e\u7684\u6539\u53d8\u5e76\u4e14\u63a7\u5236\u89c6\u56fe\u7684\u66f4\u65b0\uff0c\u5904\u7406\u7528\u6237\u4ea4\u4e92\u64cd\u4f5c\uff1b\n\n\n\nModel\u548cView\u5e76\u65e0\u76f4\u63a5\u5173\u8054\uff0c\u800c\u662f\u901a\u8fc7ViewModel\u6765\u8fdb\u884c\u8054\u7cfb\u7684\uff0cModel\u548cViewModel\u4e4b\u95f4\u6709\u7740\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\u7684\u8054\u7cfb\u3002\u56e0\u6b64\u5f53Model\u4e2d\u7684\u6570\u636e\u6539\u53d8\u65f6\u4f1a\u89e6\u53d1View\u5c42\u7684\u5237\u65b0\uff0cView\u4e2d\u7531\u4e8e\u7528\u6237\u4ea4\u4e92\u64cd\u4f5c\u800c\u6539\u53d8\u7684\u6570\u636e\u4e5f\u4f1a\u5728Model\u4e2d\u540c\u6b65\u3002\n\n\n\u8fd9\u79cd\u6a21\u5f0f\u5b9e\u73b0\u4e86 Model\u548cView\u7684\u6570\u636e\u81ea\u52a8\u540c\u6b65\uff0c\u56e0\u6b64\u5f00\u53d1\u8005\u53ea\u9700\u8981\u4e13\u6ce8\u4e8e\u6570\u636e\u7684\u7ef4\u62a4\u64cd\u4f5c\u5373\u53ef\uff0c\u800c\u4e0d\u9700\u8981\u81ea\u5df1\u64cd\u4f5cDOM\u3002\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5ce15b7b704483eb91ee1f5d1d64786~tplv-k3u1fbpfcp-zoom-1.image)\n\n**\uff083\uff09MVP**\n\nMVP \u6a21\u5f0f\u4e0e MVC \u552f\u4e00\u4e0d\u540c\u7684\u5728\u4e8e Presenter \u548c Controller\u3002\u5728 MVC \u6a21\u5f0f\u4e2d\u4f7f\u7528\u89c2\u5bdf\u8005\u6a21\u5f0f\uff0c\u6765\u5b9e\u73b0\u5f53 Model \u5c42\u6570\u636e\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u901a\u77e5 View \u5c42\u7684\u66f4\u65b0\u3002\u8fd9\u6837 View \u5c42\u548c Model \u5c42\u8026\u5408\u5728\u4e00\u8d77\uff0c\u5f53\u9879\u76ee\u903b\u8f91\u53d8\u5f97\u590d\u6742\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u4ee3\u7801\u7684\u6df7\u4e71\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u5bf9\u4ee3\u7801\u7684\u590d\u7528\u6027\u9020\u6210\u4e00\u4e9b\u95ee\u9898\u3002MVP \u7684\u6a21\u5f0f\u901a\u8fc7\u4f7f\u7528 Presenter \u6765\u5b9e\u73b0\u5bf9 View \u5c42\u548c Model \u5c42\u7684\u89e3\u8026\u3002MVC \u4e2d\u7684Controller \u53ea\u77e5\u9053 Model \u7684\u63a5\u53e3\uff0c\u56e0\u6b64\u5b83\u6ca1\u6709\u529e\u6cd5\u63a7\u5236 View \u5c42\u7684\u66f4\u65b0\uff0cMVP \u6a21\u5f0f\u4e2d\uff0cView \u5c42\u7684\u63a5\u53e3\u66b4\u9732\u7ed9\u4e86 Presenter \u56e0\u6b64\u53ef\u4ee5\u5728 Presenter \u4e2d\u5c06 Model \u7684\u53d8\u5316\u548c View \u7684\u53d8\u5316\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u4ee5\u6b64\u6765\u5b9e\u73b0 View \u548c Model \u7684\u540c\u6b65\u66f4\u65b0\u3002\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86\u5bf9 View \u548c Model \u7684\u89e3\u8026\uff0cPresenter \u8fd8\u5305\u542b\u4e86\u5176\u4ed6\u7684\u54cd\u5e94\u903b\u8f91\u3002\n\n### 5. Computed \u548c Watch \u7684\u533a\u522b\n\n**\u5bf9\u4e8eComputed\uff1a**\n\n- \u5b83\u652f\u6301\u7f13\u5b58\uff0c\u53ea\u6709\u4f9d\u8d56\u7684\u6570\u636e\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97\n- \u4e0d\u652f\u6301\u5f02\u6b65\uff0c\u5f53Computed\u4e2d\u6709\u5f02\u6b65\u64cd\u4f5c\u65f6\uff0c\u65e0\u6cd5\u76d1\u542c\u6570\u636e\u7684\u53d8\u5316\n- computed\u7684\u503c\u4f1a\u9ed8\u8ba4\u8d70\u7f13\u5b58\uff0c\u8ba1\u7b97\u5c5e\u6027\u662f\u57fa\u4e8e\u5b83\u4eec\u7684\u54cd\u5e94\u5f0f\u4f9d\u8d56\u8fdb\u884c\u7f13\u5b58\u7684\uff0c\u4e5f\u5c31\u662f\u57fa\u4e8edata\u58f0\u660e\u8fc7\uff0c\u6216\u8005\u7236\u7ec4\u4ef6\u4f20\u9012\u8fc7\u6765\u7684props\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u8ba1\u7b97\u7684\u3002\n- \u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u662f\u7531\u5176\u4ed6\u5c5e\u6027\u8ba1\u7b97\u800c\u6765\u7684\uff0c\u8fd9\u4e2a\u5c5e\u6027\u4f9d\u8d56\u5176\u4ed6\u7684\u5c5e\u6027\uff0c\u4e00\u822c\u4f1a\u4f7f\u7528computed\n- \u5982\u679ccomputed\u5c5e\u6027\u7684\u5c5e\u6027\u503c\u662f\u51fd\u6570\uff0c\u90a3\u4e48\u9ed8\u8ba4\u4f7f\u7528get\u65b9\u6cd5\uff0c\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5c31\u662f\u5c5e\u6027\u7684\u5c5e\u6027\u503c\uff1b\u5728computed\u4e2d\uff0c\u5c5e\u6027\u6709\u4e00\u4e2aget\u65b9\u6cd5\u548c\u4e00\u4e2aset\u65b9\u6cd5\uff0c\u5f53\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u8c03\u7528set\u65b9\u6cd5\u3002\n\n\n\n**\u5bf9\u4e8eWatch\uff1a**\n\n- \u5b83\u4e0d\u652f\u6301\u7f13\u5b58\uff0c\u6570\u636e\u53d8\u5316\u65f6\uff0c\u5b83\u5c31\u4f1a\u89e6\u53d1\u76f8\u5e94\u7684\u64cd\u4f5c\n- \u652f\u6301\u5f02\u6b65\u76d1\u542c\n- \u76d1\u542c\u7684\u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6700\u65b0\u7684\u503c\uff0c\u7b2c\u4e8c\u4e2a\u662f\u53d8\u5316\u4e4b\u524d\u7684\u503c\n- \u5f53\u4e00\u4e2a\u5c5e\u6027\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5c31\u9700\u8981\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\n- \u76d1\u542c\u6570\u636e\u5fc5\u987b\u662fdata\u4e2d\u58f0\u660e\u7684\u6216\u8005\u7236\u7ec4\u4ef6\u4f20\u9012\u8fc7\u6765\u7684props\u4e2d\u7684\u6570\u636e\uff0c\u5f53\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u89e6\u53d1\u5176\u4ed6\u64cd\u4f5c\uff0c\u51fd\u6570\u6709\u4e24\u4e2a\u7684\u53c2\u6570\uff1a\n  - immediate\uff1a\u7ec4\u4ef6\u52a0\u8f7d\u7acb\u5373\u89e6\u53d1\u56de\u8c03\u51fd\u6570\n  - deep\uff1a\u6df1\u5ea6\u76d1\u542c\uff0c\u53d1\u73b0\u6570\u636e\u5185\u90e8\u7684\u53d8\u5316\uff0c\u5728\u590d\u6742\u6570\u636e\u7c7b\u578b\u4e2d\u4f7f\u7528\uff0c\u4f8b\u5982\u6570\u7ec4\u4e2d\u7684\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cdeep\u65e0\u6cd5\u76d1\u542c\u5230\u6570\u7ec4\u548c\u5bf9\u8c61\u5185\u90e8\u7684\u53d8\u5316\u3002\n\n\u5f53\u60f3\u8981\u6267\u884c\u5f02\u6b65\u6216\u8005\u6602\u8d35\u7684\u64cd\u4f5c\u4ee5\u54cd\u5e94\u4e0d\u65ad\u7684\u53d8\u5316\u65f6\uff0c\u5c31\u9700\u8981\u4f7f\u7528watch\u3002\n\n\n**\u603b\u7ed3\uff1a**\n\n- computed \u8ba1\u7b97\u5c5e\u6027 : \u4f9d\u8d56\u5176\u5b83\u5c5e\u6027\u503c\uff0c\u5e76\u4e14 computed \u7684\u503c\u6709\u7f13\u5b58\uff0c\u53ea\u6709\u5b83\u4f9d\u8d56\u7684\u5c5e\u6027\u503c\u53d1\u751f\u6539\u53d8\uff0c\u4e0b\u4e00\u6b21\u83b7\u53d6 computed \u7684\u503c\u65f6\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97 computed \u7684\u503c\u3002 \n- watch \u4fa6\u542c\u5668 : \u66f4\u591a\u7684\u662f**\u89c2\u5bdf**\u7684\u4f5c\u7528\uff0c**\u65e0\u7f13\u5b58\u6027**\uff0c\u7c7b\u4f3c\u4e8e\u67d0\u4e9b\u6570\u636e\u7684\u76d1\u542c\u56de\u8c03\uff0c\u6bcf\u5f53\u76d1\u542c\u7684\u6570\u636e\u53d8\u5316\u65f6\u90fd\u4f1a\u6267\u884c\u56de\u8c03\u8fdb\u884c\u540e\u7eed\u64cd\u4f5c\u3002 \n\n\n\n**\u8fd0\u7528\u573a\u666f\uff1a**\n\n- \u5f53\u9700\u8981\u8fdb\u884c\u6570\u503c\u8ba1\u7b97,\u5e76\u4e14\u4f9d\u8d56\u4e8e\u5176\u5b83\u6570\u636e\u65f6\uff0c\u5e94\u8be5\u4f7f\u7528 computed\uff0c\u56e0\u4e3a\u53ef\u4ee5\u5229\u7528 computed \u7684\u7f13\u5b58\u7279\u6027\uff0c\u907f\u514d\u6bcf\u6b21\u83b7\u53d6\u503c\u65f6\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\u3002 \n- \u5f53\u9700\u8981\u5728\u6570\u636e\u53d8\u5316\u65f6\u6267\u884c\u5f02\u6b65\u6216\u5f00\u9500\u8f83\u5927\u7684\u64cd\u4f5c\u65f6\uff0c\u5e94\u8be5\u4f7f\u7528 watch\uff0c\u4f7f\u7528 watch \u9009\u9879\u5141\u8bb8\u6267\u884c\u5f02\u6b65\u64cd\u4f5c ( \u8bbf\u95ee\u4e00\u4e2a API )\uff0c\u9650\u5236\u6267\u884c\u8be5\u64cd\u4f5c\u7684\u9891\u7387\uff0c\u5e76\u5728\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\u524d\uff0c\u8bbe\u7f6e\u4e2d\u95f4\u72b6\u6001\u3002\u8fd9\u4e9b\u90fd\u662f\u8ba1\u7b97\u5c5e\u6027\u65e0\u6cd5\u505a\u5230\u7684\u3002 \n\n### 6. Computed \u548c Methods \u7684\u533a\u522b\n\n\u53ef\u4ee5\u5c06\u540c\u4e00\u51fd\u6570\u5b9a\u4e49\u4e3a\u4e00\u4e2a method \u6216\u8005\u4e00\u4e2a\u8ba1\u7b97\u5c5e\u6027\u3002\u5bf9\u4e8e\u6700\u7ec8\u7684\u7ed3\u679c\uff0c\u4e24\u79cd\u65b9\u5f0f\u662f\u76f8\u540c\u7684 \n\n\n**\u4e0d\u540c\u70b9\uff1a**\n\n- computed: \u8ba1\u7b97\u5c5e\u6027\u662f\u57fa\u4e8e\u5b83\u4eec\u7684\u4f9d\u8d56\u8fdb\u884c\u7f13\u5b58\u7684\uff0c\u53ea\u6709\u5728\u5b83\u7684\u76f8\u5173\u4f9d\u8d56\u53d1\u751f\u6539\u53d8\u65f6\u624d\u4f1a\u91cd\u65b0\u6c42\u503c\uff1b\n- method \u8c03\u7528\u603b\u4f1a\u6267\u884c\u8be5\u51fd\u6570\u3002\n\n### 7. slot\u662f\u4ec0\u4e48\uff1f\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f\u539f\u7406\u662f\u4ec0\u4e48\uff1f\n\nslot\u53c8\u540d\u63d2\u69fd\uff0c\u662fVue\u7684\u5185\u5bb9\u5206\u53d1\u673a\u5236\uff0c\u7ec4\u4ef6\u5185\u90e8\u7684\u6a21\u677f\u5f15\u64ce\u4f7f\u7528slot\u5143\u7d20\u4f5c\u4e3a\u627f\u8f7d\u5206\u53d1\u5185\u5bb9\u7684\u51fa\u53e3\u3002\u63d2\u69fdslot\u662f\u5b50\u7ec4\u4ef6\u7684\u4e00\u4e2a\u6a21\u677f\u6807\u7b7e\u5143\u7d20\uff0c\u800c\u8fd9\u4e00\u4e2a\u6807\u7b7e\u5143\u7d20\u662f\u5426\u663e\u793a\uff0c\u4ee5\u53ca\u600e\u4e48\u663e\u793a\u662f\u7531\u7236\u7ec4\u4ef6\u51b3\u5b9a\u7684\u3002slot\u53c8\u5206\u4e09\u7c7b\uff0c\u9ed8\u8ba4\u63d2\u69fd\uff0c\u5177\u540d\u63d2\u69fd\u548c\u4f5c\u7528\u57df\u63d2\u69fd\u3002\n\n- \u9ed8\u8ba4\u63d2\u69fd\uff1a\u53c8\u540d\u533f\u540d\u67e5\u6284\uff0c\u5f53slot\u6ca1\u6709\u6307\u5b9aname\u5c5e\u6027\u503c\u7684\u65f6\u5019\u4e00\u4e2a\u9ed8\u8ba4\u663e\u793a\u63d2\u69fd\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u5185\u53ea\u6709\u6709\u4e00\u4e2a\u533f\u540d\u63d2\u69fd\u3002\n- \u5177\u540d\u63d2\u69fd\uff1a\u5e26\u6709\u5177\u4f53\u540d\u5b57\u7684\u63d2\u69fd\uff0c\u4e5f\u5c31\u662f\u5e26\u6709name\u5c5e\u6027\u7684slot\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u51fa\u73b0\u591a\u4e2a\u5177\u540d\u63d2\u69fd\u3002\n- \u4f5c\u7528\u57df\u63d2\u69fd\uff1a\u9ed8\u8ba4\u63d2\u69fd\u3001\u5177\u540d\u63d2\u69fd\u7684\u4e00\u4e2a\u53d8\u4f53\uff0c\u53ef\u4ee5\u662f\u533f\u540d\u63d2\u69fd\uff0c\u4e5f\u53ef\u4ee5\u662f\u5177\u540d\u63d2\u69fd\uff0c\u8be5\u63d2\u69fd\u7684\u4e0d\u540c\u70b9\u662f\u5728\u5b50\u7ec4\u4ef6\u6e32\u67d3\u4f5c\u7528\u57df\u63d2\u69fd\u65f6\uff0c\u53ef\u4ee5\u5c06\u5b50\u7ec4\u4ef6\u5185\u90e8\u7684\u6570\u636e\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6\uff0c\u8ba9\u7236\u7ec4\u4ef6\u6839\u636e\u5b50\u7ec4\u4ef6\u7684\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636e\u51b3\u5b9a\u5982\u4f55\u6e32\u67d3\u8be5\u63d2\u69fd\u3002\n\n\n\n\u5b9e\u73b0\u539f\u7406\uff1a\u5f53\u5b50\u7ec4\u4ef6vm\u5b9e\u4f8b\u5316\u65f6\uff0c\u83b7\u53d6\u5230\u7236\u7ec4\u4ef6\u4f20\u5165\u7684slot\u6807\u7b7e\u7684\u5185\u5bb9\uff0c\u5b58\u653e\u5728`vm.$slot`\u4e2d\uff0c\u9ed8\u8ba4\u63d2\u69fd\u4e3a`vm.$slot.default`\uff0c\u5177\u540d\u63d2\u69fd\u4e3a`vm.$slot.xxx`\uff0cxxx \u4e3a\u63d2\u69fd\u540d\uff0c\u5f53\u7ec4\u4ef6\u6267\u884c\u6e32\u67d3\u51fd\u6570\u65f6\u5019\uff0c\u9047\u5230slot\u6807\u7b7e\uff0c\u4f7f\u7528`$slot`\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u66ff\u6362\uff0c\u6b64\u65f6\u53ef\u4ee5\u4e3a\u63d2\u69fd\u4f20\u9012\u6570\u636e\uff0c\u82e5\u5b58\u5728\u6570\u636e\uff0c\u5219\u53ef\u79f0\u8be5\u63d2\u69fd\u4e3a\u4f5c\u7528\u57df\u63d2\u69fd\u3002\n\n### 8. \u8fc7\u6ee4\u5668\u7684\u4f5c\u7528\uff0c\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u8fc7\u6ee4\u5668\n\n\u6839\u636e\u8fc7\u6ee4\u5668\u7684\u540d\u79f0\uff0c\u8fc7\u6ee4\u5668\u662f\u7528\u6765\u8fc7\u6ee4\u6570\u636e\u7684\uff0c\u5728Vue\u4e2d\u4f7f\u7528`filters`\u6765\u8fc7\u6ee4\u6570\u636e\uff0c`filters`\u4e0d\u4f1a\u4fee\u6539\u6570\u636e\uff0c\u800c\u662f\u8fc7\u6ee4\u6570\u636e\uff0c\u6539\u53d8\u7528\u6237\u770b\u5230\u7684\u8f93\u51fa\uff08\u8ba1\u7b97\u5c5e\u6027 `computed` \uff0c\u65b9\u6cd5 `methods` \u90fd\u662f\u901a\u8fc7\u4fee\u6539\u6570\u636e\u6765\u5904\u7406\u6570\u636e\u683c\u5f0f\u7684\u8f93\u51fa\u663e\u793a\uff09\u3002\n\n\n**\u4f7f\u7528\u573a\u666f\uff1a**\n\n- \u9700\u8981\u683c\u5f0f\u5316\u6570\u636e\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u9700\u8981\u5904\u7406\u65f6\u95f4\u3001\u4ef7\u683c\u7b49\u6570\u636e\u683c\u5f0f\u7684\u8f93\u51fa / \u663e\u793a\u3002\n- \u6bd4\u5982\u540e\u7aef\u8fd4\u56de\u4e00\u4e2a **\u5e74\u6708\u65e5\u7684\u65e5\u671f\u5b57\u7b26\u4e32**\uff0c\u524d\u7aef\u9700\u8981\u5c55\u793a\u4e3a **\u591a\u5c11\u5929\u524d** \u7684\u6570\u636e\u683c\u5f0f\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u7528`fliters`\u8fc7\u6ee4\u5668\u6765\u5904\u7406\u6570\u636e\u3002\n\n\n\n\u8fc7\u6ee4\u5668\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u4f1a\u628a\u8868\u8fbe\u5f0f\u4e2d\u7684\u503c\u59cb\u7ec8\u5f53\u4f5c\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u8fc7\u6ee4\u5668\u7528\u5728**\u63d2\u503c\u8868\u8fbe\u5f0f **`{{ }}` \u548c `v-bind`** \u8868\u8fbe\u5f0f** \u4e2d\uff0c\u7136\u540e\u653e\u5728\u64cd\u4f5c\u7b26\u201c `|` \u201d\u540e\u9762\u8fdb\u884c\u6307\u793a\u3002\n\n\n\u4f8b\u5982\uff0c\u5728\u663e\u793a\u91d1\u989d\uff0c\u7ed9\u5546\u54c1\u4ef7\u683c\u6dfb\u52a0\u5355\u4f4d\uff1a\n\n```javascript\n<li>\u5546\u54c1\u4ef7\u683c\uff1a{{item.price | filterPrice}}</li>\n\n filters: {\n    filterPrice (price) {\n      return price ? ('\uffe5' + price) : '--'\n    }\n  }\n```\n\n### 9. \u5982\u4f55\u4fdd\u5b58\u9875\u9762\u7684\u5f53\u524d\u7684\u72b6\u6001\n\n\u65e2\u7136\u662f\u8981\u4fdd\u6301\u9875\u9762\u7684\u72b6\u6001\uff08\u5176\u5b9e\u4e5f\u5c31\u662f\u7ec4\u4ef6\u7684\u72b6\u6001\uff09\uff0c\u90a3\u4e48\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff1a\n\n- \u524d\u7ec4\u4ef6\u4f1a\u88ab\u5378\u8f7d\n- \u524d\u7ec4\u4ef6\u4e0d\u4f1a\u88ab\u5378\u8f7d\n\n\u90a3\u4e48\u53ef\u4ee5\u6309\u7167\u8fd9\u4e24\u79cd\u60c5\u51b5\u5206\u522b\u5f97\u5230\u4ee5\u4e0b\u65b9\u6cd5\uff1a\n\n\n**\u7ec4\u4ef6\u4f1a\u88ab\u5378\u8f7d\uff1a**\n\n**\uff081\uff09\u5c06\u72b6\u6001\u5b58\u50a8\u5728LocalStorage / SessionStorage**\n\n\u53ea\u9700\u8981\u5728\u7ec4\u4ef6\u5373\u5c06\u88ab\u9500\u6bc1\u7684\u751f\u547d\u5468\u671f `componentWillUnmount` \uff08react\uff09\u4e2d\u5728 LocalStorage / SessionStorage \u4e2d\u628a\u5f53\u524d\u7ec4\u4ef6\u7684 state \u901a\u8fc7 JSON.stringify() \u50a8\u5b58\u4e0b\u6765\u5c31\u53ef\u4ee5\u4e86\u3002\u5728\u8fd9\u91cc\u9762\u9700\u8981\u6ce8\u610f\u7684\u662f\u7ec4\u4ef6\u66f4\u65b0\u72b6\u6001\u7684\u65f6\u673a\u3002\n\n\n\u6bd4\u5982\u4ece B \u7ec4\u4ef6\u8df3\u8f6c\u5230 A \u7ec4\u4ef6\u7684\u65f6\u5019\uff0cA \u7ec4\u4ef6\u9700\u8981\u66f4\u65b0\u81ea\u8eab\u7684\u72b6\u6001\u3002\u4f46\u662f\u5982\u679c\u4ece\u522b\u7684\u7ec4\u4ef6\u8df3\u8f6c\u5230 B \u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u662f\u5e0c\u671b B \u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684\uff0c\u4e5f\u5c31\u662f\u4e0d\u8981\u4ece Storage \u4e2d\u8bfb\u53d6\u4fe1\u606f\u3002\u6240\u4ee5\u9700\u8981\u5728 Storage \u4e2d\u7684\u72b6\u6001\u52a0\u5165\u4e00\u4e2a flag \u5c5e\u6027\uff0c\u7528\u6765\u63a7\u5236 A \u7ec4\u4ef6\u662f\u5426\u8bfb\u53d6 Storage \u4e2d\u7684\u72b6\u6001\u3002\n\n**\u4f18\u70b9\uff1a**\n\n- \u517c\u5bb9\u6027\u597d\uff0c\u4e0d\u9700\u8981\u989d\u5916\u5e93\u6216\u5de5\u5177\u3002\n- \u7b80\u5355\u5feb\u6377\uff0c\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u9700\u6c42\u3002\n\n**\u7f3a\u70b9\uff1a**\n\n- \u72b6\u6001\u901a\u8fc7 JSON \u65b9\u6cd5\u50a8\u5b58\uff08\u76f8\u5f53\u4e8e\u6df1\u62f7\u8d1d\uff09\uff0c\u5982\u679c\u72b6\u6001\u4e2d\u6709\u7279\u6b8a\u60c5\u51b5\uff08\u6bd4\u5982 Date \u5bf9\u8c61\u3001Regexp \u5bf9\u8c61\u7b49\uff09\u7684\u65f6\u5019\u4f1a\u5f97\u5230\u5b57\u7b26\u4e32\u800c\u4e0d\u662f\u539f\u6765\u7684\u503c\u3002\uff08\u5177\u4f53\u53c2\u8003\u7528 JSON \u6df1\u62f7\u8d1d\u7684\u7f3a\u70b9\uff09\n- \u5982\u679c B \u7ec4\u4ef6\u540e\u9000\u6216\u8005\u4e0b\u4e00\u9875\u8df3\u8f6c\u5e76\u4e0d\u662f\u524d\u7ec4\u4ef6\uff0c\u90a3\u4e48 flag \u5224\u65ad\u4f1a\u5931\u6548\uff0c\u5bfc\u81f4\u4ece\u5176\u4ed6\u9875\u9762\u8fdb\u5165 A \u7ec4\u4ef6\u9875\u9762\u65f6 A \u7ec4\u4ef6\u4f1a\u91cd\u65b0\u8bfb\u53d6 Storage\uff0c\u4f1a\u9020\u6210\u5f88\u5947\u602a\u7684\u73b0\u8c61\n\n**\uff082\uff09\u8def\u7531\u4f20\u503c**\n\n\u901a\u8fc7 react-router \u7684 Link \u7ec4\u4ef6\u7684 prop \u2014\u2014 to \u53ef\u4ee5\u5b9e\u73b0\u8def\u7531\u95f4\u4f20\u9012\u53c2\u6570\u7684\u6548\u679c\u3002\n\n\n\u5728\u8fd9\u91cc\u9700\u8981\u7528\u5230 state \u53c2\u6570\uff0c\u5728 B \u7ec4\u4ef6\u4e2d\u901a\u8fc7 history.location.state \u5c31\u53ef\u4ee5\u62ff\u5230 state \u503c\uff0c\u4fdd\u5b58\u5b83\u3002\u8fd4\u56de A \u7ec4\u4ef6\u65f6\u518d\u6b21\u643a\u5e26 state \u8fbe\u5230\u8def\u7531\u72b6\u6001\u4fdd\u6301\u7684\u6548\u679c\u3002\n\n**\u4f18\u70b9\uff1a**\n\n- \u7b80\u5355\u5feb\u6377\uff0c\u4e0d\u4f1a\u6c61\u67d3 LocalStorage / SessionStorage\u3002\n- \u53ef\u4ee5\u4f20\u9012 Date\u3001RegExp \u7b49\u7279\u6b8a\u5bf9\u8c61\uff08\u4e0d\u7528\u62c5\u5fc3 JSON.stringify / parse \u7684\u4e0d\u8db3\uff09\n\n**\u7f3a\u70b9\uff1a**\n\n- \u5982\u679c A \u7ec4\u4ef6\u53ef\u4ee5\u8df3\u8f6c\u81f3\u591a\u4e2a\u7ec4\u4ef6\uff0c\u90a3\u4e48\u5728\u6bcf\u4e00\u4e2a\u8df3\u8f6c\u7ec4\u4ef6\u5185\u90fd\u8981\u5199\u76f8\u540c\u7684\u903b\u8f91\u3002\n\n\n\n**\u7ec4\u4ef6\u4e0d\u4f1a\u88ab\u5378\u8f7d\uff1a**\n\n**\uff081\uff09\u5355\u9875\u9762\u6e32\u67d3**\n\n\u8981\u5207\u6362\u7684\u7ec4\u4ef6\u4f5c\u4e3a\u5b50\u7ec4\u4ef6\u5168\u5c4f\u6e32\u67d3\uff0c\u7236\u7ec4\u4ef6\u4e2d\u6b63\u5e38\u50a8\u5b58\u9875\u9762\u72b6\u6001\u3002\n\n**\u4f18\u70b9\uff1a**\n\n- \u4ee3\u7801\u91cf\u5c11\n- \u4e0d\u9700\u8981\u8003\u8651\u72b6\u6001\u4f20\u9012\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\n\n**\u7f3a\u70b9\uff1a**\n\n- \u589e\u52a0 A \u7ec4\u4ef6\u7ef4\u62a4\u6210\u672c\n- \u9700\u8981\u4f20\u5165\u989d\u5916\u7684 prop \u5230 B \u7ec4\u4ef6\n- \u65e0\u6cd5\u5229\u7528\u8def\u7531\u5b9a\u4f4d\u9875\u9762\n\n\n\n\u9664\u6b64\u4e4b\u5916\uff0c\u5728Vue\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u662f\u7528keep-alive\u6765\u7f13\u5b58\u9875\u9762\uff0c\u5f53\u7ec4\u4ef6\u5728keep-alive\u5185\u88ab\u5207\u6362\u65f6\u7ec4\u4ef6\u7684**activated\u3001deactivated**\u8fd9\u4e24\u4e2a\u751f\u547d\u5468\u671f\u94a9\u5b50\u51fd\u6570\u4f1a\u88ab\u6267\u884c\n\u88ab\u5305\u88f9\u5728keep-alive\u4e2d\u7684\u7ec4\u4ef6\u7684\u72b6\u6001\u5c06\u4f1a\u88ab\u4fdd\u7559\uff1a\n\n```javascript\n<keep-alive>\n\t<router-view v-if=\"$route.meta.keepAlive\"></router-view>\n</kepp-alive>\n```\n\n**router.js**\n\n```javascript\n{\n  path: '/',\n  name: 'xxx',\n  component: ()=>import('../src/views/xxx.vue'),\n  meta:{\n    keepAlive: true // \u9700\u8981\u88ab\u7f13\u5b58\n  }\n},\n```\n\n### 10. \u5e38\u89c1\u7684\u4e8b\u4ef6\u4fee\u9970\u7b26\u53ca\u5176\u4f5c\u7528\n\n- `.stop`\uff1a\u7b49\u540c\u4e8e JavaScript \u4e2d\u7684 `event.stopPropagation()` \uff0c\u9632\u6b62\u4e8b\u4ef6\u5192\u6ce1\uff1b\n- `.prevent` \uff1a\u7b49\u540c\u4e8e JavaScript \u4e2d\u7684 `event.preventDefault()` \uff0c\u9632\u6b62\u6267\u884c\u9884\u8bbe\u7684\u884c\u4e3a\uff08\u5982\u679c\u4e8b\u4ef6\u53ef\u53d6\u6d88\uff0c\u5219\u53d6\u6d88\u8be5\u4e8b\u4ef6\uff0c\u800c\u4e0d\u505c\u6b62\u4e8b\u4ef6\u7684\u8fdb\u4e00\u6b65\u4f20\u64ad\uff09\uff1b\n- `.capture` \uff1a\u4e0e\u4e8b\u4ef6\u5192\u6ce1\u7684\u65b9\u5411\u76f8\u53cd\uff0c\u4e8b\u4ef6\u6355\u83b7\u7531\u5916\u5230\u5185\uff1b\n- `.self` \uff1a\u53ea\u4f1a\u89e6\u53d1\u81ea\u5df1\u8303\u56f4\u5185\u7684\u4e8b\u4ef6\uff0c\u4e0d\u5305\u542b\u5b50\u5143\u7d20\uff1b\n- `.once` \uff1a\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21\u3002\n\n### 11. v-if\u3001v-show\u3001v-html \u7684\u539f\u7406\n\n- v-if\u4f1a\u8c03\u7528addIfCondition\u65b9\u6cd5\uff0c\u751f\u6210vnode\u7684\u65f6\u5019\u4f1a\u5ffd\u7565\u5bf9\u5e94\u8282\u70b9\uff0crender\u7684\u65f6\u5019\u5c31\u4e0d\u4f1a\u6e32\u67d3\uff1b\n- v-show\u4f1a\u751f\u6210vnode\uff0crender\u7684\u65f6\u5019\u4e5f\u4f1a\u6e32\u67d3\u6210\u771f\u5b9e\u8282\u70b9\uff0c\u53ea\u662f\u5728render\u8fc7\u7a0b\u4e2d\u4f1a\u5728\u8282\u70b9\u7684\u5c5e\u6027\u4e2d\u4fee\u6539show\u5c5e\u6027\u503c\uff0c\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684display\uff1b \n- v-html\u4f1a\u5148\u79fb\u9664\u8282\u70b9\u4e0b\u7684\u6240\u6709\u8282\u70b9\uff0c\u8c03\u7528html\u65b9\u6cd5\uff0c\u901a\u8fc7addProp\u6dfb\u52a0innerHTML\u5c5e\u6027\uff0c\u5f52\u6839\u7ed3\u5e95\u8fd8\u662f\u8bbe\u7f6einnerHTML\u4e3av-html\u7684\u503c\u3002\n\n### 13. v-if\u548cv-show\u7684\u533a\u522b\n\n- **\u624b\u6bb5**\uff1av-if\u662f\u52a8\u6001\u7684\u5411DOM\u6811\u5185\u6dfb\u52a0\u6216\u8005\u5220\u9664DOM\u5143\u7d20\uff1bv-show\u662f\u901a\u8fc7\u8bbe\u7f6eDOM\u5143\u7d20\u7684display\u6837\u5f0f\u5c5e\u6027\u63a7\u5236\u663e\u9690\uff1b\n- **\u7f16\u8bd1\u8fc7\u7a0b**\uff1av-if\u5207\u6362\u6709\u4e00\u4e2a\u5c40\u90e8\u7f16\u8bd1/\u5378\u8f7d\u7684\u8fc7\u7a0b\uff0c\u5207\u6362\u8fc7\u7a0b\u4e2d\u5408\u9002\u5730\u9500\u6bc1\u548c\u91cd\u5efa\u5185\u90e8\u7684\u4e8b\u4ef6\u76d1\u542c\u548c\u5b50\u7ec4\u4ef6\uff1bv-show\u53ea\u662f\u7b80\u5355\u7684\u57fa\u4e8ecss\u5207\u6362\uff1b\n- **\u7f16\u8bd1\u6761\u4ef6**\uff1av-if\u662f\u60f0\u6027\u7684\uff0c\u5982\u679c\u521d\u59cb\u6761\u4ef6\u4e3a\u5047\uff0c\u5219\u4ec0\u4e48\u4e5f\u4e0d\u505a\uff1b\u53ea\u6709\u5728\u6761\u4ef6\u7b2c\u4e00\u6b21\u53d8\u4e3a\u771f\u65f6\u624d\u5f00\u59cb\u5c40\u90e8\u7f16\u8bd1; v-show\u662f\u5728\u4efb\u4f55\u6761\u4ef6\u4e0b\uff0c\u65e0\u8bba\u9996\u6b21\u6761\u4ef6\u662f\u5426\u4e3a\u771f\uff0c\u90fd\u88ab\u7f16\u8bd1\uff0c\u7136\u540e\u88ab\u7f13\u5b58\uff0c\u800c\u4e14DOM\u5143\u7d20\u4fdd\u7559\uff1b\n- **\u6027\u80fd\u6d88\u8017**\uff1av-if\u6709\u66f4\u9ad8\u7684\u5207\u6362\u6d88\u8017\uff1bv-show\u6709\u66f4\u9ad8\u7684\u521d\u59cb\u6e32\u67d3\u6d88\u8017\uff1b\n- **\u4f7f\u7528\u573a\u666f**\uff1av-if\u9002\u5408\u8fd0\u8425\u6761\u4ef6\u4e0d\u5927\u53ef\u80fd\u6539\u53d8\uff1bv-show\u9002\u5408\u9891\u7e41\u5207\u6362\u3002\n\n### 14. v-model \u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff0c\u8bed\u6cd5\u7cd6\u5b9e\u9645\u662f\u4ec0\u4e48\uff1f\n\n**\uff081\uff09\u4f5c\u7528\u5728\u8868\u5355\u5143\u7d20\u4e0a**\n\u52a8\u6001\u7ed1\u5b9a\u4e86 input \u7684 value \u6307\u5411\u4e86 messgae \u53d8\u91cf\uff0c\u5e76\u4e14\u5728\u89e6\u53d1 input \u4e8b\u4ef6\u7684\u65f6\u5019\u53bb\u52a8\u6001\u628a message\u8bbe\u7f6e\u4e3a\u76ee\u6807\u503c\uff1a\n\n```javascript\n<input v-model=\"sth\" />\n//  \u7b49\u540c\u4e8e\n<input \n    v-bind:value=\"message\" \n    v-on:input=\"message=$event.target.value\"\n>\n//$event \u6307\u4ee3\u5f53\u524d\u89e6\u53d1\u7684\u4e8b\u4ef6\u5bf9\u8c61;\n//$event.target \u6307\u4ee3\u5f53\u524d\u89e6\u53d1\u7684\u4e8b\u4ef6\u5bf9\u8c61\u7684dom;\n//$event.target.value \u5c31\u662f\u5f53\u524ddom\u7684value\u503c;\n//\u5728@input\u65b9\u6cd5\u4e2d\uff0cvalue => sth;\n//\u5728:value\u4e2d,sth => value;\n```\n\n**\uff082\uff09\u4f5c\u7528\u5728\u7ec4\u4ef6\u4e0a**\n\u5728\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4e2d\uff0cv-model \u9ed8\u8ba4\u4f1a\u5229\u7528\u540d\u4e3a value \u7684 prop\u548c\u540d\u4e3a input \u7684\u4e8b\u4ef6\n\n\n**\u672c\u8d28\u662f\u4e00\u4e2a\u7236\u5b50\u7ec4\u4ef6\u901a\u4fe1\u7684\u8bed\u6cd5\u7cd6\uff0c\u901a\u8fc7prop\u548c$.emit\u5b9e\u73b0\u3002** \u56e0\u6b64\u7236\u7ec4\u4ef6 v-model \u8bed\u6cd5\u7cd6\u672c\u8d28\u4e0a\u53ef\u4ee5\u4fee\u6539\u4e3a\uff1a\n\n```javascript\n<child :value=\"message\"  @input=\"function(e){message = e}\"></child>\n```\n\n\u5728\u7ec4\u4ef6\u7684\u5b9e\u73b0\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 v-model\u5c5e\u6027\u6765\u914d\u7f6e\u5b50\u7ec4\u4ef6\u63a5\u6536\u7684prop\u540d\u79f0\uff0c\u4ee5\u53ca\u6d3e\u53d1\u7684\u4e8b\u4ef6\u540d\u79f0\u3002\n\u4f8b\u5b50\uff1a\n\n```javascript\n// \u7236\u7ec4\u4ef6\n<aa-input v-model=\"aa\"></aa-input>\n// \u7b49\u4ef7\u4e8e\n<aa-input v-bind:value=\"aa\" v-on:input=\"aa=$event.target.value\"></aa-input>\n\n// \u5b50\u7ec4\u4ef6\uff1a\n<input v-bind:value=\"aa\" v-on:input=\"onmessage\"></aa-input>\n\nprops:{value:aa,}\nmethods:{\n    onmessage(e){\n        $emit('input',e.target.value)\n    }\n}\n```\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u4e0a\u7684v-model \u4f1a\u628a value \u7528\u4f5c prop\u4e14\u628a input \u7528\u4f5c event\u3002\u4f46\u662f\u4e00\u4e9b\u8f93\u5165\u7c7b\u578b\u6bd4\u5982\u5355\u9009\u6846\u548c\u590d\u9009\u6846\u6309\u94ae\u53ef\u80fd\u60f3\u4f7f\u7528 value prop \u6765\u8fbe\u5230\u4e0d\u540c\u7684\u76ee\u7684\u3002\u4f7f\u7528 model \u9009\u9879\u53ef\u4ee5\u56de\u907f\u8fd9\u4e9b\u60c5\u51b5\u4ea7\u751f\u7684\u51b2\u7a81\u3002js \u76d1\u542cinput \u8f93\u5165\u6846\u8f93\u5165\u6570\u636e\u6539\u53d8\uff0c\u7528oninput\uff0c\u6570\u636e\u6539\u53d8\u4ee5\u540e\u5c31\u4f1a\u7acb\u523b\u51fa\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u901a\u8fc7input\u4e8b\u4ef6\u628a\u6570\u636e\\$emit \u51fa\u53bb\uff0c\u5728\u7236\u7ec4\u4ef6\u63a5\u53d7\u3002\u7236\u7ec4\u4ef6\u8bbe\u7f6ev-model\u7684\u503c\u4e3ainput `$emit`\u8fc7\u6765\u7684\u503c\u3002\n\n### 15. v-model \u53ef\u4ee5\u88ab\u7528\u5728\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4e0a\u5417\uff1f\u5982\u679c\u53ef\u4ee5\uff0c\u5982\u4f55\u4f7f\u7528\uff1f\n\n\u53ef\u4ee5\u3002v-model \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u5982\uff1a\n\n```javascript\n<input v-model=\"searchText\">\n```\n\n\u5b9e\u9645\u4e0a\u76f8\u5f53\u4e8e\uff1a\n\n```javascript\n<input\n  v-bind:value=\"searchText\"\n  v-on:input=\"searchText = $event.target.value\"\n>\n```\n\n\u7528\u5728\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4e0a\u4e5f\u662f\u540c\u7406\uff1a\n\n```javascript\n<custom-input v-model=\"searchText\">\n```\n\n\u76f8\u5f53\u4e8e\uff1a\n\n```javascript\n<custom-input\n  v-bind:value=\"searchText\"\n  v-on:input=\"searchText = $event\"\n></custom-input>\n```\n\n\u663e\u7136\uff0ccustom-input \u4e0e\u7236\u7ec4\u4ef6\u7684\u4ea4\u4e92\u5982\u4e0b\uff1a\n\n1. \u7236\u7ec4\u4ef6\u5c06`searchText`\u53d8\u91cf\u4f20\u5165custom-input \u7ec4\u4ef6\uff0c\u4f7f\u7528\u7684 prop \u540d\u4e3a`value`\uff1b\n1. custom-input \u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u4f20\u51fa\u540d\u4e3a`input`\u7684\u4e8b\u4ef6\uff0c\u7236\u7ec4\u4ef6\u5c06\u63a5\u6536\u5230\u7684\u503c\u8d4b\u503c\u7ed9`searchText`\uff1b\n\n\u6240\u4ee5\uff0ccustom-input \u7ec4\u4ef6\u7684\u5b9e\u73b0\u5e94\u8be5\u7c7b\u4f3c\u4e8e\u8fd9\u6837\uff1a\n\n```javascript\nVue.component('custom-input', {\n  props: ['value'],\n  template: `\n    <input\n      v-bind:value=\"value\"\n      v-on:input=\"$emit('input', $event.target.value)\"\n    >\n  `\n})\n```\n\n### 16. data\u4e3a\u4ec0\u4e48\u662f\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u5bf9\u8c61\n\nJavaScript\u4e2d\u7684\u5bf9\u8c61\u662f\u5f15\u7528\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5f53\u591a\u4e2a\u5b9e\u4f8b\u5f15\u7528\u540c\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53ea\u8981\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff0c\u5176\u4ed6\u5b9e\u4f8b\u4e2d\u7684\u6570\u636e\u4e5f\u4f1a\u53d1\u751f\u53d8\u5316\u3002\n\n\n\u800c\u5728Vue\u4e2d\uff0c\u66f4\u591a\u7684\u662f\u60f3\u8981\u590d\u7528\u7ec4\u4ef6\uff0c\u90a3\u5c31\u9700\u8981\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u6709\u81ea\u5df1\u7684\u6570\u636e\uff0c\u8fd9\u6837\u7ec4\u4ef6\u4e4b\u95f4\u624d\u4e0d\u4f1a\u76f8\u4e92\u5e72\u6270\u3002\n\n\n\u6240\u4ee5\u7ec4\u4ef6\u7684\u6570\u636e\u4e0d\u80fd\u5199\u6210\u5bf9\u8c61\u7684\u5f62\u5f0f\uff0c\u800c\u662f\u8981\u5199\u6210\u51fd\u6570\u7684\u5f62\u5f0f\u3002\u6570\u636e\u4ee5\u51fd\u6570\u8fd4\u56de\u503c\u7684\u5f62\u5f0f\u5b9a\u4e49\uff0c\u8fd9\u6837\u5f53\u6bcf\u6b21\u590d\u7528\u7ec4\u4ef6\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684data\uff0c\u4e5f\u5c31\u662f\u8bf4\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u6709\u81ea\u5df1\u7684\u79c1\u6709\u6570\u636e\u7a7a\u95f4\uff0c\u5b83\u4eec\u5404\u81ea\u7ef4\u62a4\u81ea\u5df1\u7684\u6570\u636e\uff0c\u4e0d\u4f1a\u5e72\u6270\u5176\u4ed6\u7ec4\u4ef6\u7684\u6b63\u5e38\u8fd0\u884c\u3002\n\n### 17. \u5bf9keep-alive\u7684\u7406\u89e3\uff0c\u5b83\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff0c\u5177\u4f53\u7f13\u5b58\u7684\u662f\u4ec0\u4e48\uff1f\n\n\u5982\u679c\u9700\u8981\u5728\u7ec4\u4ef6\u5207\u6362\u7684\u65f6\u5019\uff0c\u4fdd\u5b58\u4e00\u4e9b\u7ec4\u4ef6\u7684\u72b6\u6001\u9632\u6b62\u591a\u6b21\u6e32\u67d3\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 keep-alive \u7ec4\u4ef6\u5305\u88f9\u9700\u8981\u4fdd\u5b58\u7684\u7ec4\u4ef6\u3002\n\n**\uff081\uff09keep-alive**\n\nkeep-alive\u6709\u4ee5\u4e0b\u4e09\u4e2a\u5c5e\u6027\uff1a\n\n- include \u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u53ea\u6709\u540d\u79f0\u5339\u914d\u7684\u7ec4\u4ef6\u4f1a\u88ab\u5339\u914d\uff1b\n- exclude \u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4efb\u4f55\u540d\u79f0\u5339\u914d\u7684\u7ec4\u4ef6\u90fd\u4e0d\u4f1a\u88ab\u7f13\u5b58\uff1b\n- max \u6570\u5b57\uff0c\u6700\u591a\u53ef\u4ee5\u7f13\u5b58\u591a\u5c11\u7ec4\u4ef6\u5b9e\u4f8b\u3002\n\n\n\n\u6ce8\u610f\uff1akeep-alive \u5305\u88f9\u52a8\u6001\u7ec4\u4ef6\u65f6\uff0c\u4f1a\u7f13\u5b58\u4e0d\u6d3b\u52a8\u7684\u7ec4\u4ef6\u5b9e\u4f8b\u3002\n\n\n**\u4e3b\u8981\u6d41\u7a0b**\n\n1. \u5224\u65ad\u7ec4\u4ef6 name \uff0c\u4e0d\u5728 include \u6216\u8005\u5728 exclude \u4e2d\uff0c\u76f4\u63a5\u8fd4\u56de vnode\uff0c\u8bf4\u660e\u8be5\u7ec4\u4ef6\u4e0d\u88ab\u7f13\u5b58\u3002\n1. \u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b key \uff0c\u5982\u679c\u6709\u83b7\u53d6\u5b9e\u4f8b\u7684 key\uff0c\u5426\u5219\u91cd\u65b0\u751f\u6210\u3002\n1. key\u751f\u6210\u89c4\u5219\uff0ccid +\"\u2236\u2236\"+ tag \uff0c\u4ec5\u9760cid\u662f\u4e0d\u591f\u7684\uff0c\u56e0\u4e3a\u76f8\u540c\u7684\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u6ce8\u518c\u4e3a\u4e0d\u540c\u7684\u672c\u5730\u7ec4\u4ef6\u3002\n1. \u5982\u679c\u7f13\u5b58\u5bf9\u8c61\u5185\u5b58\u5728\uff0c\u5219\u76f4\u63a5\u4ece\u7f13\u5b58\u5bf9\u8c61\u4e2d\u83b7\u53d6\u7ec4\u4ef6\u5b9e\u4f8b\u7ed9 vnode \uff0c\u4e0d\u5b58\u5728\u5219\u6dfb\u52a0\u5230\u7f13\u5b58\u5bf9\u8c61\u4e2d\u3002 5.\u6700\u5927\u7f13\u5b58\u6570\u91cf\uff0c\u5f53\u7f13\u5b58\u7ec4\u4ef6\u6570\u91cf\u8d85\u8fc7 max \u503c\u65f6\uff0c\u6e05\u9664 keys \u6570\u7ec4\u5185\u7b2c\u4e00\u4e2a\u7ec4\u4ef6\u3002\n\n\n\n**\uff082\uff09keep-alive \u7684\u5b9e\u73b0**\n\n```javascript\nconst patternTypes: Array<Function> = [String, RegExp, Array] // \u63a5\u6536\uff1a\u5b57\u7b26\u4e32\uff0c\u6b63\u5219\uff0c\u6570\u7ec4\n\nexport default {\n  name: 'keep-alive',\n  abstract: true, // \u62bd\u8c61\u7ec4\u4ef6\uff0c\u662f\u4e00\u4e2a\u62bd\u8c61\u7ec4\u4ef6\uff1a\u5b83\u81ea\u8eab\u4e0d\u4f1a\u6e32\u67d3\u4e00\u4e2a DOM \u5143\u7d20\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u5728\u7236\u7ec4\u4ef6\u94fe\u4e2d\u3002\n\n  props: {\n    include: patternTypes, // \u5339\u914d\u7684\u7ec4\u4ef6\uff0c\u7f13\u5b58\n    exclude: patternTypes, // \u4e0d\u53bb\u5339\u914d\u7684\u7ec4\u4ef6\uff0c\u4e0d\u7f13\u5b58\n    max: [String, Number], // \u7f13\u5b58\u7ec4\u4ef6\u7684\u6700\u5927\u5b9e\u4f8b\u6570\u91cf, \u7531\u4e8e\u7f13\u5b58\u7684\u662f\u7ec4\u4ef6\u5b9e\u4f8b\uff08vnode\uff09\uff0c\u6570\u91cf\u8fc7\u591a\u7684\u65f6\u5019\uff0c\u4f1a\u5360\u7528\u8fc7\u591a\u7684\u5185\u5b58\uff0c\u53ef\u4ee5\u7528max\u6307\u5b9a\u4e0a\u9650\n  },\n\n  created() {\n    // \u7528\u4e8e\u521d\u59cb\u5316\u7f13\u5b58\u865a\u62dfDOM\u6570\u7ec4\u548cvnode\u7684key\n    this.cache = Object.create(null)\n    this.keys = []\n  },\n\n  destroyed() {\n    // \u9500\u6bc1\u7f13\u5b58cache\u7684\u7ec4\u4ef6\u5b9e\u4f8b\n    for (const key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys)\n    }\n  },\n\n  mounted() {\n    // prune \u524a\u51cf\u7cbe\u7b80[v.]\n    // \u53bb\u76d1\u63a7include\u548cexclude\u7684\u6539\u53d8\uff0c\u6839\u636e\u6700\u65b0\u7684include\u548cexclude\u7684\u5185\u5bb9\uff0c\u6765\u5b9e\u65f6\u524a\u51cf\u7f13\u5b58\u7684\u7ec4\u4ef6\u7684\u5185\u5bb9\n    this.$watch('include', (val) => {\n      pruneCache(this, (name) => matches(val, name))\n    })\n    this.$watch('exclude', (val) => {\n      pruneCache(this, (name) => !matches(val, name))\n    })\n  },\n}\n```\n\n**render\u51fd\u6570\uff1a**\n\n1. \u4f1a\u5728 keep-alive \u7ec4\u4ef6\u5185\u90e8\u53bb\u5199\u81ea\u5df1\u7684\u5185\u5bb9\uff0c\u6240\u4ee5\u53ef\u4ee5\u53bb\u83b7\u53d6\u9ed8\u8ba4 slot \u7684\u5185\u5bb9\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e2a\u53bb\u83b7\u53d6\u7ec4\u4ef6\n1. keep-alive \u53ea\u5bf9\u7b2c\u4e00\u4e2a\u7ec4\u4ef6\u6709\u6548\uff0c\u6240\u4ee5\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u3002\n1. \u548c keep-alive \u642d\u914d\u4f7f\u7528\u7684\u4e00\u822c\u6709\uff1a\u52a8\u6001\u7ec4\u4ef6 \u548crouter-view\n\n```javascript\nrender () {\n  //\n  function getFirstComponentChild (children: ?Array<VNode>): ?VNode {\n    if (Array.isArray(children)) {\n  for (let i = 0; i < children.length; i++) {\n    const c = children[i]\n    if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n      return c\n    }\n  }\n  }\n  }\n  const slot = this.$slots.default // \u83b7\u53d6\u9ed8\u8ba4\u63d2\u69fd\n  const vnode: VNode = getFirstComponentChild(slot)// \u83b7\u53d6\u7b2c\u4e00\u4e2a\u5b50\u7ec4\u4ef6\n  const componentOptions: ?VNodeComponentOptions = vnode && vnode.componentOptions // \u7ec4\u4ef6\u53c2\u6570\n  if (componentOptions) { // \u662f\u5426\u6709\u7ec4\u4ef6\u53c2\u6570\n    // check pattern\n    const name: ?string = getComponentName(componentOptions) // \u83b7\u53d6\u7ec4\u4ef6\u540d\n    const { include, exclude } = this\n    if (\n      // not included\n      (include && (!name || !matches(include, name))) ||\n      // excluded\n      (exclude && name && matches(exclude, name))\n    ) {\n      // \u5982\u679c\u4e0d\u5339\u914d\u5f53\u524d\u7ec4\u4ef6\u7684\u540d\u5b57\u548cinclude\u4ee5\u53caexclude\n      // \u90a3\u4e48\u76f4\u63a5\u8fd4\u56de\u7ec4\u4ef6\u7684\u5b9e\u4f8b\n      return vnode\n    }\n\n    const { cache, keys } = this\n\n    // \u83b7\u53d6\u8fd9\u4e2a\u7ec4\u4ef6\u7684key\n    const key: ?string = vnode.key == null\n      // same constructor may get registered as different local components\n      // so cid alone is not enough (#3269)\n      ? componentOptions.Ctor.cid + (componentOptions.tag ? `::${componentOptions.tag}` : '')\n      : vnode.key\n\n    if (cache[key]) {\n      // LRU\u7f13\u5b58\u7b56\u7565\u6267\u884c\n      vnode.componentInstance = cache[key].componentInstance // \u7ec4\u4ef6\u521d\u6b21\u6e32\u67d3\u7684\u65f6\u5019componentInstance\u4e3aundefined\n\n      // make current key freshest\n      remove(keys, key)\n      keys.push(key)\n      // \u6839\u636eLRU\u7f13\u5b58\u7b56\u7565\u6267\u884c\uff0c\u5c06key\u4ece\u539f\u6765\u7684\u4f4d\u7f6e\u79fb\u9664\uff0c\u7136\u540e\u5c06\u8fd9\u4e2akey\u503c\u653e\u5230\u6700\u540e\u9762\n    } else {\n      // \u5728\u7f13\u5b58\u5217\u8868\u91cc\u9762\u6ca1\u6709\u7684\u8bdd\uff0c\u5219\u52a0\u5165\uff0c\u540c\u65f6\u5224\u65ad\u5f53\u524d\u52a0\u5165\u4e4b\u540e\uff0c\u662f\u5426\u8d85\u8fc7\u4e86max\u6240\u8bbe\u5b9a\u7684\u8303\u56f4\uff0c\u5982\u679c\u662f\uff0c\u5219\u53bb\u9664\n      // \u4f7f\u7528\u65f6\u95f4\u95f4\u9694\u6700\u957f\u7684\u4e00\u4e2a\n      cache[key] = vnode\n      keys.push(key)\n      // prune oldest entry\n      if (this.max && keys.length > parseInt(this.max)) {\n        pruneCacheEntry(cache, keys[0], keys, this._vnode)\n      }\n    }\n    // \u5c06\u7ec4\u4ef6\u7684keepAlive\u5c5e\u6027\u8bbe\u7f6e\u4e3atrue\n    vnode.data.keepAlive = true // \u4f5c\u7528\uff1a\u5224\u65ad\u662f\u5426\u8981\u6267\u884c\u7ec4\u4ef6\u7684created\u3001mounted\u751f\u547d\u5468\u671f\u51fd\u6570\n  }\n  return vnode || (slot && slot[0])\n}\n```\n\nkeep-alive \u5177\u4f53\u662f\u901a\u8fc7 cache \u6570\u7ec4\u7f13\u5b58\u6240\u6709\u7ec4\u4ef6\u7684 vnode \u5b9e\u4f8b\u3002\u5f53 cache \u5185\u539f\u6709\u7ec4\u4ef6\u88ab\u4f7f\u7528\u65f6\u4f1a\u5c06\u8be5\u7ec4\u4ef6 key \u4ece keys \u6570\u7ec4\u4e2d\u5220\u9664\uff0c\u7136\u540e push \u5230 keys\u6570\u7ec4\u6700\u540e\uff0c\u4ee5\u4fbf\u6e05\u9664\u6700\u4e0d\u5e38\u7528\u7ec4\u4ef6\u3002\n\n\n**\u5b9e\u73b0\u6b65\u9aa4\uff1a**\n\n1. \u83b7\u53d6 keep-alive \u4e0b\u7b2c\u4e00\u4e2a\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u901a\u8fc7\u4ed6\u53bb\u83b7\u53d6\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u7ec4\u4ef6\u540d\n1. \u901a\u8fc7\u5f53\u524d\u7ec4\u4ef6\u540d\u53bb\u5339\u914d\u539f\u6765 include \u548c exclude\uff0c\u5224\u65ad\u5f53\u524d\u7ec4\u4ef6\u662f\u5426\u9700\u8981\u7f13\u5b58\uff0c\u4e0d\u9700\u8981\u7f13\u5b58\uff0c\u76f4\u63a5\u8fd4\u56de\u5f53\u524d\u7ec4\u4ef6\u7684\u5b9e\u4f8bvNode\n1. \u9700\u8981\u7f13\u5b58\uff0c\u5224\u65ad\u4ed6\u5f53\u524d\u662f\u5426\u5728\u7f13\u5b58\u6570\u7ec4\u91cc\u9762\uff1a\n\n- \u5b58\u5728\uff0c\u5219\u5c06\u4ed6\u539f\u6765\u4f4d\u7f6e\u4e0a\u7684 key \u7ed9\u79fb\u9664\uff0c\u540c\u65f6\u5c06\u8fd9\u4e2a\u7ec4\u4ef6\u7684 key \u653e\u5230\u6570\u7ec4\u6700\u540e\u9762\uff08LRU\uff09\n- \u4e0d\u5b58\u5728\uff0c\u5c06\u7ec4\u4ef6 key \u653e\u5165\u6570\u7ec4\uff0c\u7136\u540e\u5224\u65ad\u5f53\u524d key\u6570\u7ec4\u662f\u5426\u8d85\u8fc7 max \u6240\u8bbe\u7f6e\u7684\u8303\u56f4\uff0c\u8d85\u8fc7\uff0c\u90a3\u4e48\u524a\u51cf\u672a\u4f7f\u7528\u65f6\u95f4\u6700\u957f\u7684\u4e00\u4e2a\u7ec4\u4ef6\u7684 key \n\n4. \u6700\u540e\u5c06\u8fd9\u4e2a\u7ec4\u4ef6\u7684 keepAlive \u8bbe\u7f6e\u4e3a true\n\n\n\n**\uff083\uff09keep-alive \u672c\u8eab\u7684\u521b\u5efa\u8fc7\u7a0b\u548c patch \u8fc7\u7a0b**\n\n\u7f13\u5b58\u6e32\u67d3\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e vnode.componentInstance\uff08\u9996\u6b21\u6e32\u67d3 vnode.componentInstance \u4e3a undefined\uff09 \u548c keepAlive \u5c5e\u6027\u5224\u65ad\u4e0d\u4f1a\u6267\u884c\u7ec4\u4ef6\u7684 created\u3001mounted \u7b49\u94a9\u5b50\u51fd\u6570\uff0c\u800c\u662f\u5bf9\u7f13\u5b58\u7684\u7ec4\u4ef6\u6267\u884c patch \u8fc7\u7a0b\u2236 \u76f4\u63a5\u628a\u7f13\u5b58\u7684 DOM \u5bf9\u8c61\u76f4\u63a5\u63d2\u5165\u5230\u76ee\u6807\u5143\u7d20\u4e2d\uff0c\u5b8c\u6210\u4e86\u6570\u636e\u66f4\u65b0\u7684\u60c5\u51b5\u4e0b\u7684\u6e32\u67d3\u8fc7\u7a0b\u3002\n\n\n**\u9996\u6b21\u6e32\u67d3**\n\n- \u7ec4\u4ef6\u7684\u9996\u6b21\u6e32\u67d3\u2236\u5224\u65ad\u7ec4\u4ef6\u7684 abstract \u5c5e\u6027\uff0c\u624d\u5f80\u7236\u7ec4\u4ef6\u91cc\u9762\u6302\u8f7d DOM\n\n```javascript\n// core/instance/lifecycle\nfunction initLifecycle (vm: Component) {\n  const options = vm.$options\n\n  // locate first non-abstract parent\n  let parent = options.parent\n  if (parent && !options.abstract) { // \u5224\u65ad\u7ec4\u4ef6\u7684abstract\u5c5e\u6027\uff0c\u624d\u5f80\u7236\u7ec4\u4ef6\u91cc\u9762\u6302\u8f7dDOM\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent\n    }\n    parent.$children.push(vm)\n  }\n\n  vm.$parent = parent\n  vm.$root = parent ? parent.$root : vm\n\n  vm.$children = []\n  vm.$refs = {}\n\n  vm._watcher = null\n  vm._inactive = null\n  vm._directInactive = false\n  vm._isMounted = false\n  vm._isDestroyed = false\n  vm._isBeingDestroyed = false\n}\n```\n\n- \u5224\u65ad\u5f53\u524d keepAlive \u548c componentInstance \u662f\u5426\u5b58\u5728\u6765\u5224\u65ad\u662f\u5426\u8981\u6267\u884c\u7ec4\u4ef6 prepatch \u8fd8\u662f\u6267\u884c\u521b\u5efa componentlnstance\n\n```javascript\n// core/vdom/create-component\ninit (vnode: VNodeWithData, hydrating: boolean): ?boolean {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) { // componentInstance\u5728\u521d\u6b21\u662fundefined!!!\n      // kept-alive components, treat as a patch\n      const mountedNode: any = vnode // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode) // prepatch\u51fd\u6570\u6267\u884c\u7684\u662f\u7ec4\u4ef6\u66f4\u65b0\u7684\u8fc7\u7a0b\n    } else {\n      const child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      )\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating)\n    }\n  },\n```\n\nprepatch \u64cd\u4f5c\u5c31\u4e0d\u4f1a\u5728\u6267\u884c\u7ec4\u4ef6\u7684 mounted \u548c created \u751f\u547d\u5468\u671f\u51fd\u6570\uff0c\u800c\u662f\u76f4\u63a5\u5c06 DOM \u63d2\u5165\n\n\n**\uff084\uff09LRU \uff08least recently used\uff09\u7f13\u5b58\u7b56\u7565**\n\nLRU \u7f13\u5b58\u7b56\u7565\u2236 \u4ece\u5185\u5b58\u4e2d\u627e\u51fa\u6700\u4e45\u672a\u4f7f\u7528\u7684\u6570\u636e\u5e76\u7f6e\u6362\u65b0\u7684\u6570\u636e\u3002\nLRU\uff08Least rencently used\uff09\u7b97\u6cd5\u6839\u636e\u6570\u636e\u7684\u5386\u53f2\u8bbf\u95ee\u8bb0\u5f55\u6765\u8fdb\u884c\u6dd8\u6c70\u6570\u636e\uff0c\u5176\u6838\u5fc3\u601d\u60f3\u662f **\"\u5982\u679c\u6570\u636e\u6700\u8fd1\u88ab\u8bbf\u95ee\u8fc7\uff0c\u90a3\u4e48\u5c06\u6765\u88ab\u8bbf\u95ee\u7684\u51e0\u7387\u4e5f\u66f4\u9ad8\"**\u3002 \u6700\u5e38\u89c1\u7684\u5b9e\u73b0\u662f\u4f7f\u7528\u4e00\u4e2a\u94fe\u8868\u4fdd\u5b58\u7f13\u5b58\u6570\u636e\uff0c\u8be6\u7ec6\u7b97\u6cd5\u5b9e\u73b0\u5982\u4e0b\u2236 \n\n- \u65b0\u6570\u636e\u63d2\u5165\u5230\u94fe\u8868\u5934\u90e8\n- \u6bcf\u5f53\u7f13\u5b58\u547d\u4e2d\uff08\u5373\u7f13\u5b58\u6570\u636e\u88ab\u8bbf\u95ee\uff09\uff0c\u5219\u5c06\u6570\u636e\u79fb\u5230\u94fe\u8868\u5934\u90e8\n- \u94fe\u8868\u6ee1\u7684\u65f6\u5019\uff0c\u5c06\u94fe\u8868\u5c3e\u90e8\u7684\u6570\u636e\u4e22\u5f03\u3002\n\n### 18. $nextTick \u539f\u7406\u53ca\u4f5c\u7528\n\nVue \u7684 nextTick \u5176\u672c\u8d28\u662f\u5bf9 JavaScript \u6267\u884c\u539f\u7406 EventLoop \u7684\u4e00\u79cd\u5e94\u7528\u3002\n\n\nnextTick \u7684\u6838\u5fc3\u662f\u5229\u7528\u4e86\u5982 Promise \u3001MutationObserver\u3001setImmediate\u3001setTimeout\u7684\u539f\u751f JavaScript \u65b9\u6cd5\u6765\u6a21\u62df\u5bf9\u5e94\u7684\u5fae/\u5b8f\u4efb\u52a1\u7684\u5b9e\u73b0\uff0c\u672c\u8d28\u662f\u4e3a\u4e86\u5229\u7528 JavaScript \u7684\u8fd9\u4e9b\u5f02\u6b65\u56de\u8c03\u4efb\u52a1\u961f\u5217\u6765\u5b9e\u73b0 Vue \u6846\u67b6\u4e2d\u81ea\u5df1\u7684\u5f02\u6b65\u56de\u8c03\u961f\u5217\u3002\n\n\nnextTick \u4e0d\u4ec5\u662f Vue \u5185\u90e8\u7684\u5f02\u6b65\u961f\u5217\u7684\u8c03\u7528\u65b9\u6cd5\uff0c\u540c\u65f6\u4e5f\u5141\u8bb8\u5f00\u53d1\u8005\u5728\u5b9e\u9645\u9879\u76ee\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6765\u6ee1\u8db3\u5b9e\u9645\u5e94\u7528\u4e2d\u5bf9 DOM \u66f4\u65b0\u6570\u636e\u65f6\u673a\u7684\u540e\u7eed\u903b\u8f91\u5904\u7406\n\n\nnextTick \u662f\u5178\u578b\u7684\u5c06\u5e95\u5c42 JavaScript \u6267\u884c\u539f\u7406\u5e94\u7528\u5230\u5177\u4f53\u6848\u4f8b\u4e2d\u7684\u793a\u4f8b\uff0c\u5f15\u5165\u5f02\u6b65\u66f4\u65b0\u961f\u5217\u673a\u5236\u7684\u539f\u56e0\u2236\n\n- \u5982\u679c\u662f\u540c\u6b65\u66f4\u65b0\uff0c\u5219\u591a\u6b21\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5c5e\u6027\u8d4b\u503c\uff0c\u4f1a\u9891\u7e41\u89e6\u53d1 UI/DOM \u7684\u6e32\u67d3\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e00\u4e9b\u65e0\u7528\u6e32\u67d3\n- \u540c\u65f6\u7531\u4e8e VirtualDOM \u7684\u5f15\u5165\uff0c\u6bcf\u4e00\u6b21\u72b6\u6001\u53d1\u751f\u53d8\u5316\u540e\uff0c\u72b6\u6001\u53d8\u5316\u7684\u4fe1\u53f7\u4f1a\u53d1\u9001\u7ed9\u7ec4\u4ef6\uff0c\u7ec4\u4ef6\u5185\u90e8\u4f7f\u7528 VirtualDOM \u8fdb\u884c\u8ba1\u7b97\u5f97\u51fa\u9700\u8981\u66f4\u65b0\u7684\u5177\u4f53\u7684 DOM \u8282\u70b9\uff0c\u7136\u540e\u5bf9 DOM \u8fdb\u884c\u66f4\u65b0\u64cd\u4f5c\uff0c\u6bcf\u6b21\u66f4\u65b0\u72b6\u6001\u540e\u7684\u6e32\u67d3\u8fc7\u7a0b\u9700\u8981\u66f4\u591a\u7684\u8ba1\u7b97\uff0c\u800c\u8fd9\u79cd\u65e0\u7528\u529f\u4e5f\u5c06\u6d6a\u8d39\u66f4\u591a\u7684\u6027\u80fd\uff0c\u6240\u4ee5\u5f02\u6b65\u6e32\u67d3\u53d8\u5f97\u66f4\u52a0\u81f3\u5173\u91cd\u8981\n\n\n\nVue\u91c7\u7528\u4e86\u6570\u636e\u9a71\u52a8\u89c6\u56fe\u7684\u601d\u60f3\uff0c\u4f46\u662f\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4ecd\u7136\u9700\u8981\u64cd\u4f5cDOM\u3002\u6709\u65f6\u5019\uff0c\u53ef\u80fd\u9047\u5230\u8fd9\u6837\u7684\u60c5\u51b5\uff0cDOM1\u7684\u6570\u636e\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u800cDOM2\u9700\u8981\u4eceDOM1\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u90a3\u8fd9\u65f6\u5c31\u4f1a\u53d1\u73b0DOM2\u7684\u89c6\u56fe\u5e76\u6ca1\u6709\u66f4\u65b0\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u7528\u5230\u4e86`nextTick`\u4e86\u3002\n\n\n\u7531\u4e8eVue\u7684DOM\u64cd\u4f5c\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\uff0c\u5728\u4e0a\u9762\u7684\u60c5\u51b5\u4e2d\uff0c\u5c31\u8981\u5c06DOM2\u83b7\u53d6\u6570\u636e\u7684\u64cd\u4f5c\u5199\u5728`$nextTick`\u4e2d\u3002\n\n```javascript\nthis.$nextTick(() => {    // \u83b7\u53d6\u6570\u636e\u7684\u64cd\u4f5c...})\n```\n\n\u6240\u4ee5\uff0c\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\uff0c\u4f1a\u7528\u5230nextTick\uff1a\n\n- \u5728\u6570\u636e\u53d8\u5316\u540e\u6267\u884c\u7684\u67d0\u4e2a\u64cd\u4f5c\uff0c\u800c\u8fd9\u4e2a\u64cd\u4f5c\u9700\u8981\u4f7f\u7528\u968f\u6570\u636e\u53d8\u5316\u800c\u53d8\u5316\u7684DOM\u7ed3\u6784\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u5c31\u9700\u8981\u65b9\u6cd5\u5728`nextTick()`\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u3002\n- \u5728vue\u751f\u547d\u5468\u671f\u4e2d\uff0c\u5982\u679c\u5728created()\u94a9\u5b50\u8fdb\u884cDOM\u64cd\u4f5c\uff0c\u4e5f\u4e00\u5b9a\u8981\u653e\u5728`nextTick()`\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u3002\n\n\n\n\u56e0\u4e3a\u5728created()\u94a9\u5b50\u51fd\u6570\u4e2d\uff0c\u9875\u9762\u7684DOM\u8fd8\u672a\u6e32\u67d3\uff0c\u8fd9\u65f6\u5019\u4e5f\u6ca1\u529e\u6cd5\u64cd\u4f5cDOM\uff0c\u6240\u4ee5\uff0c\u6b64\u65f6\u5982\u679c\u60f3\u8981\u64cd\u4f5cDOM\uff0c\u5fc5\u987b\u5c06\u64cd\u4f5c\u7684\u4ee3\u7801\u653e\u5728`nextTick()`\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u3002\n\n### **19. Vue \u4e2d\u7ed9 data \u4e2d\u7684\u5bf9\u8c61\u5c5e\u6027\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027\u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\u5982\u4f55\u89e3\u51b3\uff1f**\n\n```javascript\n<template> \n   <div>\n      <ul>\n         <li v-for=\"value in obj\" :key=\"value\"> {{value}} </li> \n      </ul> \n      <button @click=\"addObjB\">\u6dfb\u52a0 obj.b</button> \n   </div>\n</template>\n\n<script>\n    export default { \n       data () { \n          return { \n              obj: { \n                  a: 'obj.a' \n              } \n          } \n       },\n       methods: { \n          addObjB () { \n              this.obj.b = 'obj.b' \n              console.log(this.obj) \n          } \n      }\n   }\n</script>\n```\n\n\u70b9\u51fb button \u4f1a\u53d1\u73b0\uff0cobj.b \u5df2\u7ecf\u6210\u529f\u6dfb\u52a0\uff0c\u4f46\u662f\u89c6\u56fe\u5e76\u672a\u5237\u65b0\u3002\u8fd9\u662f\u56e0\u4e3a\u5728Vue\u5b9e\u4f8b\u521b\u5efa\u65f6\uff0cobj.b\u5e76\u672a\u58f0\u660e\uff0c\u56e0\u6b64\u5c31\u6ca1\u6709\u88abVue\u8f6c\u6362\u4e3a\u54cd\u5e94\u5f0f\u7684\u5c5e\u6027\uff0c\u81ea\u7136\u5c31\u4e0d\u4f1a\u89e6\u53d1\u89c6\u56fe\u7684\u66f4\u65b0\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u4f7f\u7528Vue\u7684\u5168\u5c40 api **$set()\uff1a**\n\n```javascript\naddObjB () (\n   this.$set(this.obj, 'b', 'obj.b')\n   console.log(this.obj)\n}\n```\n\n$set()\u65b9\u6cd5\u76f8\u5f53\u4e8e\u624b\u52a8\u7684\u53bb\u628aobj.b\u5904\u7406\u6210\u4e00\u4e2a\u54cd\u5e94\u5f0f\u7684\u5c5e\u6027\uff0c\u6b64\u65f6\u89c6\u56fe\u4e5f\u4f1a\u8ddf\u7740\u6539\u53d8\u4e86\u3002\n\n### 20. Vue\u4e2d\u5c01\u88c5\u7684\u6570\u7ec4\u65b9\u6cd5\u6709\u54ea\u4e9b\uff0c\u5176\u5982\u4f55\u5b9e\u73b0\u9875\u9762\u66f4\u65b0\n\n\u5728Vue\u4e2d\uff0c\u5bf9\u54cd\u5e94\u5f0f\u5904\u7406\u5229\u7528\u7684\u662fObject.defineProperty\u5bf9\u6570\u636e\u8fdb\u884c\u62e6\u622a\uff0c\u800c\u8fd9\u4e2a\u65b9\u6cd5\u5e76\u4e0d\u80fd\u76d1\u542c\u5230\u6570\u7ec4\u5185\u90e8\u53d8\u5316\uff0c\u6570\u7ec4\u957f\u5ea6\u53d8\u5316\uff0c\u6570\u7ec4\u7684\u622a\u53d6\u53d8\u5316\u7b49\uff0c\u6240\u4ee5\u9700\u8981\u5bf9\u8fd9\u4e9b\u64cd\u4f5c\u8fdb\u884chack\uff0c\u8ba9Vue\u80fd\u76d1\u542c\u5230\u5176\u4e2d\u7684\u53d8\u5316\u3002\n![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6be20296a76f4e7085dfb510a3211d16~tplv-k3u1fbpfcp-zoom-1.image)\n\u90a3Vue\u662f\u5982\u4f55\u5b9e\u73b0\u8ba9\u8fd9\u4e9b\u6570\u7ec4\u65b9\u6cd5\u5b9e\u73b0\u5143\u7d20\u7684\u5b9e\u65f6\u66f4\u65b0\u7684\u5462\uff0c\u4e0b\u9762\u662fVue\u4e2d\u5bf9\u8fd9\u4e9b\u65b9\u6cd5\u7684\u5c01\u88c5\uff1a\n\n```javascript\n// \u7f13\u5b58\u6570\u7ec4\u539f\u578b\nconst arrayProto = Array.prototype;\n// \u5b9e\u73b0 arrayMethods.__proto__ === Array.prototype\nexport const arrayMethods = Object.create(arrayProto);\n// \u9700\u8981\u8fdb\u884c\u529f\u80fd\u62d3\u5c55\u7684\u65b9\u6cd5\nconst methodsToPatch = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\"\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function(method) {\n  // \u7f13\u5b58\u539f\u751f\u6570\u7ec4\u65b9\u6cd5\n  const original = arrayProto[method];\n  def(arrayMethods, method, function mutator(...args) {\n    // \u6267\u884c\u5e76\u7f13\u5b58\u539f\u751f\u6570\u7ec4\u529f\u80fd\n    const result = original.apply(this, args);\n    // \u54cd\u5e94\u5f0f\u5904\u7406\n    const ob = this.__ob__;\n    let inserted;\n    switch (method) {\n    // push\u3001unshift\u4f1a\u65b0\u589e\u7d22\u5f15\uff0c\u6240\u4ee5\u8981\u624b\u52a8observer\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      // splice\u65b9\u6cd5\uff0c\u5982\u679c\u4f20\u5165\u4e86\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u4e5f\u4f1a\u6709\u7d22\u5f15\u52a0\u5165\uff0c\u4e5f\u8981\u624b\u52a8observer\u3002\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    // \n    if (inserted) ob.observeArray(inserted);// \u83b7\u53d6\u63d2\u5165\u7684\u503c\uff0c\u5e76\u8bbe\u7f6e\u54cd\u5e94\u5f0f\u76d1\u542c\n    // notify change\n    ob.dep.notify();// \u901a\u77e5\u4f9d\u8d56\u66f4\u65b0\n    // \u8fd4\u56de\u539f\u751f\u6570\u7ec4\u65b9\u6cd5\u7684\u6267\u884c\u7ed3\u679c\n    return result;\n  });\n});\n```\n\n\u7b80\u5355\u6765\u8bf4\u5c31\u662f\uff0c\u91cd\u5199\u4e86\u6570\u7ec4\u4e2d\u7684\u90a3\u4e9b\u539f\u751f\u65b9\u6cd5\uff0c\u9996\u5148\u83b7\u53d6\u5230\u8fd9\u4e2a\u6570\u7ec4\u7684__ob__\uff0c\u4e5f\u5c31\u662f\u5b83\u7684Observer\u5bf9\u8c61\uff0c\u5982\u679c\u6709\u65b0\u7684\u503c\uff0c\u5c31\u8c03\u7528observeArray\u7ee7\u7eed\u5bf9\u65b0\u7684\u503c\u89c2\u5bdf\u53d8\u5316\uff08\u4e5f\u5c31\u662f\u901a\u8fc7`target__proto__ == arrayMethods`\u6765\u6539\u53d8\u4e86\u6570\u7ec4\u5b9e\u4f8b\u7684\u578b\uff09\uff0c\u7136\u540e\u624b\u52a8\u8c03\u7528notify\uff0c\u901a\u77e5\u6e32\u67d3watcher\uff0c\u6267\u884cupdate\u3002\n\n### 21. Vue \u5355\u9875\u5e94\u7528\u4e0e\u591a\u9875\u5e94\u7528\u7684\u533a\u522b\n\n**\u6982\u5ff5\uff1a**\n\n- SPA\u5355\u9875\u9762\u5e94\u7528\uff08SinglePage Web Application\uff09\uff0c\u6307\u53ea\u6709\u4e00\u4e2a\u4e3b\u9875\u9762\u7684\u5e94\u7528\uff0c\u4e00\u5f00\u59cb\u53ea\u9700\u8981\u52a0\u8f7d\u4e00\u6b21js\u3001css\u7b49\u76f8\u5173\u8d44\u6e90\u3002\u6240\u6709\u5185\u5bb9\u90fd\u5305\u542b\u5728\u4e3b\u9875\u9762\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u529f\u80fd\u6a21\u5757\u7ec4\u4ef6\u5316\u3002\u5355\u9875\u5e94\u7528\u8df3\u8f6c\uff0c\u5c31\u662f\u5207\u6362\u76f8\u5173\u7ec4\u4ef6\uff0c\u4ec5\u4ec5\u5237\u65b0\u5c40\u90e8\u8d44\u6e90\u3002\n- MPA\u591a\u9875\u9762\u5e94\u7528 \uff08MultiPage Application\uff09\uff0c\u6307\u6709\u591a\u4e2a\u72ec\u7acb\u9875\u9762\u7684\u5e94\u7528\uff0c\u6bcf\u4e2a\u9875\u9762\u5fc5\u987b\u91cd\u590d\u52a0\u8f7djs\u3001css\u7b49\u76f8\u5173\u8d44\u6e90\u3002\u591a\u9875\u5e94\u7528\u8df3\u8f6c\uff0c\u9700\u8981\u6574\u9875\u8d44\u6e90\u5237\u65b0\u3002\n\n\n\n**\u533a\u522b\uff1a**\n![775316ebb4c727f7c8771cc2c06e06dd.jpg](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76b3d747986e45e096abaf64faf5e332~tplv-k3u1fbpfcp-zoom-1.image)\n\n### 22. Vue template \u5230 render \u7684\u8fc7\u7a0b\n\nvue\u7684\u6a21\u7248\u7f16\u8bd1\u8fc7\u7a0b\u4e3b\u8981\u5982\u4e0b\uff1a**template -> ast -> render\u51fd\u6570**\n\n\nvue \u5728\u6a21\u7248\u7f16\u8bd1\u7248\u672c\u7684\u7801\u4e2d\u4f1a\u6267\u884c compileToFunctions \u5c06template\u8f6c\u5316\u4e3arender\u51fd\u6570\uff1a\n\n```javascript\n// \u5c06\u6a21\u677f\u7f16\u8bd1\u4e3arender\u51fd\u6570const { render, staticRenderFns } = compileToFunctions(template,options//\u7701\u7565}, this)\n```\n\nCompileToFunctions\u4e2d\u7684\u4e3b\u8981\u903b\u8f91\u5982\u4e0b\u2236\n**\uff081\uff09\u8c03\u7528parse\u65b9\u6cd5\u5c06template\u8f6c\u5316\u4e3aast\uff08\u62bd\u8c61\u8bed\u6cd5\u6811\uff09**\n\n```javascript\nconstast = parse(template.trim(), options)\n```\n\n- **parse\u7684\u76ee\u6807**\uff1a\u628atamplate\u8f6c\u6362\u4e3aAST\u6811\uff0c\u5b83\u662f\u4e00\u79cd\u7528 JavaScript\u5bf9\u8c61\u7684\u5f62\u5f0f\u6765\u63cf\u8ff0\u6574\u4e2a\u6a21\u677f\u3002\n- **\u89e3\u6790\u8fc7\u7a0b**\uff1a\u5229\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u987a\u5e8f\u89e3\u6790\u6a21\u677f\uff0c\u5f53\u89e3\u6790\u5230\u5f00\u59cb\u6807\u7b7e\u3001\u95ed\u5408\u6807\u7b7e\u3001\u6587\u672c\u7684\u65f6\u5019\u90fd\u4f1a\u5206\u522b\u6267\u884c\u5bf9\u5e94\u7684 \u56de\u8c03\u51fd\u6570\uff0c\u6765\u8fbe\u5230\u6784\u9020AST\u6811\u7684\u76ee\u7684\u3002\n\nAST\u5143\u7d20\u8282\u70b9\u603b\u5171\u4e09\u79cd\u7c7b\u578b\uff1atype\u4e3a1\u8868\u793a\u666e\u901a\u5143\u7d20\u30012\u4e3a\u8868\u8fbe\u5f0f\u30013\u4e3a\u7eaf\u6587\u672c\n\n\n**\uff082\uff09\u5bf9\u9759\u6001\u8282\u70b9\u505a\u4f18\u5316**\n\n```javascript\noptimize(ast,options)\n```\n\n\u8fd9\u4e2a\u8fc7\u7a0b\u4e3b\u8981\u5206\u6790\u51fa\u54ea\u4e9b\u662f\u9759\u6001\u8282\u70b9\uff0c\u7ed9\u5176\u6253\u4e00\u4e2a\u6807\u8bb0\uff0c\u4e3a\u540e\u7eed\u66f4\u65b0\u6e32\u67d3\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\u9759\u6001\u8282\u70b9\u505a\u4f18\u5316\n\n\n\u6df1\u5ea6\u904d\u5386AST\uff0c\u67e5\u770b\u6bcf\u4e2a\u5b50\u6811\u7684\u8282\u70b9\u5143\u7d20\u662f\u5426\u4e3a\u9759\u6001\u8282\u70b9\u6216\u8005\u9759\u6001\u8282\u70b9\u6839\u3002\u5982\u679c\u4e3a\u9759\u6001\u8282\u70b9\uff0c\u4ed6\u4eec\u751f\u6210\u7684DOM\u6c38\u8fdc\u4e0d\u4f1a\u6539\u53d8\uff0c\u8fd9\u5bf9\u8fd0\u884c\u65f6\u6a21\u677f\u66f4\u65b0\u8d77\u5230\u4e86\u6781\u5927\u7684\u4f18\u5316\u4f5c\u7528\u3002\n\n\n**\uff083\uff09\u751f\u6210\u4ee3\u7801**\n\n```javascript\nconst code = generate(ast, options)\n```\n\ngenerate\u5c06ast\u62bd\u8c61\u8bed\u6cd5\u6811\u7f16\u8bd1\u6210 render\u5b57\u7b26\u4e32\u5e76\u5c06\u9759\u6001\u90e8\u5206\u653e\u5230 staticRenderFns \u4e2d\uff0c\u6700\u540e\u901a\u8fc7 `new Function(`` render``)` \u751f\u6210render\u51fd\u6570\u3002\n\n### 23. Vue data \u4e2d\u67d0\u4e00\u4e2a\u5c5e\u6027\u7684\u503c\u53d1\u751f\u6539\u53d8\u540e\uff0c\u89c6\u56fe\u4f1a\u7acb\u5373\u540c\u6b65\u6267\u884c\u91cd\u65b0\u6e32\u67d3\u5417\uff1f\n\n\u4e0d\u4f1a\u7acb\u5373\u540c\u6b65\u6267\u884c\u91cd\u65b0\u6e32\u67d3\u3002Vue \u5b9e\u73b0\u54cd\u5e94\u5f0f\u5e76\u4e0d\u662f\u6570\u636e\u53d1\u751f\u53d8\u5316\u4e4b\u540e DOM \u7acb\u5373\u53d8\u5316\uff0c\u800c\u662f\u6309\u4e00\u5b9a\u7684\u7b56\u7565\u8fdb\u884c DOM \u7684\u66f4\u65b0\u3002Vue \u5728\u66f4\u65b0 DOM \u65f6\u662f\u5f02\u6b65\u6267\u884c\u7684\u3002\u53ea\u8981\u4fa6\u542c\u5230\u6570\u636e\u53d8\u5316\uff0c Vue \u5c06\u5f00\u542f\u4e00\u4e2a\u961f\u5217\uff0c\u5e76\u7f13\u51b2\u5728\u540c\u4e00\u4e8b\u4ef6\u5faa\u73af\u4e2d\u53d1\u751f\u7684\u6240\u6709\u6570\u636e\u53d8\u66f4\u3002\n\n\n\u5982\u679c\u540c\u4e00\u4e2awatcher\u88ab\u591a\u6b21\u89e6\u53d1\uff0c\u53ea\u4f1a\u88ab\u63a8\u5165\u5230\u961f\u5217\u4e2d\u4e00\u6b21\u3002\u8fd9\u79cd\u5728\u7f13\u51b2\u65f6\u53bb\u9664\u91cd\u590d\u6570\u636e\u5bf9\u4e8e\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\u548c DOM \u64cd\u4f5c\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u7136\u540e\uff0c\u5728\u4e0b\u4e00\u4e2a\u7684\u4e8b\u4ef6\u5faa\u73aftick\u4e2d\uff0cVue \u5237\u65b0\u961f\u5217\u5e76\u6267\u884c\u5b9e\u9645\uff08\u5df2\u53bb\u91cd\u7684\uff09\u5de5\u4f5c\u3002\n\n### 24. \u7b80\u8ff0 mixin\u3001extends \u7684\u8986\u76d6\u903b\u8f91\n\n**\uff081\uff09mixin \u548c extends**\nmixin \u548c extends\u5747\u662f\u7528\u4e8e\u5408\u5e76\u3001\u62d3\u5c55\u7ec4\u4ef6\u7684\uff0c\u4e24\u8005\u5747\u901a\u8fc7 mergeOptions \u65b9\u6cd5\u5b9e\u73b0\u5408\u5e76\u3002\n\n- mixins \u63a5\u6536\u4e00\u4e2a\u6df7\u5165\u5bf9\u8c61\u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u6df7\u5165\u5bf9\u8c61\u53ef\u4ee5\u50cf\u6b63\u5e38\u7684\u5b9e\u4f8b\u5bf9\u8c61\u4e00\u6837\u5305\u542b\u5b9e\u4f8b\u9009\u9879\uff0c\u8fd9\u4e9b\u9009\u9879\u4f1a\u88ab\u5408\u5e76\u5230\u6700\u7ec8\u7684\u9009\u9879\u4e2d\u3002Mixin \u94a9\u5b50\u6309\u7167\u4f20\u5165\u987a\u5e8f\u4f9d\u6b21\u8c03\u7528\uff0c\u5e76\u5728\u8c03\u7528\u7ec4\u4ef6\u81ea\u8eab\u7684\u94a9\u5b50\u4e4b\u524d\u88ab\u8c03\u7528\u3002\n- extends \u4e3b\u8981\u662f\u4e3a\u4e86\u4fbf\u4e8e\u6269\u5c55\u5355\u6587\u4ef6\u7ec4\u4ef6\uff0c\u63a5\u6536\u4e00\u4e2a\u5bf9\u8c61\u6216\u6784\u9020\u51fd\u6570\u3002\n\n![bb253b1d177f421741af0e7dd0f52b5e.jpg](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e7df745017242a7beaba81e854a0f97~tplv-k3u1fbpfcp-zoom-1.image)\n**\uff082\uff09mergeOptions \u7684\u6267\u884c\u8fc7\u7a0b**\n\n- \u89c4\u8303\u5316\u9009\u9879\uff08normalizeProps\u3001normalizelnject\u3001normalizeDirectives)\n- \u5bf9\u672a\u5408\u5e76\u7684\u9009\u9879\uff0c\u8fdb\u884c\u5224\u65ad\n\n```javascript\nif(!child._base) {    if(child.extends) {        parent = mergeOptions(parent, child.extends, vm)    }    if(child.mixins) {        for(let i = 0, l = child.mixins.length; i < l; i++){            parent = mergeOptions(parent, child.mixins[i], vm)        }    }}\n```\n\n- \u5408\u5e76\u5904\u7406\u3002\u6839\u636e\u4e00\u4e2a\u901a\u7528 Vue \u5b9e\u4f8b\u6240\u5305\u542b\u7684\u9009\u9879\u8fdb\u884c\u5206\u7c7b\u9010\u4e00\u5224\u65ad\u5408\u5e76\uff0c\u5982 props\u3001data\u3001 methods\u3001watch\u3001computed\u3001\u751f\u547d\u5468\u671f\u7b49\uff0c\u5c06\u5408\u5e76\u7ed3\u679c\u5b58\u50a8\u5728\u65b0\u5b9a\u4e49\u7684 options \u5bf9\u8c61\u91cc\u3002\n- \u8fd4\u56de\u5408\u5e76\u7ed3\u679c options\u3002\n\n### 25. \u63cf\u8ff0\u4e0bVue\u81ea\u5b9a\u4e49\u6307\u4ee4\n\n\u5728 Vue2.0 \u4e2d\uff0c\u4ee3\u7801\u590d\u7528\u548c\u62bd\u8c61\u7684\u4e3b\u8981\u5f62\u5f0f\u662f\u7ec4\u4ef6\u3002\u7136\u800c\uff0c\u6709\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u4ecd\u7136\u9700\u8981\u5bf9\u666e\u901a DOM \u5143\u7d20\u8fdb\u884c\u5e95\u5c42\u64cd\u4f5c\uff0c\u8fd9\u65f6\u5019\u5c31\u4f1a\u7528\u5230\u81ea\u5b9a\u4e49\u6307\u4ee4\u3002\n\u4e00\u822c\u9700\u8981\u5bf9DOM\u5143\u7d20\u8fdb\u884c\u5e95\u5c42\u64cd\u4f5c\u65f6\u4f7f\u7528\uff0c\u5c3d\u91cf\u53ea\u7528\u6765\u64cd\u4f5c DOM\u5c55\u793a\uff0c\u4e0d\u4fee\u6539\u5185\u90e8\u7684\u503c\u3002\u5f53\u4f7f\u7528\u81ea\u5b9a\u4e49\u6307\u4ee4\u76f4\u63a5\u4fee\u6539 value \u503c\u65f6\u7ed1\u5b9av-model\u7684\u503c\u4e5f\u4e0d\u4f1a\u540c\u6b65\u66f4\u65b0\uff1b\u5982\u5fc5\u987b\u4fee\u6539\u53ef\u4ee5\u5728\u81ea\u5b9a\u4e49\u6307\u4ee4\u4e2d\u4f7f\u7528keydown\u4e8b\u4ef6\uff0c\u5728vue\u7ec4\u4ef6\u4e2d\u4f7f\u7528 change\u4e8b\u4ef6\uff0c\u56de\u8c03\u4e2d\u4fee\u6539vue\u6570\u636e; \n\n\n**\uff081\uff09\u81ea\u5b9a\u4e49\u6307\u4ee4\u57fa\u672c\u5185\u5bb9**\n\n- \u5168\u5c40\u5b9a\u4e49\uff1a`Vue.directive(\"focus\",{})`\n\n- \u5c40\u90e8\u5b9a\u4e49\uff1a`directives:{focus:{}}`\n\n- \u94a9\u5b50\u51fd\u6570\uff1a\u6307\u4ee4\u5b9a\u4e49\u5bf9\u8c61\u63d0\u4f9b\u94a9\u5b50\u51fd\u6570\n\n     o bind\uff1a\u53ea\u8c03\u7528\u4e00\u6b21\uff0c\u6307\u4ee4\u7b2c\u4e00\u6b21\u7ed1\u5b9a\u5230\u5143\u7d20\u65f6\u8c03\u7528\u3002\u5728\u8fd9\u91cc\u53ef\u4ee5\u8fdb\u884c\u4e00\u6b21\u6027\u7684\u521d\u59cb\u5316\u8bbe\u7f6e\u3002\n\n     o inSerted\uff1a\u88ab\u7ed1\u5b9a\u5143\u7d20\u63d2\u5165\u7236\u8282\u70b9\u65f6\u8c03\u7528\uff08\u4ec5\u4fdd\u8bc1\u7236\u8282\u70b9\u5b58\u5728\uff0c\u4f46\u4e0d\u4e00\u5b9a\u5df2\u88ab\u63d2\u5165\u6587\u6863\u4e2d\uff09\u3002\n\n     o update\uff1a\u6240\u5728\u7ec4\u4ef6\u7684VNode\u66f4\u65b0\u65f6\u8c03\u7528\uff0c\u4f46\u662f\u53ef\u80fd\u53d1\u751f\u5728\u5176\u5b50VNode\u66f4\u65b0\u4e4b\u524d\u8c03\u7528\u3002\u6307\u4ee4\u7684\u503c\u53ef\u80fd\u53d1\u751f\u4e86\u6539\u53d8\uff0c\u4e5f\u53ef\u80fd\u6ca1\u6709\u3002\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83\u66f4\u65b0\u524d\u540e\u7684\u503c\u6765\u5ffd\u7565\u4e0d\u5fc5\u8981\u7684\u6a21\u677f\u66f4\u65b0\u3002\n\n    o ComponentUpdate\uff1a\u6307\u4ee4\u6240\u5728\u7ec4\u4ef6\u7684 VNode\u53ca\u5176\u5b50VNode\u5168\u90e8\u66f4\u65b0\u540e\u8c03\u7528\u3002\n\n    o unbind\uff1a\u53ea\u8c03\u7528\u4e00\u6b21\uff0c\u6307\u4ee4\u4e0e\u5143\u7d20\u89e3\u7ed1\u65f6\u8c03\u7528\u3002\n\n- \u94a9\u5b50\u51fd\u6570\u53c2\u6570\n    o el\uff1a\u7ed1\u5b9a\u5143\u7d20\n    \n    o bing\uff1a \u6307\u4ee4\u6838\u5fc3\u5bf9\u8c61\uff0c\u63cf\u8ff0\u6307\u4ee4\u5168\u90e8\u4fe1\u606f\u5c5e\u6027\n    \n    o name\n    \n    o value\n    \n    o oldValue\n    \n    o expression\n    \n    o arg\n    \n    o modifers\n   \n    o vnode  \u865a\u62df\u8282\u70b9\n\n    o oldVnode\uff1a\u4e0a\u4e00\u4e2a\u865a\u62df\u8282\u70b9\uff08\u66f4\u65b0\u94a9\u5b50\u51fd\u6570\u4e2d\u624d\u6709\u7528\uff09\n\n \n**\uff082\uff09\u4f7f\u7528\u573a\u666f**\n\n- \u666e\u901aDOM\u5143\u7d20\u8fdb\u884c\u5e95\u5c42\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u6307\u4ee4\n\n- \u81ea\u5b9a\u4e49\u6307\u4ee4\u662f\u7528\u6765\u64cd\u4f5cDOM\u7684\u3002\u5c3d\u7ba1Vue\u63a8\u5d07\u6570\u636e\u9a71\u52a8\u89c6\u56fe\u7684\u7406\u5ff5\uff0c\u4f46\u5e76\u975e\u6240\u6709\u60c5\u51b5\u90fd\u9002\u5408\u6570\u636e\u9a71\u52a8\u3002\u81ea\u5b9a\u4e49\u6307\u4ee4\u5c31\u662f\u4e00\u79cd\u6709\u6548\u7684\u8865\u5145\u548c\u6269\u5c55\uff0c\u4e0d\u4ec5\u53ef\u7528\u4e8e\u5b9a\u4e49\u4efb\u4f55\u7684DOM\u64cd\u4f5c\uff0c\u5e76\u4e14\u662f\u53ef\u590d\u7528\u7684\u3002\n\n**\uff083\uff09\u4f7f\u7528\u6848\u4f8b**\n\n\u521d\u7ea7\u5e94\u7528\uff1a\n\n- \u9f20\u6807\u805a\u7126\n- \u4e0b\u62c9\u83dc\u5355\n- \u76f8\u5bf9\u65f6\u95f4\u8f6c\u6362\n- \u6eda\u52a8\u52a8\u753b\n\n\u9ad8\u7ea7\u5e94\u7528\uff1a\n\n- \u81ea\u5b9a\u4e49\u6307\u4ee4\u5b9e\u73b0\u56fe\u7247\u61d2\u52a0\u8f7d\n- \u81ea\u5b9a\u4e49\u6307\u4ee4\u96c6\u6210\u7b2c\u4e09\u65b9\u63d2\u4ef6\n\n### 26. \u5b50\u7ec4\u4ef6\u53ef\u4ee5\u76f4\u63a5\u6539\u53d8\u7236\u7ec4\u4ef6\u7684\u6570\u636e\u5417\uff1f\n\n\u5b50\u7ec4\u4ef6\u4e0d\u53ef\u4ee5\u76f4\u63a5\u6539\u53d8\u7236\u7ec4\u4ef6\u7684\u6570\u636e\u3002\u8fd9\u6837\u505a\u4e3b\u8981\u662f\u4e3a\u4e86\u7ef4\u62a4\u7236\u5b50\u7ec4\u4ef6\u7684\u5355\u5411\u6570\u636e\u6d41\u3002\u6bcf\u6b21\u7236\u7ea7\u7ec4\u4ef6\u53d1\u751f\u66f4\u65b0\u65f6\uff0c\u5b50\u7ec4\u4ef6\u4e2d\u6240\u6709\u7684 prop \u90fd\u5c06\u4f1a\u5237\u65b0\u4e3a\u6700\u65b0\u7684\u503c\u3002\u5982\u679c\u8fd9\u6837\u505a\u4e86\uff0cVue \u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u63a7\u5236\u53f0\u4e2d\u53d1\u51fa\u8b66\u544a\u3002\n\n\nVue\u63d0\u5021\u5355\u5411\u6570\u636e\u6d41\uff0c\u5373\u7236\u7ea7 props \u7684\u66f4\u65b0\u4f1a\u6d41\u5411\u5b50\u7ec4\u4ef6\uff0c\u4f46\u662f\u53cd\u8fc7\u6765\u5219\u4e0d\u884c\u3002\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u610f\u5916\u7684\u6539\u53d8\u7236\u7ec4\u4ef6\u72b6\u6001\uff0c\u4f7f\u5f97\u5e94\u7528\u7684\u6570\u636e\u6d41\u53d8\u5f97\u96be\u4ee5\u7406\u89e3\uff0c\u5bfc\u81f4\u6570\u636e\u6d41\u6df7\u4e71\u3002\u5982\u679c\u7834\u574f\u4e86\u5355\u5411\u6570\u636e\u6d41\uff0c\u5f53\u5e94\u7528\u590d\u6742\u65f6\uff0cdebug \u7684\u6210\u672c\u4f1a\u975e\u5e38\u9ad8\u3002\n\n\n**\u53ea\u80fd\u901a\u8fc7 **`$emit`** \u6d3e\u53d1\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u7236\u7ec4\u4ef6\u63a5\u6536\u5230\u540e\uff0c\u7531\u7236\u7ec4\u4ef6\u4fee\u6539\u3002**\n\n### 27. Vue\u662f\u5982\u4f55\u6536\u96c6\u4f9d\u8d56\u7684\uff1f\n\n\u5728\u521d\u59cb\u5316 Vue \u7684\u6bcf\u4e2a\u7ec4\u4ef6\u65f6\uff0c\u4f1a\u5bf9\u7ec4\u4ef6\u7684 data \u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5c31\u4f1a\u5c06\u7531\u666e\u901a\u5bf9\u8c61\u53d8\u6210\u54cd\u5e94\u5f0f\u5bf9\u8c61\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4fbf\u4f1a\u8fdb\u884c\u4f9d\u8d56\u6536\u96c6\u7684\u76f8\u5173\u903b\u8f91\uff0c\u5982\u4e0b\u6240\u793a\u2236\n\n```javascript\nfunction defieneReactive (obj, key, val){\n  const dep = new Dep();\n  ...\n  Object.defineProperty(obj, key, {\n    ...\n    get: function reactiveGetter () {\n      if(Dep.target){\n        dep.depend();\n        ...\n      }\n      return val\n    }\n    ...\n  })\n}\n```\n\n\u4ee5\u4e0a\u53ea\u4fdd\u7559\u4e86\u5173\u952e\u4ee3\u7801\uff0c\u4e3b\u8981\u5c31\u662f `const dep = new Dep()`\u5b9e\u4f8b\u5316\u4e00\u4e2a Dep \u7684\u5b9e\u4f8b\uff0c\u7136\u540e\u5728 get \u51fd\u6570\u4e2d\u901a\u8fc7 `dep.depend()` \u8fdb\u884c\u4f9d\u8d56\u6536\u96c6\u3002\n**\uff081\uff09Dep**\nDep\u662f\u6574\u4e2a\u4f9d\u8d56\u6536\u96c6\u7684\u6838\u5fc3\uff0c\u5176\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```javascript\nclass Dep {\n  static target;\n  subs;\n\n  constructor () {\n    ...\n    this.subs = [];\n  }\n  addSub (sub) {\n    this.subs.push(sub)\n  }\n  removeSub (sub) {\n    remove(this.sub, sub)\n  }\n  depend () {\n    if(Dep.target){\n      Dep.target.addDep(this)\n    }\n  }\n  notify () {\n    const subs = this.subds.slice();\n    for(let i = 0;i < subs.length; i++){\n      subs[i].update()\n    }\n  }\n}\n```\n\nDep \u662f\u4e00\u4e2a class \uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u5173 \u952e\u7684\u9759\u6001\u5c5e\u6027 static\uff0c\u5b83\u6307\u5411\u4e86\u4e00\u4e2a\u5168\u5c40\u552f\u4e00 Watcher\uff0c\u4fdd\u8bc1\u4e86\u540c\u4e00\u65f6\u95f4\u5168\u5c40\u53ea\u6709\u4e00\u4e2a watcher \u88ab\u8ba1\u7b97\uff0c\u53e6\u4e00\u4e2a\u5c5e\u6027 subs \u5219\u662f\u4e00\u4e2a Watcher \u7684\u6570\u7ec4\uff0c\u6240\u4ee5 Dep \u5b9e\u9645\u4e0a\u5c31\u662f\u5bf9 Watcher \u7684\u7ba1\u7406\uff0c\u518d\u770b\u770b Watcher \u7684\u76f8\u5173\u4ee3\u7801\u2236\n\n**\uff082\uff09Watcher**\n\n```javascript\nclass Watcher {\n  getter;\n  ...\n  constructor (vm, expression){\n    ...\n    this.getter = expression;\n    this.get();\n  }\n  get () {\n    pushTarget(this);\n    value = this.getter.call(vm, vm)\n    ...\n    return value\n  }\n  addDep (dep){\n        ...\n    dep.addSub(this)\n  }\n  ...\n}\nfunction pushTarget (_target) {\n  Dep.target = _target\n}\n```\n\nWatcher \u662f\u4e00\u4e2a class\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u4e9b\u65b9\u6cd5\uff0c\u5176\u4e2d\u548c\u4f9d\u8d56\u6536\u96c6\u76f8\u5173\u7684\u4e3b\u8981\u6709 get\u3001addDep \u7b49\u3002\n\n**\uff083\uff09\u8fc7\u7a0b**\n\n\u5728\u5b9e\u4f8b\u5316 Vue \u65f6\uff0c\u4f9d\u8d56\u6536\u96c6\u7684\u76f8\u5173\u8fc7\u7a0b\u5982\u4e0b\u2236\n\u521d \u59cb \u5316 \u72b6 \u6001 initState \uff0c \u8fd9 \u4e2d \u95f4 \u4fbf \u4f1a \u901a \u8fc7 defineReactive \u5c06\u6570\u636e\u53d8\u6210\u54cd\u5e94\u5f0f\u5bf9\u8c61\uff0c\u5176\u4e2d\u7684 getter \u90e8\u5206\u4fbf\u662f\u7528\u6765\u4f9d\u8d56\u6536\u96c6\u7684\u3002\n\u521d\u59cb\u5316\u6700\u7ec8\u4f1a\u8d70 mount \u8fc7\u7a0b\uff0c\u5176\u4e2d\u4f1a\u5b9e\u4f8b\u5316 Watcher \uff0c\u8fdb\u5165 Watcher \u4e2d\uff0c\u4fbf\u4f1a\u6267\u884c this.get() \u65b9\u6cd5\uff0c\n\n```javascript\nupdateComponent = () => {\n  vm._update(vm._render())\n}\nnew Watcher(vm, updateComponent)\n```\n\nget \u65b9\u6cd5\u4e2d\u7684 pushTarget \u5b9e\u9645\u4e0a\u5c31\u662f\u628a Dep.target \u8d4b\u503c\u4e3a\u5f53\u524d\u7684 watcher\u3002\n\n\nthis.getter.call\uff08vm\uff0cvm\uff09\uff0c\u8fd9\u91cc\u7684 getter \u4f1a\u6267\u884c vm._render() \u65b9\u6cd5\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4fbf\u4f1a\u89e6\u53d1\u6570\u636e\u5bf9\u8c61\u7684 getter\u3002\u90a3\u4e48\u6bcf\u4e2a\u5bf9\u8c61\u503c\u7684 getter \u90fd\u6301\u6709\u4e00\u4e2a dep\uff0c\u5728\u89e6\u53d1 getter \u7684\u65f6\u5019\u4f1a\u8c03\u7528 dep.depend() \u65b9\u6cd5\uff0c\u4e5f\u5c31\u4f1a\u6267\u884c Dep.target.addDep(this)\u3002\u521a\u624d Dep.target \u5df2\u7ecf\u88ab\u8d4b\u503c\u4e3a watcher\uff0c\u4e8e\u662f\u4fbf\u4f1a\u6267\u884c addDep \u65b9\u6cd5\uff0c\u7136\u540e\u8d70\u5230 dep.addSub() \u65b9\u6cd5\uff0c\u4fbf\u5c06\u5f53\u524d\u7684 watcher \u8ba2\u9605\u5230\u8fd9\u4e2a\u6570\u636e\u6301\u6709\u7684 dep \u7684 subs \u4e2d\uff0c\u8fd9\u4e2a\u76ee\u7684\u662f\u4e3a\u540e\u7eed\u6570\u636e\u53d8\u5316\u65f6\u5019\u80fd\u901a\u77e5\u5230\u54ea\u4e9b subs \u505a\u51c6\u5907\u3002\u6240\u4ee5\u5728 vm._render() \u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u89e6\u53d1\u6240\u6709\u6570\u636e\u7684 getter\uff0c\u8fd9\u6837\u4fbf\u5df2\u7ecf\u5b8c\u6210\u4e86\u4e00\u4e2a\u4f9d\u8d56\u6536\u96c6\u7684\u8fc7\u7a0b\u3002\n\n### 28. \u5bf9 React \u548c Vue \u7684\u7406\u89e3\uff0c\u5b83\u4eec\u7684\u5f02\u540c\n\n**\u76f8\u4f3c\u4e4b\u5904\uff1a**\n\n- \u90fd\u5c06\u6ce8\u610f\u529b\u96c6\u4e2d\u4fdd\u6301\u5728\u6838\u5fc3\u5e93\uff0c\u800c\u5c06\u5176\u4ed6\u529f\u80fd\u5982\u8def\u7531\u548c\u5168\u5c40\u72b6\u6001\u7ba1\u7406\u4ea4\u7ed9\u76f8\u5173\u7684\u5e93\uff1b\n- \u90fd\u6709\u81ea\u5df1\u7684\u6784\u5efa\u5de5\u5177\uff0c\u80fd\u8ba9\u4f60\u5f97\u5230\u4e00\u4e2a\u6839\u636e\u6700\u4f73\u5b9e\u8df5\u8bbe\u7f6e\u7684\u9879\u76ee\u6a21\u677f\uff1b\n- \u90fd\u4f7f\u7528\u4e86Virtual DOM\uff08\u865a\u62dfDOM\uff09\u63d0\u9ad8\u91cd\u7ed8\u6027\u80fd\uff1b\n- \u90fd\u6709props\u7684\u6982\u5ff5\uff0c\u5141\u8bb8\u7ec4\u4ef6\u95f4\u7684\u6570\u636e\u4f20\u9012\uff1b\n- \u90fd\u9f13\u52b1\u7ec4\u4ef6\u5316\u5e94\u7528\uff0c\u5c06\u5e94\u7528\u5206\u62c6\u6210\u4e00\u4e2a\u4e2a\u529f\u80fd\u660e\u786e\u7684\u6a21\u5757\uff0c\u63d0\u9ad8\u590d\u7528\u6027\u3002\n\n\n\n**\u4e0d\u540c\u4e4b\u5904 \uff1a**\n\n**1\uff09\u6570\u636e\u6d41**\n\nVue\u9ed8\u8ba4\u652f\u6301\u6570\u636e\u53cc\u5411\u7ed1\u5b9a\uff0c\u800cReact\u4e00\u76f4\u63d0\u5021\u5355\u5411\u6570\u636e\u6d41 \n\n**2\uff09\u865a\u62dfDOM**\n\nVue2.x\u5f00\u59cb\u5f15\u5165\"Virtual DOM\"\uff0c\u6d88\u9664\u4e86\u548cReact\u5728\u8fd9\u65b9\u9762\u7684\u5dee\u5f02\uff0c\u4f46\u662f\u5728\u5177\u4f53\u7684\u7ec6\u8282\u8fd8\u662f\u6709\u5404\u81ea\u7684\u7279\u70b9\u3002 \n\n- Vue\u5ba3\u79f0\u53ef\u4ee5\u66f4\u5feb\u5730\u8ba1\u7b97\u51faVirtual DOM\u7684\u5dee\u5f02\uff0c\u8fd9\u662f\u7531\u4e8e\u5b83\u5728\u6e32\u67d3\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u8ddf\u8e2a\u6bcf\u4e00\u4e2a\u7ec4\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e0d\u9700\u8981\u91cd\u65b0\u6e32\u67d3\u6574\u4e2a\u7ec4\u4ef6\u6811\u3002\n- \u5bf9\u4e8eReact\u800c\u8a00\uff0c\u6bcf\u5f53\u5e94\u7528\u7684\u72b6\u6001\u88ab\u6539\u53d8\u65f6\uff0c\u5168\u90e8\u5b50\u7ec4\u4ef6\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002\u5f53\u7136\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 PureComponent/shouldComponentUpdate\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u65b9\u6cd5\u6765\u8fdb\u884c\u63a7\u5236\uff0c\u4f46Vue\u5c06\u6b64\u89c6\u4e3a\u9ed8\u8ba4\u7684\u4f18\u5316\u3002\n\n**3\uff09\u7ec4\u4ef6\u5316**\n\nReact\u4e0eVue\u6700\u5927\u7684\u4e0d\u540c\u662f\u6a21\u677f\u7684\u7f16\u5199\u3002\n\n- Vue\u9f13\u52b1\u5199\u8fd1\u4f3c\u5e38\u89c4HTML\u7684\u6a21\u677f\u3002\u5199\u8d77\u6765\u5f88\u63a5\u8fd1\u6807\u51c6 HTML\u5143\u7d20\uff0c\u53ea\u662f\u591a\u4e86\u4e00\u4e9b\u5c5e\u6027\u3002\n- React\u63a8\u8350\u4f60\u6240\u6709\u7684\u6a21\u677f\u901a\u7528JavaScript\u7684\u8bed\u6cd5\u6269\u5c55\u2014\u2014JSX\u4e66\u5199\u3002\n\n\n\n\u5177\u4f53\u6765\u8bb2\uff1aReact\u4e2drender\u51fd\u6570\u662f\u652f\u6301\u95ed\u5305\u7279\u6027\u7684\uff0c\u6240\u4ee5import\u7684\u7ec4\u4ef6\u5728render\u4e2d\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u3002\u4f46\u662f\u5728Vue\u4e2d\uff0c\u7531\u4e8e\u6a21\u677f\u4e2d\u4f7f\u7528\u7684\u6570\u636e\u90fd\u5fc5\u987b\u6302\u5728 this \u4e0a\u8fdb\u884c\u4e00\u6b21\u4e2d\u8f6c\uff0c\u6240\u4ee5 import \u4e00\u4e2a\u7ec4\u4ef6\u5b8c\u4e86\u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u5728 components \u4e2d\u518d\u58f0\u660e\u4e0b\u3002\n**4\uff09\u76d1\u542c\u6570\u636e\u53d8\u5316\u7684\u5b9e\u73b0\u539f\u7406\u4e0d\u540c**\n\n- Vue \u901a\u8fc7 getter/setter \u4ee5\u53ca\u4e00\u4e9b\u51fd\u6570\u7684\u52ab\u6301\uff0c\u80fd\u7cbe\u786e\u77e5\u9053\u6570\u636e\u53d8\u5316\uff0c\u4e0d\u9700\u8981\u7279\u522b\u7684\u4f18\u5316\u5c31\u80fd\u8fbe\u5230\u5f88\u597d\u7684\u6027\u80fd\n- React \u9ed8\u8ba4\u662f\u901a\u8fc7\u6bd4\u8f83\u5f15\u7528\u7684\u65b9\u5f0f\u8fdb\u884c\u7684\uff0c\u5982\u679c\u4e0d\u4f18\u5316\uff08PureComponent/shouldComponentUpdate\uff09\u53ef\u80fd\u5bfc\u81f4\u5927\u91cf\u4e0d\u5fc5\u8981\u7684vDOM\u7684\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u56e0\u4e3a Vue \u4f7f\u7528\u7684\u662f\u53ef\u53d8\u6570\u636e\uff0c\u800cReact\u66f4\u5f3a\u8c03\u6570\u636e\u7684\u4e0d\u53ef\u53d8\u3002\n\n**5\uff09\u9ad8\u9636\u7ec4\u4ef6**\n\nreact\u53ef\u4ee5\u901a\u8fc7\u9ad8\u9636\u7ec4\u4ef6\uff08HOC\uff09\u6765\u6269\u5c55\uff0c\u800cVue\u9700\u8981\u901a\u8fc7mixins\u6765\u6269\u5c55\u3002\n\n\n\u9ad8\u9636\u7ec4\u4ef6\u5c31\u662f\u9ad8\u9636\u51fd\u6570\uff0c\u800cReact\u7684\u7ec4\u4ef6\u672c\u8eab\u5c31\u662f\u7eaf\u7cb9\u7684\u51fd\u6570\uff0c\u6240\u4ee5\u9ad8\u9636\u51fd\u6570\u5bf9React\u6765\u8bf4\u6613\u5982\u53cd\u638c\u3002\u76f8\u53cdVue.js\u4f7f\u7528HTML\u6a21\u677f\u521b\u5efa\u89c6\u56fe\u7ec4\u4ef6\uff0c\u8fd9\u65f6\u6a21\u677f\u65e0\u6cd5\u6709\u6548\u7684\u7f16\u8bd1\uff0c\u56e0\u6b64Vue\u4e0d\u80fd\u91c7\u7528HOC\u6765\u5b9e\u73b0\u3002\n\n**6\uff09\u6784\u5efa\u5de5\u5177**\n\n\u4e24\u8005\u90fd\u6709\u81ea\u5df1\u7684\u6784\u5efa\u5de5\u5177\uff1a\n\n- React ==> Create React APP\n- Vue ==> vue-cli\n\n**7\uff09\u8de8\u5e73\u53f0**\n\n- React ==> React Native\n- Vue ==> Weex\n\n### 29. Vue\u7684\u4f18\u70b9\n\n- \u8f7b\u91cf\u7ea7\u6846\u67b6\uff1a\u53ea\u5173\u6ce8\u89c6\u56fe\u5c42\uff0c\u662f\u4e00\u4e2a\u6784\u5efa\u6570\u636e\u7684\u89c6\u56fe\u96c6\u5408\uff0c\u5927\u5c0f\u53ea\u6709\u51e0\u5341 `kb` \uff1b\n- \u7b80\u5355\u6613\u5b66\uff1a\u56fd\u4eba\u5f00\u53d1\uff0c\u4e2d\u6587\u6587\u6863\uff0c\u4e0d\u5b58\u5728\u8bed\u8a00\u969c\u788d \uff0c\u6613\u4e8e\u7406\u89e3\u548c\u5b66\u4e60\uff1b\n- \u53cc\u5411\u6570\u636e\u7ed1\u5b9a\uff1a\u4fdd\u7559\u4e86 `angular` \u7684\u7279\u70b9\uff0c\u5728\u6570\u636e\u64cd\u4f5c\u65b9\u9762\u66f4\u4e3a\u7b80\u5355\uff1b\n- \u7ec4\u4ef6\u5316\uff1a\u4fdd\u7559\u4e86 `react` \u7684\u4f18\u70b9\uff0c\u5b9e\u73b0\u4e86 `html` \u7684\u5c01\u88c5\u548c\u91cd\u7528\uff0c\u5728\u6784\u5efa\u5355\u9875\u9762\u5e94\u7528\u65b9\u9762\u6709\u7740\u72ec\u7279\u7684\u4f18\u52bf\uff1b\n- \u89c6\u56fe\uff0c\u6570\u636e\uff0c\u7ed3\u6784\u5206\u79bb\uff1a\u4f7f\u6570\u636e\u7684\u66f4\u6539\u66f4\u4e3a\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u8fdb\u884c\u903b\u8f91\u4ee3\u7801\u7684\u4fee\u6539\uff0c\u53ea\u9700\u8981\u64cd\u4f5c\u6570\u636e\u5c31\u80fd\u5b8c\u6210\u76f8\u5173\u64cd\u4f5c\uff1b\n- \u865a\u62dfDOM\uff1a`dom` \u64cd\u4f5c\u662f\u975e\u5e38\u8017\u8d39\u6027\u80fd\u7684\uff0c\u4e0d\u518d\u4f7f\u7528\u539f\u751f\u7684 `dom` \u64cd\u4f5c\u8282\u70b9\uff0c\u6781\u5927\u89e3\u653e `dom` \u64cd\u4f5c\uff0c\u4f46\u5177\u4f53\u64cd\u4f5c\u7684\u8fd8\u662f `dom` \u4e0d\u8fc7\u662f\u6362\u4e86\u53e6\u4e00\u79cd\u65b9\u5f0f\uff1b\n- \u8fd0\u884c\u901f\u5ea6\u66f4\u5feb\uff1a\u76f8\u6bd4\u8f83\u4e8e `react` \u800c\u8a00\uff0c\u540c\u6837\u662f\u64cd\u4f5c\u865a\u62df `dom`\uff0c\u5c31\u6027\u80fd\u800c\u8a00\uff0c `vue` \u5b58\u5728\u5f88\u5927\u7684\u4f18\u52bf\u3002\n\n### 30. assets\u548cstatic\u7684\u533a\u522b\n\n**\u76f8\u540c\u70b9\uff1a** `assets` \u548c `static` \u4e24\u4e2a\u90fd\u662f\u5b58\u653e\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u3002\u9879\u76ee\u4e2d\u6240\u9700\u8981\u7684\u8d44\u6e90\u6587\u4ef6\u56fe\u7247\uff0c\u5b57\u4f53\u56fe\u6807\uff0c\u6837\u5f0f\u6587\u4ef6\u7b49\u90fd\u53ef\u4ee5\u653e\u5728\u8fd9\u4e24\u4e2a\u6587\u4ef6\u4e0b\uff0c\u8fd9\u662f\u76f8\u540c\u70b9\n\n\n**\u4e0d\u76f8\u540c\u70b9\uff1a**`assets` \u4e2d\u5b58\u653e\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u5728\u9879\u76ee\u6253\u5305\u65f6\uff0c\u4e5f\u5c31\u662f\u8fd0\u884c `npm run build` \u65f6\u4f1a\u5c06 `assets` \u4e2d\u653e\u7f6e\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u8fdb\u884c\u6253\u5305\u4e0a\u4f20\uff0c\u6240\u8c13\u6253\u5305\u7b80\u5355\u70b9\u53ef\u4ee5\u7406\u89e3\u4e3a\u538b\u7f29\u4f53\u79ef\uff0c\u4ee3\u7801\u683c\u5f0f\u5316\u3002\u800c\u538b\u7f29\u540e\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u6700\u7ec8\u4e5f\u90fd\u4f1a\u653e\u7f6e\u5728 `static` \u6587\u4ef6\u4e2d\u8ddf\u7740 `index.html` \u4e00\u540c\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\u3002`static` \u4e2d\u653e\u7f6e\u7684\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u5c31\u4e0d\u4f1a\u8981\u8d70\u6253\u5305\u538b\u7f29\u683c\u5f0f\u5316\u7b49\u6d41\u7a0b\uff0c\u800c\u662f\u76f4\u63a5\u8fdb\u5165\u6253\u5305\u597d\u7684\u76ee\u5f55\uff0c\u76f4\u63a5\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\u3002\u56e0\u4e3a\u907f\u514d\u4e86\u538b\u7f29\u76f4\u63a5\u8fdb\u884c\u4e0a\u4f20\uff0c\u5728\u6253\u5305\u65f6\u4f1a\u63d0\u9ad8\u4e00\u5b9a\u7684\u6548\u7387\uff0c\u4f46\u662f `static` \u4e2d\u7684\u8d44\u6e90\u6587\u4ef6\u7531\u4e8e\u6ca1\u6709\u8fdb\u884c\u538b\u7f29\u7b49\u64cd\u4f5c\uff0c\u6240\u4ee5\u6587\u4ef6\u7684\u4f53\u79ef\u4e5f\u5c31\u76f8\u5bf9\u4e8e `assets` \u4e2d\u6253\u5305\u540e\u7684\u6587\u4ef6\u63d0\u4ea4\u8f83\u5927\u70b9\u3002\u5728\u670d\u52a1\u5668\u4e2d\u5c31\u4f1a\u5360\u636e\u66f4\u5927\u7684\u7a7a\u95f4\u3002\n\n\n**\u5efa\u8bae\uff1a** \u5c06\u9879\u76ee\u4e2d `template`\u9700\u8981\u7684\u6837\u5f0f\u6587\u4ef6js\u6587\u4ef6\u7b49\u90fd\u53ef\u4ee5\u653e\u7f6e\u5728 `assets` \u4e2d\uff0c\u8d70\u6253\u5305\u8fd9\u4e00\u6d41\u7a0b\u3002\u51cf\u5c11\u4f53\u79ef\u3002\u800c\u9879\u76ee\u4e2d\u5f15\u5165\u7684\u7b2c\u4e09\u65b9\u7684\u8d44\u6e90\u6587\u4ef6\u5982`iconfoont.css` \u7b49\u6587\u4ef6\u53ef\u4ee5\u653e\u7f6e\u5728 `static` \u4e2d\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u5f15\u5165\u7684\u7b2c\u4e09\u65b9\u6587\u4ef6\u5df2\u7ecf\u7ecf\u8fc7\u5904\u7406\uff0c\u4e0d\u518d\u9700\u8981\u5904\u7406\uff0c\u76f4\u63a5\u4e0a\u4f20\u3002\n\n### 31. delete\u548cVue.delete\u5220\u9664\u6570\u7ec4\u7684\u533a\u522b\n\n- `delete` \u53ea\u662f\u88ab\u5220\u9664\u7684\u5143\u7d20\u53d8\u6210\u4e86 `empty/undefined` \u5176\u4ed6\u7684\u5143\u7d20\u7684\u952e\u503c\u8fd8\u662f\u4e0d\u53d8\u3002\n- `Vue.delete` \u76f4\u63a5\u5220\u9664\u4e86\u6570\u7ec4 \u6539\u53d8\u4e86\u6570\u7ec4\u7684\u952e\u503c\u3002\n\n### 32. vue\u5982\u4f55\u76d1\u542c\u5bf9\u8c61\u6216\u8005\u6570\u7ec4\u67d0\u4e2a\u5c5e\u6027\u7684\u53d8\u5316\n\n\u5f53\u5728\u9879\u76ee\u4e2d\u76f4\u63a5\u8bbe\u7f6e\u6570\u7ec4\u7684\u67d0\u4e00\u9879\u7684\u503c\uff0c\u6216\u8005\u76f4\u63a5\u8bbe\u7f6e\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u503c\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\u9875\u9762\u5e76\u6ca1\u6709\u66f4\u65b0\u3002\u8fd9\u662f\u56e0\u4e3aObject.defineProperty()\u9650\u5236\uff0c\u76d1\u542c\u4e0d\u5230\u53d8\u5316\u3002\n\n\n\u89e3\u51b3\u65b9\u5f0f\uff1a\n\n- this.$set(\u4f60\u8981\u6539\u53d8\u7684\u6570\u7ec4/\u5bf9\u8c61\uff0c\u4f60\u8981\u6539\u53d8\u7684\u4f4d\u7f6e/key\uff0c\u4f60\u8981\u6539\u6210\u4ec0\u4e48value)\n\n```javascript\nthis.$set(this.arr, 0, \"OBKoro1\"); // \u6539\u53d8\u6570\u7ec4this.$set(this.obj, \"c\", \"OBKoro1\"); // \u6539\u53d8\u5bf9\u8c61\n```\n\n- \u8c03\u7528\u4ee5\u4e0b\u51e0\u4e2a\u6570\u7ec4\u7684\u65b9\u6cd5\n\n```javascript\nsplice()\u3001 push()\u3001pop()\u3001shift()\u3001unshift()\u3001sort()\u3001reverse()\n```\n\nvue\u6e90\u7801\u91cc\u7f13\u5b58\u4e86array\u7684\u539f\u578b\u94fe\uff0c\u7136\u540e\u91cd\u5199\u4e86\u8fd9\u51e0\u4e2a\u65b9\u6cd5\uff0c\u89e6\u53d1\u8fd9\u51e0\u4e2a\u65b9\u6cd5\u7684\u65f6\u5019\u4f1aobserver\u6570\u636e\uff0c\u610f\u601d\u662f\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u4e0d\u7528\u518d\u8fdb\u884c\u989d\u5916\u7684\u64cd\u4f5c\uff0c\u89c6\u56fe\u81ea\u52a8\u8fdb\u884c\u66f4\u65b0\u3002 \u63a8\u8350\u4f7f\u7528splice\u65b9\u6cd5\u4f1a\u6bd4\u8f83\u597d\u81ea\u5b9a\u4e49,\u56e0\u4e3asplice\u53ef\u4ee5\u5728\u6570\u7ec4\u7684\u4efb\u4f55\u4f4d\u7f6e\u8fdb\u884c\u5220\u9664/\u6dfb\u52a0\u64cd\u4f5c\n\n\n\n\nvm.`$set` \u7684\u5b9e\u73b0\u539f\u7406\u662f\uff1a\n\n- \u5982\u679c\u76ee\u6807\u662f\u6570\u7ec4\uff0c\u76f4\u63a5\u4f7f\u7528\u6570\u7ec4\u7684 splice \u65b9\u6cd5\u89e6\u53d1\u76f8\u5e94\u5f0f\uff1b\n- \u5982\u679c\u76ee\u6807\u662f\u5bf9\u8c61\uff0c\u4f1a\u5148\u5224\u8bfb\u5c5e\u6027\u662f\u5426\u5b58\u5728\u3001\u5bf9\u8c61\u662f\u5426\u662f\u54cd\u5e94\u5f0f\uff0c\u6700\u7ec8\u5982\u679c\u8981\u5bf9\u5c5e\u6027\u8fdb\u884c\u54cd\u5e94\u5f0f\u5904\u7406\uff0c\u5219\u662f\u901a\u8fc7\u8c03\u7528 defineReactive \u65b9\u6cd5\u8fdb\u884c\u54cd\u5e94\u5f0f\u5904\u7406\uff08 defineReactive \u65b9\u6cd5\u5c31\u662f Vue \u5728\u521d\u59cb\u5316\u5bf9\u8c61\u65f6\uff0c\u7ed9\u5bf9\u8c61\u5c5e\u6027\u91c7\u7528 Object.defineProperty \u52a8\u6001\u6dfb\u52a0 getter \u548c setter \u7684\u529f\u80fd\u6240\u8c03\u7528\u7684\u65b9\u6cd5\uff09\n\n### 33. \u4ec0\u4e48\u662f mixin \uff1f\n\n- Mixin \u4f7f\u6211\u4eec\u80fd\u591f\u4e3a Vue \u7ec4\u4ef6\u7f16\u5199\u53ef\u63d2\u62d4\u548c\u53ef\u91cd\u7528\u7684\u529f\u80fd\u3002\n- \u5982\u679c\u5e0c\u671b\u5728\u591a\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u91cd\u7528\u4e00\u7ec4\u7ec4\u4ef6\u9009\u9879\uff0c\u4f8b\u5982\u751f\u547d\u5468\u671f hook\u3001 \u65b9\u6cd5\u7b49\uff0c\u5219\u53ef\u4ee5\u5c06\u5176\u7f16\u5199\u4e3a mixin\uff0c\u5e76\u5728\u7ec4\u4ef6\u4e2d\u7b80\u5355\u7684\u5f15\u7528\u5b83\u3002\n- \u7136\u540e\u5c06 mixin \u7684\u5185\u5bb9\u5408\u5e76\u5230\u7ec4\u4ef6\u4e2d\u3002\u5982\u679c\u4f60\u8981\u5728 mixin \u4e2d\u5b9a\u4e49\u751f\u547d\u5468\u671f hook\uff0c\u90a3\u4e48\u5b83\u5728\u6267\u884c\u65f6\u5c06\u4f18\u5316\u4e8e\u7ec4\u4ef6\u81ea\u5df2\u7684 hook\u3002\n\n### 34. Vue\u6a21\u7248\u7f16\u8bd1\u539f\u7406\n\nvue\u4e2d\u7684\u6a21\u677ftemplate\u65e0\u6cd5\u88ab\u6d4f\u89c8\u5668\u89e3\u6790\u5e76\u6e32\u67d3\uff0c\u56e0\u4e3a\u8fd9\u4e0d\u5c5e\u4e8e\u6d4f\u89c8\u5668\u7684\u6807\u51c6\uff0c\u4e0d\u662f\u6b63\u786e\u7684HTML\u8bed\u6cd5\uff0c\u6240\u6709\u9700\u8981\u5c06template\u8f6c\u5316\u6210\u4e00\u4e2aJavaScript\u51fd\u6570\uff0c\u8fd9\u6837\u6d4f\u89c8\u5668\u5c31\u53ef\u4ee5\u6267\u884c\u8fd9\u4e00\u4e2a\u51fd\u6570\u5e76\u6e32\u67d3\u51fa\u5bf9\u5e94\u7684HTML\u5143\u7d20\uff0c\u5c31\u53ef\u4ee5\u8ba9\u89c6\u56fe\u8dd1\u8d77\u6765\u4e86\uff0c\u8fd9\u4e00\u4e2a\u8f6c\u5316\u7684\u8fc7\u7a0b\uff0c\u5c31\u6210\u4e3a\u6a21\u677f\u7f16\u8bd1\u3002\u6a21\u677f\u7f16\u8bd1\u53c8\u5206\u4e09\u4e2a\u9636\u6bb5\uff0c\u89e3\u6790parse\uff0c\u4f18\u5316optimize\uff0c\u751f\u6210generate\uff0c\u6700\u7ec8\u751f\u6210\u53ef\u6267\u884c\u51fd\u6570render\u3002\n\n- **\u89e3\u6790\u9636\u6bb5**\uff1a\u4f7f\u7528\u5927\u91cf\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9template\u5b57\u7b26\u4e32\u8fdb\u884c\u89e3\u6790\uff0c\u5c06\u6807\u7b7e\u3001\u6307\u4ee4\u3001\u5c5e\u6027\u7b49\u8f6c\u5316\u4e3a\u62bd\u8c61\u8bed\u6cd5\u6811AST\u3002\n- **\u4f18\u5316\u9636\u6bb5**\uff1a\u904d\u5386AST\uff0c\u627e\u5230\u5176\u4e2d\u7684\u4e00\u4e9b\u9759\u6001\u8282\u70b9\u5e76\u8fdb\u884c\u6807\u8bb0\uff0c\u65b9\u4fbf\u5728\u9875\u9762\u91cd\u6e32\u67d3\u7684\u65f6\u5019\u8fdb\u884cdiff\u6bd4\u8f83\u65f6\uff0c\u76f4\u63a5\u8df3\u8fc7\u8fd9\u4e00\u4e9b\u9759\u6001\u8282\u70b9\uff0c\u4f18\u5316runtime\u7684\u6027\u80fd\u3002\n- **\u751f\u6210\u9636\u6bb5**\uff1a\u5c06\u6700\u7ec8\u7684AST\u8f6c\u5316\u4e3arender\u51fd\u6570\u5b57\u7b26\u4e32\u3002\n\n### 35. \u5bf9SSR\u7684\u7406\u89e3\n\nSSR\u4e5f\u5c31\u662f\u670d\u52a1\u7aef\u6e32\u67d3\uff0c\u4e5f\u5c31\u662f\u5c06Vue\u5728\u5ba2\u6237\u7aef\u628a\u6807\u7b7e\u6e32\u67d3\u6210HTML\u7684\u5de5\u4f5c\u653e\u5728\u670d\u52a1\u7aef\u5b8c\u6210\uff0c\u7136\u540e\u518d\u628ahtml\u76f4\u63a5\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\n\n\nSSR\u7684\u4f18\u52bf\uff1a\n\n- \u66f4\u597d\u7684SEO\n- \u9996\u5c4f\u52a0\u8f7d\u901f\u5ea6\u66f4\u5feb\n\n\n\nSSR\u7684\u7f3a\u70b9\uff1a\n\n- \u5f00\u53d1\u6761\u4ef6\u4f1a\u53d7\u5230\u9650\u5236\uff0c\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u53ea\u652f\u6301beforeCreate\u548ccreated\u4e24\u4e2a\u94a9\u5b50\uff1b\n- \u5f53\u9700\u8981\u4e00\u4e9b\u5916\u90e8\u6269\u5c55\u5e93\u65f6\u9700\u8981\u7279\u6b8a\u5904\u7406\uff0c\u670d\u52a1\u7aef\u6e32\u67d3\u5e94\u7528\u7a0b\u5e8f\u4e5f\u9700\u8981\u5904\u4e8eNode.js\u7684\u8fd0\u884c\u73af\u5883\uff1b\n- \u66f4\u591a\u7684\u670d\u52a1\u7aef\u8d1f\u8f7d\u3002\n\n### 36. Vue\u7684\u6027\u80fd\u4f18\u5316\u6709\u54ea\u4e9b\n\n**\uff081\uff09\u7f16\u7801\u9636\u6bb5**\n\n- \u5c3d\u91cf\u51cf\u5c11data\u4e2d\u7684\u6570\u636e\uff0cdata\u4e2d\u7684\u6570\u636e\u90fd\u4f1a\u589e\u52a0getter\u548csetter\uff0c\u4f1a\u6536\u96c6\u5bf9\u5e94\u7684watcher\n- v-if\u548cv-for\u4e0d\u80fd\u8fde\u7528\n- \u5982\u679c\u9700\u8981\u4f7f\u7528v-for\u7ed9\u6bcf\u9879\u5143\u7d20\u7ed1\u5b9a\u4e8b\u4ef6\u65f6\u4f7f\u7528\u4e8b\u4ef6\u4ee3\u7406\n- SPA \u9875\u9762\u91c7\u7528keep-alive\u7f13\u5b58\u7ec4\u4ef6\n- \u5728\u66f4\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528v-if\u66ff\u4ee3v-show\n- key\u4fdd\u8bc1\u552f\u4e00\n- \u4f7f\u7528\u8def\u7531\u61d2\u52a0\u8f7d\u3001\u5f02\u6b65\u7ec4\u4ef6\n- \u9632\u6296\u3001\u8282\u6d41\n- \u7b2c\u4e09\u65b9\u6a21\u5757\u6309\u9700\u5bfc\u5165\n- \u957f\u5217\u8868\u6eda\u52a8\u5230\u53ef\u89c6\u533a\u57df\u52a8\u6001\u52a0\u8f7d\n- \u56fe\u7247\u61d2\u52a0\u8f7d\n\n\n\n**\uff082\uff09SEO\u4f18\u5316**\n\n- \u9884\u6e32\u67d3\n- \u670d\u52a1\u7aef\u6e32\u67d3SSR\n\n\n\n**\uff083\uff09\u6253\u5305\u4f18\u5316**\n\n- \u538b\u7f29\u4ee3\u7801\n- Tree Shaking/Scope Hoisting\n- \u4f7f\u7528cdn\u52a0\u8f7d\u7b2c\u4e09\u65b9\u6a21\u5757\n- \u591a\u7ebf\u7a0b\u6253\u5305happypack\n- splitChunks\u62bd\u79bb\u516c\u5171\u6587\u4ef6\n- sourceMap\u4f18\u5316\n\n\n\n**\uff084\uff09\u7528\u6237\u4f53\u9a8c**\n\n- \u9aa8\u67b6\u5c4f\n- PWA\n- \u8fd8\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58(\u5ba2\u6237\u7aef\u7f13\u5b58\u3001\u670d\u52a1\u7aef\u7f13\u5b58)\u4f18\u5316\u3001\u670d\u52a1\u7aef\u5f00\u542fgzip\u538b\u7f29\u7b49\u3002\n\n### 37. \u5bf9 SPA \u5355\u9875\u9762\u7684\u7406\u89e3\uff0c\u5b83\u7684\u4f18\u7f3a\u70b9\u5206\u522b\u662f\u4ec0\u4e48\uff1f\n\nSPA\uff08 single-page application \uff09\u4ec5\u5728 Web \u9875\u9762\u521d\u59cb\u5316\u65f6\u52a0\u8f7d\u76f8\u5e94\u7684 HTML\u3001JavaScript \u548c CSS\u3002\u4e00\u65e6\u9875\u9762\u52a0\u8f7d\u5b8c\u6210\uff0cSPA \u4e0d\u4f1a\u56e0\u4e3a\u7528\u6237\u7684\u64cd\u4f5c\u800c\u8fdb\u884c\u9875\u9762\u7684\u91cd\u65b0\u52a0\u8f7d\u6216\u8df3\u8f6c\uff1b\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5229\u7528\u8def\u7531\u673a\u5236\u5b9e\u73b0 HTML \u5185\u5bb9\u7684\u53d8\u6362\uff0cUI \u4e0e\u7528\u6237\u7684\u4ea4\u4e92\uff0c\u907f\u514d\u9875\u9762\u7684\u91cd\u65b0\u52a0\u8f7d\u3002\n\n\n**\u4f18\u70b9\uff1a**\n\n- \u7528\u6237\u4f53\u9a8c\u597d\u3001\u5feb\uff0c\u5185\u5bb9\u7684\u6539\u53d8\u4e0d\u9700\u8981\u91cd\u65b0\u52a0\u8f7d\u6574\u4e2a\u9875\u9762\uff0c\u907f\u514d\u4e86\u4e0d\u5fc5\u8981\u7684\u8df3\u8f6c\u548c\u91cd\u590d\u6e32\u67d3\uff1b\n- \u57fa\u4e8e\u4e0a\u9762\u4e00\u70b9\uff0cSPA \u76f8\u5bf9\u5bf9\u670d\u52a1\u5668\u538b\u529b\u5c0f\uff1b\n- \u524d\u540e\u7aef\u804c\u8d23\u5206\u79bb\uff0c\u67b6\u6784\u6e05\u6670\uff0c\u524d\u7aef\u8fdb\u884c\u4ea4\u4e92\u903b\u8f91\uff0c\u540e\u7aef\u8d1f\u8d23\u6570\u636e\u5904\u7406\uff1b\n\n\n\n**\u7f3a\u70b9\uff1a**\n\n- \u521d\u6b21\u52a0\u8f7d\u8017\u65f6\u591a\uff1a\u4e3a\u5b9e\u73b0\u5355\u9875 Web \u5e94\u7528\u529f\u80fd\u53ca\u663e\u793a\u6548\u679c\uff0c\u9700\u8981\u5728\u52a0\u8f7d\u9875\u9762\u7684\u65f6\u5019\u5c06 JavaScript\u3001CSS \u7edf\u4e00\u52a0\u8f7d\uff0c\u90e8\u5206\u9875\u9762\u6309\u9700\u52a0\u8f7d\uff1b\n- \u524d\u8fdb\u540e\u9000\u8def\u7531\u7ba1\u7406\uff1a\u7531\u4e8e\u5355\u9875\u5e94\u7528\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\u663e\u793a\u6240\u6709\u7684\u5185\u5bb9\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f7f\u7528\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u540e\u9000\u529f\u80fd\uff0c\u6240\u6709\u7684\u9875\u9762\u5207\u6362\u9700\u8981\u81ea\u5df1\u5efa\u7acb\u5806\u6808\u7ba1\u7406\uff1b\n- SEO \u96be\u5ea6\u8f83\u5927\uff1a\u7531\u4e8e\u6240\u6709\u7684\u5185\u5bb9\u90fd\u5728\u4e00\u4e2a\u9875\u9762\u4e2d\u52a8\u6001\u66ff\u6362\u663e\u793a\uff0c\u6240\u4ee5\u5728 SEO \u4e0a\u5176\u6709\u7740\u5929\u7136\u7684\u5f31\u52bf\u3002\n\n### 38. template\u548cjsx\u7684\u6709\u4ec0\u4e48\u5206\u522b\uff1f\n\n\u5bf9\u4e8e runtime \u6765\u8bf4\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u7ec4\u4ef6\u5b58\u5728 render \u51fd\u6570\u5373\u53ef\uff0c\u800c\u6709\u4e86\u9884\u7f16\u8bd1\u4e4b\u540e\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u6784\u5efa\u8fc7\u7a0b\u4e2d\u751f\u6210 render \u51fd\u6570\u5c31\u53ef\u4ee5\u3002\u5728 webpack \u4e2d\uff0c\u4f7f\u7528`vue-loader`\u7f16\u8bd1.vue\u6587\u4ef6\uff0c\u5185\u90e8\u4f9d\u8d56\u7684`vue-template-compiler`\u6a21\u5757\uff0c\u5728 webpack \u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u5c06template\u9884\u7f16\u8bd1\u6210 render \u51fd\u6570\u3002\u4e0e react \u7c7b\u4f3c\uff0c\u5728\u6dfb\u52a0\u4e86jsx\u7684\u8bed\u6cd5\u7cd6\u89e3\u6790\u5668`babel-plugin-transform-vue-jsx`\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u624b\u5199render\u51fd\u6570\u3002\n\n\n\u6240\u4ee5\uff0ctemplate\u548cjsx\u7684\u90fd\u662frender\u7684\u4e00\u79cd\u8868\u73b0\u5f62\u5f0f\uff0c\u4e0d\u540c\u7684\u662f\uff1aJSX\u76f8\u5bf9\u4e8etemplate\u800c\u8a00\uff0c\u5177\u6709\u66f4\u9ad8\u7684\u7075\u6d3b\u6027\uff0c\u5728\u590d\u6742\u7684\u7ec4\u4ef6\u4e2d\uff0c\u66f4\u5177\u6709\u4f18\u52bf\uff0c\u800c template \u867d\u7136\u663e\u5f97\u6709\u4e9b\u5446\u6ede\u3002\u4f46\u662f template \u5728\u4ee3\u7801\u7ed3\u6784\u4e0a\u66f4\u7b26\u5408\u89c6\u56fe\u4e0e\u903b\u8f91\u5206\u79bb\u7684\u4e60\u60ef\uff0c\u66f4\u7b80\u5355\u3001\u66f4\u76f4\u89c2\u3001\u66f4\u597d\u7ef4\u62a4\u3002\n\n### 39. vue\u521d\u59cb\u5316\u9875\u9762\u95ea\u52a8\u95ee\u9898\n\n\u4f7f\u7528vue\u5f00\u53d1\u65f6\uff0c\u5728vue\u521d\u59cb\u5316\u4e4b\u524d\uff0c\u7531\u4e8ediv\u662f\u4e0d\u5f52vue\u7ba1\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5199\u7684\u4ee3\u7801\u5728\u8fd8\u6ca1\u6709\u89e3\u6790\u7684\u60c5\u51b5\u4e0b\u4f1a\u5bb9\u6613\u51fa\u73b0\u82b1\u5c4f\u73b0\u8c61\uff0c\u770b\u5230\u7c7b\u4f3c\u4e8e{{message}}\u7684\u5b57\u6837\uff0c\u867d\u7136\u4e00\u822c\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u65f6\u95f4\u5f88\u77ed\u6682\uff0c\u4f46\u662f\u8fd8\u662f\u6709\u5fc5\u8981\u8ba9\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u3002\n\n\n\u9996\u5148\uff1a\u5728css\u91cc\u52a0\u4e0a\u4ee5\u4e0b\u4ee3\u7801\uff1a\n\n```javascript\n[v-cloak] {    display: none;}\n```\n\n\u5982\u679c\u6ca1\u6709\u5f7b\u5e95\u89e3\u51b3\u95ee\u9898\uff0c\u5219\u5728\u6839\u5143\u7d20\u52a0\u4e0a`style=\"display: none;\" :style=\"{display: 'block'}\"`\n\n### 40. extend \u6709\u4ec0\u4e48\u4f5c\u7528\n\n\u8fd9\u4e2a API \u5f88\u5c11\u7528\u5230\uff0c\u4f5c\u7528\u662f\u6269\u5c55\u7ec4\u4ef6\u751f\u6210\u4e00\u4e2a\u6784\u9020\u5668\uff0c\u901a\u5e38\u4f1a\u4e0e `$mount` \u4e00\u8d77\u4f7f\u7528\u3002\n\n```javascript\n// \u521b\u5efa\u7ec4\u4ef6\u6784\u9020\u5668let Component = Vue.extend({  template: '<div>test</div>'})// \u6302\u8f7d\u5230 #app \u4e0anew Component().$mount('#app')// \u9664\u4e86\u4e0a\u9762\u7684\u65b9\u5f0f\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u6269\u5c55\u5df2\u6709\u7684\u7ec4\u4ef6let SuperComponent = Vue.extend(Component)new SuperComponent({    created() {        console.log(1)    }})new SuperComponent().$mount('#app')\n```\n\n### 41. mixin \u548c mixins \u533a\u522b\n\n`mixin` \u7528\u4e8e\u5168\u5c40\u6df7\u5165\uff0c\u4f1a\u5f71\u54cd\u5230\u6bcf\u4e2a\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u901a\u5e38\u63d2\u4ef6\u90fd\u662f\u8fd9\u6837\u505a\u521d\u59cb\u5316\u7684\u3002\n\n```javascript\nVue.mixin({    beforeCreate() {        // ...\u903b\u8f91        // \u8fd9\u79cd\u65b9\u5f0f\u4f1a\u5f71\u54cd\u5230\u6bcf\u4e2a\u7ec4\u4ef6\u7684 beforeCreate \u94a9\u5b50\u51fd\u6570    }})\n```\n\n\u867d\u7136\u6587\u6863\u4e0d\u5efa\u8bae\u5728\u5e94\u7528\u4e2d\u76f4\u63a5\u4f7f\u7528 `mixin`\uff0c\u4f46\u662f\u5982\u679c\u4e0d\u6ee5\u7528\u7684\u8bdd\u4e5f\u662f\u5f88\u6709\u5e2e\u52a9\u7684\uff0c\u6bd4\u5982\u53ef\u4ee5\u5168\u5c40\u6df7\u5165\u5c01\u88c5\u597d\u7684 `ajax` \u6216\u8005\u4e00\u4e9b\u5de5\u5177\u51fd\u6570\u7b49\u7b49\u3002\n\n\n`mixins` \u5e94\u8be5\u662f\u6700\u5e38\u4f7f\u7528\u7684\u6269\u5c55\u7ec4\u4ef6\u7684\u65b9\u5f0f\u4e86\u3002\u5982\u679c\u591a\u4e2a\u7ec4\u4ef6\u4e2d\u6709\u76f8\u540c\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5c31\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u903b\u8f91\u5265\u79bb\u51fa\u6765\uff0c\u901a\u8fc7 `mixins` \u6df7\u5165\u4ee3\u7801\uff0c\u6bd4\u5982\u4e0a\u62c9\u4e0b\u62c9\u52a0\u8f7d\u6570\u636e\u8fd9\u79cd\u903b\u8f91\u7b49\u7b49\u3002\n\u53e6\u5916\u9700\u8981\u6ce8\u610f\u7684\u662f `mixins` \u6df7\u5165\u7684\u94a9\u5b50\u51fd\u6570\u4f1a\u5148\u4e8e\u7ec4\u4ef6\u5185\u7684\u94a9\u5b50\u51fd\u6570\u6267\u884c\uff0c\u5e76\u4e14\u5728\u9047\u5230\u540c\u540d\u9009\u9879\u7684\u65f6\u5019\u4e5f\u4f1a\u6709\u9009\u62e9\u6027\u7684\u8fdb\u884c\u5408\u5e76\u3002\n\n### 42. **MVVM**\u7684\u4f18\u7f3a\u70b9? \n\n\u4f18\u70b9: \n\n- \u5206\u79bb\u89c6\u56fe\uff08View\uff09\u548c\u6a21\u578b\uff08Model\uff09\uff0c\u964d\u4f4e\u4ee3\u7801\u8026\u5408\uff0c\u63d0\u2fbc\u89c6\u56fe\u6216\u8005\u903b\u8f91\u7684\u91cd\u2f64\u6027: \u2f50\u5982\u89c6\u56fe\uff08View\uff09\u53ef\u4ee5\u72ec\u2f74\u4e8eModel\u53d8\u5316\u548c\u4fee\u6539\uff0c\u2f00\u4e2aViewModel\u53ef\u4ee5\u7ed1\u5b9a\u4e0d\u540c\u7684\"View\"\u4e0a\uff0c\u5f53View\u53d8\u5316\u7684\u65f6\u5019Model\u4e0d\u53ef\u4ee5\u4e0d\u53d8\uff0c\u5f53Model\u53d8\u5316\u7684\u65f6\u5019View\u4e5f\u53ef\u4ee5\u4e0d\u53d8\u3002\u4f60\u53ef\u4ee5\u628a\u2f00\u4e9b\u89c6\u56fe\u903b\u8f91\u653e\u5728\u2f00\u4e2aViewModel\u2fa5\u2faf\uff0c\u8ba9\u5f88\u591aview\u91cd\u2f64\u8fd9\u6bb5\u89c6\u56fe\u903b\u8f91 \n- \u63d0\u2fbc\u53ef\u6d4b\u8bd5\u6027: ViewModel\u7684\u5b58\u5728\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801 \n- \u2f83\u52a8\u66f4\u65b0dom: \u5229\u2f64\u53cc\u5411\u7ed1\u5b9a,\u6570\u636e\u66f4\u65b0\u540e\u89c6\u56fe\u2f83\u52a8\u66f4\u65b0,\u8ba9\u5f00\u53d1\u8005\u4ece\u7e41\u7410\u7684\u2f3f\u52a8dom\u4e2d\u89e3\u653e \n\n\n\n\u7f3a\u70b9: \n\n- Bug\u5f88\u96be\u88ab\u8c03\u8bd5: \u56e0\u4e3a\u4f7f\u2f64\u53cc\u5411\u7ed1\u5b9a\u7684\u6a21\u5f0f\uff0c\u5f53\u4f60\u770b\u5230\u754c\u2faf\u5f02\u5e38\u4e86\uff0c\u6709\u53ef\u80fd\u662f\u4f60View\u7684\u4ee3\u7801\u6709Bug\uff0c\u4e5f\u53ef\u80fd\u662fModel\u7684\u4ee3\u7801\u6709\u95ee\u9898\u3002\u6570\u636e\u7ed1\u5b9a\u4f7f\u5f97\u2f00\u4e2a\u4f4d\u7f6e\u7684Bug\u88ab\u5feb\u901f\u4f20\u9012\u5230\u522b\u7684\u4f4d\u7f6e\uff0c\u8981\u5b9a\u4f4d\u539f\u59cb\u51fa\u95ee\u9898\u7684\u5730\u2f45\u5c31\u53d8\u5f97\u4e0d\u90a3\u4e48\u5bb9\u6613\u4e86\u3002\u53e6\u5916\uff0c\u6570\u636e\u7ed1\u5b9a\u7684\u58f0\u660e\u662f\u6307\u4ee4\u5f0f\u5730\u5199\u5728View\u7684\u6a21\u7248\u5f53\u4e2d\u7684\uff0c\u8fd9\u4e9b\u5185\u5bb9\u662f\u6ca1\u529e\u6cd5\u53bb\u6253\u65ad\u70b9debug\u7684 \n- \u2f00\u4e2a\u2f24\u7684\u6a21\u5757\u4e2dmodel\u4e5f\u4f1a\u5f88\u2f24\uff0c\u867d\u7136\u4f7f\u2f64\u2f45\u4fbf\u4e86\u4e5f\u5f88\u5bb9\u6613\u4fdd\u8bc1\u4e86\u6570\u636e\u7684\u2f00\u81f4\u6027\uff0c\u5f53\u65f6\u2ed3\u671f\u6301\u6709\uff0c\u4e0d\u91ca\u653e\u5185\u5b58\u5c31\u9020\u6210\u4e86\u82b1\u8d39\u66f4\u591a\u7684\u5185\u5b58 \n- \u5bf9\u4e8e\u2f24\u578b\u7684\u56fe\u5f62\u5e94\u2f64\u7a0b\u5e8f\uff0c\u89c6\u56fe\u72b6\u6001\u8f83\u591a\uff0cViewModel\u7684\u6784\u5efa\u548c\u7ef4\u62a4\u7684\u6210\u672c\u90fd\u4f1a\u2f50\u8f83\u2fbc\u3002\n\n\n## \u4e8c\u3001\u751f\u547d\u5468\u671f\n\n### 1. \u8bf4\u4e00\u4e0bVue\u7684\u751f\u547d\u5468\u671f\n\nVue \u5b9e\u4f8b\u6709\u2f00\u4e2a\u5b8c\u6574\u7684\u2f63\u547d\u5468\u671f\uff0c\u4e5f\u5c31\u662f\u4ece\u5f00\u59cb\u521b\u5efa\u3001\u521d\u59cb\u5316\u6570\u636e\u3001\u7f16\u8bd1\u6a21\u7248\u3001\u6302\u8f7dDom -> \u6e32\u67d3\u3001\u66f4\u65b0 -> \u6e32\u67d3\u3001\u5378\u8f7d \u7b49\u2f00\u7cfb\u5217\u8fc7\u7a0b\uff0c\u79f0\u8fd9\u662fVue\u7684\u2f63\u547d\u5468\u671f\u3002 \n\n1. **beforeCreate\uff08\u521b\u5efa\u524d\uff09**\uff1a\u6570\u636e\u89c2\u6d4b\u548c\u521d\u59cb\u5316\u4e8b\u4ef6\u8fd8\u672a\u5f00\u59cb\uff0c\u6b64\u65f6 data \u7684\u54cd\u5e94\u5f0f\u8ffd\u8e2a\u3001event/watcher \u90fd\u8fd8\u6ca1\u6709\u88ab\u8bbe\u7f6e\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u80fd\u8bbf\u95ee\u5230data\u3001computed\u3001watch\u3001methods\u4e0a\u7684\u65b9\u6cd5\u548c\u6570\u636e\u3002\n1. **created\uff08\u521b\u5efa\u540e\uff09** \uff1a\u5b9e\u4f8b\u521b\u5efa\u5b8c\u6210\uff0c\u5b9e\u4f8b\u4e0a\u914d\u7f6e\u7684 options \u5305\u62ec data\u3001computed\u3001watch\u3001methods \u7b49\u90fd\u914d\u7f6e\u5b8c\u6210\uff0c\u4f46\u662f\u6b64\u65f6\u6e32\u67d3\u5f97\u8282\u70b9\u8fd8\u672a\u6302\u8f7d\u5230 DOM\uff0c\u6240\u4ee5\u4e0d\u80fd\u8bbf\u95ee\u5230 `$el` \u5c5e\u6027\u3002\n1. **beforeMount\uff08\u6302\u8f7d\u524d\uff09**\uff1a\u5728\u6302\u8f7d\u5f00\u59cb\u4e4b\u524d\u88ab\u8c03\u7528\uff0c\u76f8\u5173\u7684render\u51fd\u6570\u9996\u6b21\u88ab\u8c03\u7528\u3002\u5b9e\u4f8b\u5df2\u5b8c\u6210\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a\u7f16\u8bd1\u6a21\u677f\uff0c\u628adata\u91cc\u9762\u7684\u6570\u636e\u548c\u6a21\u677f\u751f\u6210html\u3002\u6b64\u65f6\u8fd8\u6ca1\u6709\u6302\u8f7dhtml\u5230\u9875\u9762\u4e0a\u3002\n1. **mounted\uff08\u6302\u8f7d\u540e\uff09**\uff1a\u5728el\u88ab\u65b0\u521b\u5efa\u7684 vm.$el \u66ff\u6362\uff0c\u5e76\u6302\u8f7d\u5230\u5b9e\u4f8b\u4e0a\u53bb\u4e4b\u540e\u8c03\u7528\u3002\u5b9e\u4f8b\u5df2\u5b8c\u6210\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a\u7528\u4e0a\u9762\u7f16\u8bd1\u597d\u7684html\u5185\u5bb9\u66ff\u6362el\u5c5e\u6027\u6307\u5411\u7684DOM\u5bf9\u8c61\u3002\u5b8c\u6210\u6a21\u677f\u4e2d\u7684html\u6e32\u67d3\u5230html \u9875\u9762\u4e2d\u3002\u6b64\u8fc7\u7a0b\u4e2d\u8fdb\u884cajax\u4ea4\u4e92\u3002\n1. **beforeUpdate\uff08\u66f4\u65b0\u524d\uff09**\uff1a\u54cd\u5e94\u5f0f\u6570\u636e\u66f4\u65b0\u65f6\u8c03\u7528\uff0c\u6b64\u65f6\u867d\u7136\u54cd\u5e94\u5f0f\u6570\u636e\u66f4\u65b0\u4e86\uff0c\u4f46\u662f\u5bf9\u5e94\u7684\u771f\u5b9e DOM \u8fd8\u6ca1\u6709\u88ab\u6e32\u67d3\u3002\n1. **updated\uff08\u66f4\u65b0\u540e\uff09** \uff1a\u5728\u7531\u4e8e\u6570\u636e\u66f4\u6539\u5bfc\u81f4\u7684\u865a\u62dfDOM\u91cd\u65b0\u6e32\u67d3\u548c\u6253\u8865\u4e01\u4e4b\u540e\u8c03\u7528\u3002\u6b64\u65f6 DOM \u5df2\u7ecf\u6839\u636e\u54cd\u5e94\u5f0f\u6570\u636e\u7684\u53d8\u5316\u66f4\u65b0\u4e86\u3002\u8c03\u7528\u65f6\uff0c\u7ec4\u4ef6 DOM\u5df2\u7ecf\u66f4\u65b0\uff0c\u6240\u4ee5\u53ef\u4ee5\u6267\u884c\u4f9d\u8d56\u4e8eDOM\u7684\u64cd\u4f5c\u3002\u7136\u800c\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5e94\u8be5\u907f\u514d\u5728\u6b64\u671f\u95f4\u66f4\u6539\u72b6\u6001\uff0c\u56e0\u4e3a\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u66f4\u65b0\u65e0\u9650\u5faa\u73af\u3002\u8be5\u94a9\u5b50\u5728\u670d\u52a1\u5668\u7aef\u6e32\u67d3\u671f\u95f4\u4e0d\u88ab\u8c03\u7528\u3002\n1. **beforeDestroy\uff08\u9500\u6bc1\u524d\uff09**\uff1a\u5b9e\u4f8b\u9500\u6bc1\u4e4b\u524d\u8c03\u7528\u3002\u8fd9\u4e00\u6b65\uff0c\u5b9e\u4f8b\u4ecd\u7136\u5b8c\u5168\u53ef\u7528\uff0c`this` \u4ecd\u80fd\u83b7\u53d6\u5230\u5b9e\u4f8b\u3002\n1. **destroyed\uff08\u9500\u6bc1\u540e\uff09**\uff1a\u5b9e\u4f8b\u9500\u6bc1\u540e\u8c03\u7528\uff0c\u8c03\u7528\u540e\uff0cVue \u5b9e\u4f8b\u6307\u793a\u7684\u6240\u6709\u4e1c\u897f\u90fd\u4f1a\u89e3\u7ed1\u5b9a\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\u5668\u4f1a\u88ab\u79fb\u9664\uff0c\u6240\u6709\u7684\u5b50\u5b9e\u4f8b\u4e5f\u4f1a\u88ab\u9500\u6bc1\u3002\u8be5\u94a9\u5b50\u5728\u670d\u52a1\u7aef\u6e32\u67d3\u671f\u95f4\u4e0d\u88ab\u8c03\u7528\u3002\n\n\n\n\u53e6\u5916\u8fd8\u6709\u00a0`keep-alive`\u00a0\u72ec\u6709\u7684\u751f\u547d\u5468\u671f\uff0c\u5206\u522b\u4e3a\u00a0`activated`\u00a0\u548c\u00a0`deactivated`\u00a0\u3002\u7528\u00a0`keep-alive`\u00a0\u5305\u88f9\u7684\u7ec4\u4ef6\u5728\u5207\u6362\u65f6\u4e0d\u4f1a\u8fdb\u884c\u9500\u6bc1\uff0c\u800c\u662f\u7f13\u5b58\u5230\u5185\u5b58\u4e2d\u5e76\u6267\u884c\u00a0`deactivated`\u00a0\u94a9\u5b50\u51fd\u6570\uff0c\u547d\u4e2d\u7f13\u5b58\u6e32\u67d3\u540e\u4f1a\u6267\u884c\u00a0`activated`\u00a0\u94a9\u5b50\u51fd\u6570\u3002\n\n### 2. Vue \u5b50\u7ec4\u4ef6\u548c\u7236\u7ec4\u4ef6\u6267\u884c\u987a\u5e8f\n\n**\u52a0\u8f7d\u6e32\u67d3\u8fc7\u7a0b\uff1a**\n1. \u7236\u7ec4\u4ef6 beforeCreate\n2. \u7236\u7ec4\u4ef6 created\n3. \u7236\u7ec4\u4ef6 beforeMount\n4. \u5b50\u7ec4\u4ef6 beforeCreate\n5. \u5b50\u7ec4\u4ef6 created\n6. \u5b50\u7ec4\u4ef6 beforeMount\n7. \u5b50\u7ec4\u4ef6 mounted\n8. \u7236\u7ec4\u4ef6 mounted\n\n\n**\u66f4\u65b0\u8fc7\u7a0b\uff1a**\n\n   1. \u7236\u7ec4\u4ef6 beforeUpdate\n   2. \u5b50\u7ec4\u4ef6 beforeUpdate\n   3. \u5b50\u7ec4\u4ef6 updated\n   4. \u7236\u7ec4\u4ef6 updated\n\n\n**\u9500\u6bc1\u8fc7\u7a0b\uff1a**\n\n   1. \u7236\u7ec4\u4ef6 beforeDestroy\n   2. \u5b50\u7ec4\u4ef6 beforeDestroy\n   3. \u5b50\u7ec4\u4ef6 destroyed\n   4. \u7236\u7ec4\u4ef6 destoryed\n\n### 3. created\u548cmounted\u7684\u533a\u522b\n\n- created:\u5728\u6a21\u677f\u6e32\u67d3\u6210html\u524d\u8c03\u7528\uff0c\u5373\u901a\u5e38\u521d\u59cb\u5316\u67d0\u4e9b\u5c5e\u6027\u503c\uff0c\u7136\u540e\u518d\u6e32\u67d3\u6210\u89c6\u56fe\u3002\n- mounted:\u5728\u6a21\u677f\u6e32\u67d3\u6210html\u540e\u8c03\u7528\uff0c\u901a\u5e38\u662f\u521d\u59cb\u5316\u9875\u9762\u5b8c\u6210\u540e\uff0c\u518d\u5bf9html\u7684dom\u8282\u70b9\u8fdb\u884c\u4e00\u4e9b\u9700\u8981\u7684\u64cd\u4f5c\u3002\n\n### 4. \u4e00\u822c\u5728\u54ea\u4e2a\u751f\u547d\u5468\u671f\u8bf7\u6c42\u5f02\u6b65\u6570\u636e\n\n\u6211\u4eec\u53ef\u4ee5\u5728\u94a9\u5b50\u51fd\u6570 created\u3001beforeMount\u3001mounted \u4e2d\u8fdb\u884c\u8c03\u7528\uff0c\u56e0\u4e3a\u5728\u8fd9\u4e09\u4e2a\u94a9\u5b50\u51fd\u6570\u4e2d\uff0cdata \u5df2\u7ecf\u521b\u5efa\uff0c\u53ef\u4ee5\u5c06\u670d\u52a1\u7aef\u7aef\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u8d4b\u503c\u3002\n\u200b\n\n\u63a8\u8350\u5728 created \u94a9\u5b50\u51fd\u6570\u4e2d\u8c03\u7528\u5f02\u6b65\u8bf7\u6c42\uff0c\u56e0\u4e3a\u5728 created \u94a9\u5b50\u51fd\u6570\u4e2d\u8c03\u7528\u5f02\u6b65\u8bf7\u6c42\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a\n\n- \u80fd\u66f4\u5feb\u83b7\u53d6\u5230\u670d\u52a1\u7aef\u6570\u636e\uff0c\u51cf\u5c11\u9875\u9762\u52a0\u8f7d\u65f6\u95f4\uff0c\u7528\u6237\u4f53\u9a8c\u66f4\u597d\uff1b\n- SSR\u4e0d\u652f\u6301 beforeMount \u3001mounted \u94a9\u5b50\u51fd\u6570\uff0c\u653e\u5728 created \u4e2d\u6709\u52a9\u4e8e\u4e00\u81f4\u6027\u3002\n\n### 5. keep-alive \u4e2d\u7684\u751f\u547d\u5468\u671f\u54ea\u4e9b\n\nkeep-alive\u662f Vue \u63d0\u4f9b\u7684\u4e00\u4e2a\u5185\u7f6e\u7ec4\u4ef6\uff0c\u7528\u6765\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u7f13\u5b58\u2014\u2014\u5728\u7ec4\u4ef6\u5207\u6362\u8fc7\u7a0b\u4e2d\u5c06\u72b6\u6001\u4fdd\u7559\u5728\u5185\u5b58\u4e2d\uff0c\u9632\u6b62\u91cd\u590d\u6e32\u67d3DOM\u3002\n\n\n\u5982\u679c\u4e3a\u4e00\u4e2a\u7ec4\u4ef6\u5305\u88f9\u4e86 keep-alive\uff0c\u90a3\u4e48\u5b83\u4f1a\u591a\u51fa\u4e24\u4e2a\u751f\u547d\u5468\u671f\uff1adeactivated\u3001activated\u3002\u540c\u65f6\uff0cbeforeDestroy \u548c destroyed \u5c31\u4e0d\u4f1a\u518d\u88ab\u89e6\u53d1\u4e86\uff0c\u56e0\u4e3a\u7ec4\u4ef6\u4e0d\u4f1a\u88ab\u771f\u6b63\u9500\u6bc1\u3002\n\n\n\u5f53\u7ec4\u4ef6\u88ab\u6362\u6389\u65f6\uff0c\u4f1a\u88ab\u7f13\u5b58\u5230\u5185\u5b58\u4e2d\u3001\u89e6\u53d1 deactivated \u751f\u547d\u5468\u671f\uff1b\u5f53\u7ec4\u4ef6\u88ab\u5207\u56de\u6765\u65f6\uff0c\u518d\u53bb\u7f13\u5b58\u91cc\u627e\u8fd9\u4e2a\u7ec4\u4ef6\u3001\u89e6\u53d1 activated\u94a9\u5b50\u51fd\u6570\u3002\n\n## \u4e09\u3001\u7ec4\u4ef6\u901a\u4fe1\n\n\u7ec4\u4ef6\u901a\u4fe1\u7684\u65b9\u5f0f\u5982\u4e0b\uff1a\n\n### \uff081\uff09 props \u00a0/ \u00a0 $emit\n\n\u7236\u7ec4\u4ef6\u901a\u8fc7`props`\u5411\u5b50\u7ec4\u4ef6\u4f20\u9012\u6570\u636e\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7`$emit`\u548c\u7236\u7ec4\u4ef6\u901a\u4fe1\n\n\n##### 1. \u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u4f20\u503c\n\n- `props`\u53ea\u80fd\u662f\u7236\u7ec4\u4ef6\u5411\u5b50\u7ec4\u4ef6\u8fdb\u884c\u4f20\u503c\uff0c`props`\u4f7f\u5f97\u7236\u5b50\u7ec4\u4ef6\u4e4b\u95f4\u5f62\u6210\u4e86\u4e00\u4e2a\u5355\u5411\u4e0b\u884c\u7ed1\u5b9a\u3002\u5b50\u7ec4\u4ef6\u7684\u6570\u636e\u4f1a\u968f\u7740\u7236\u7ec4\u4ef6\u4e0d\u65ad\u66f4\u65b0\u3002\n- `props` \u53ef\u4ee5\u663e\u793a\u5b9a\u4e49\u4e00\u4e2a\u6216\u4e00\u4e2a\u4ee5\u4e0a\u7684\u6570\u636e\uff0c\u5bf9\u4e8e\u63a5\u6536\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u662f\u5404\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u540c\u6837\u4e5f\u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u51fd\u6570\u3002\n- `props`\u5c5e\u6027\u540d\u89c4\u5219\uff1a\u82e5\u5728`props`\u4e2d\u4f7f\u7528\u9a7c\u5cf0\u5f62\u5f0f\uff0c\u6a21\u677f\u4e2d\u9700\u8981\u4f7f\u7528\u77ed\u6a2a\u7ebf\u7684\u5f62\u5f0f\n\n```javascript\n// \u7236\u7ec4\u4ef6\n<template>\n    <div id=\"father\">\n        <son :msg=\"msgData\" :fn=\"myFunction\"></son>\n    </div>\n</template>\n\n<script>\nimport son from \"./son.vue\";\nexport default {\n    name: father,\n    data() {\n        msgData: \"\u7236\u7ec4\u4ef6\u6570\u636e\";\n    },\n    methods: {\n        myFunction() {\n            console.log(\"vue\");\n        }\n    },\n    components: {\n        son\n    }\n};\n</script>\n```\n\n\n```javascript\n// \u5b50\u7ec4\u4ef6\n<template>\n    <div id=\"son\">\n        <p>{{msg}}</p>\n        <button @click=\"fn\">\u6309\u94ae</button>\n    </div>\n</template>\n<script>\nexport default {\n    name: \"son\",\n    props: [\"msg\", \"fn\"]\n};\n</script>\n```\n\n##### 2. \u5b50\u7ec4\u4ef6\u5411\u7236\u7ec4\u4ef6\u4f20\u503c\n\n- `$emit`\u7ed1\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u5f53\u8fd9\u4e2a\u4e8b\u4ef6\u88ab\u6267\u884c\u7684\u65f6\u5c31\u4f1a\u5c06\u53c2\u6570\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6\uff0c\u800c\u7236\u7ec4\u4ef6\u901a\u8fc7`v-on`\u76d1\u542c\u5e76\u63a5\u6536\u53c2\u6570\u3002\n\n\n\n```javascript\n// \u7236\u7ec4\u4ef6\n<template>\n  <div class=\"section\">\n    <com-article :articles=\"articleList\" @onEmitIndex=\"onEmitIndex\"></com-article>\n    <p>{{currentIndex}}</p>\n  </div>\n</template>\n\n<script>\nimport comArticle from './test/article.vue'\nexport default {\n  name: 'comArticle',\n  components: { comArticle },\n  data() {\n    return {\n      currentIndex: -1,\n      articleList: ['\u7ea2\u697c\u68a6', '\u897f\u6e38\u8bb0', '\u4e09\u56fd\u6f14\u4e49']\n    }\n  },\n  methods: {\n    onEmitIndex(idx) {\n      this.currentIndex = idx\n    }\n  }\n}\n</script>\n```\n\n\n```javascript\n//\u5b50\u7ec4\u4ef6\n<template>\n  <div>\n    <div v-for=\"(item, index) in articles\" :key=\"index\" @click=\"emitIndex(index)\">{{item}}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['articles'],\n  methods: {\n    emitIndex(index) {\n      this.$emit('onEmitIndex', index) // \u89e6\u53d1\u7236\u7ec4\u4ef6\u7684\u65b9\u6cd5\uff0c\u5e76\u4f20\u9012\u53c2\u6570index\n    }\n  }\n}\n</script>\n```\n\n### \uff082\uff09eventBus\u4e8b\u4ef6\u603b\u7ebf\uff08`$emit / $on`\uff09\n\n`eventBus`\u4e8b\u4ef6\u603b\u7ebf\u9002\u7528\u4e8e**\u7236\u5b50\u7ec4\u4ef6**\u3001**\u975e\u7236\u5b50\u7ec4\u4ef6**\u7b49\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u4f7f\u7528\u6b65\u9aa4\u5982\u4e0b\uff1a\n**\uff081\uff09\u521b\u5efa\u4e8b\u4ef6\u4e2d\u5fc3\u7ba1\u7406\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1**\n\n```javascript\n// event-bus.js\n\nimport Vue from 'vue'\nexport const EventBus = new Vue()\n```\n\n**\uff082\uff09\u53d1\u9001\u4e8b\u4ef6**\n\u5047\u8bbe\u6709\u4e24\u4e2a\u5144\u5f1f\u7ec4\u4ef6`firstCom`\u548c`secondCom`\uff1a\n\n```javascript\n<template>\n  <div>\n    <first-com></first-com>\n    <second-com></second-com>\n  </div>\n</template>\n\n<script>\nimport firstCom from './firstCom.vue'\nimport secondCom from './secondCom.vue'\nexport default {\n  components: { firstCom, secondCom }\n}\n</script>\n```\n\n\u5728`firstCom`\u7ec4\u4ef6\u4e2d\u53d1\u9001\u4e8b\u4ef6\uff1a\n\n```javascript\n<template>\n  <div>\n    <button @click=\"add\">\u52a0\u6cd5</button>    \n  </div>\n</template>\n\n<script>\nimport {EventBus} from './event-bus.js' // \u5f15\u5165\u4e8b\u4ef6\u4e2d\u5fc3\n\nexport default {\n  data(){\n    return{\n      num:0\n    }\n  },\n  methods:{\n    add(){\n      EventBus.$emit('addition', {\n        num:this.num++\n      })\n    }\n  }\n}\n</script>\n```\n\n**\uff083\uff09\u63a5\u6536\u4e8b\u4ef6**\n\u5728`secondCom`\u7ec4\u4ef6\u4e2d\u53d1\u9001\u4e8b\u4ef6\uff1a\n\n```javascript\n<template>\n  <div>\u6c42\u548c: {{count}}</div>\n</template>\n\n<script>\nimport { EventBus } from './event-bus.js'\nexport default {\n  data() {\n    return {\n      count: 0\n    }\n  },\n  mounted() {\n    EventBus.$on('addition', param => {\n      this.count = this.count + param.num;\n    })\n  }\n}\n</script>\n```\n\n\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u8fd9\u5c31\u76f8\u5f53\u4e8e\u5c06`num`\u503c\u5b58\u8d2e\u5728\u4e86\u4e8b\u4ef6\u603b\u7ebf\u4e2d\uff0c\u5728\u5176\u4ed6\u7ec4\u4ef6\u4e2d\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u3002\u4e8b\u4ef6\u603b\u7ebf\u5c31\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6865\u6881\uff0c\u4e0d\u7528\u7ec4\u4ef6\u901a\u8fc7\u5b83\u6765\u901a\u4fe1\u3002\n\n\n\u867d\u7136\u770b\u8d77\u6765\u6bd4\u8f83\u7b80\u5355\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u6709\u4e0d\u53d8\u4e4b\u5904\uff0c\u5982\u679c\u9879\u76ee\u8fc7\u5927\uff0c\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u8fdb\u884c\u901a\u4fe1\uff0c\u540e\u671f\u7ef4\u62a4\u8d77\u6765\u4f1a\u5f88\u56f0\u96be\u3002\n\n### \uff083\uff09\u4f9d\u8d56\u6ce8\u5165\uff08provide / inject\uff09\n\n\u8fd9\u79cd\u65b9\u5f0f\u5c31\u662fVue\u4e2d\u7684**\u4f9d\u8d56\u6ce8\u5165**\uff0c\u8be5\u65b9\u6cd5\u7528\u4e8e**\u7236\u5b50\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1**\u3002\u5f53\u7136\u8fd9\u91cc\u6240\u8bf4\u7684\u7236\u5b50\u4e0d\u4e00\u5b9a\u662f\u771f\u6b63\u7684\u7236\u5b50\uff0c\u4e5f\u53ef\u4ee5\u662f\u7956\u5b59\u7ec4\u4ef6\uff0c\u5728\u5c42\u6570\u5f88\u6df1\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u6765\u8fdb\u884c\u4f20\u503c\u3002\u5c31\u4e0d\u7528\u4e00\u5c42\u4e00\u5c42\u7684\u4f20\u9012\u4e86\u3002\n\n\n`provide / inject`\u662fVue\u63d0\u4f9b\u7684\u4e24\u4e2a\u94a9\u5b50\uff0c\u548c`data`\u3001`methods`\u662f\u540c\u7ea7\u7684\u3002\u5e76\u4e14`provide`\u7684\u4e66\u5199\u5f62\u5f0f\u548c`data`\u4e00\u6837\u3002\n\n- `provide` \u94a9\u5b50\u7528\u6765\u53d1\u9001\u6570\u636e\u6216\u65b9\u6cd5\n- `inject`\u94a9\u5b50\u7528\u6765\u63a5\u6536\u6570\u636e\u6216\u65b9\u6cd5\n\n\n\n\u5728\u7236\u7ec4\u4ef6\u4e2d\uff1a\n\n```javascript\nprovide() { \n    return {     \n        num: this.num  \n    };\n}\n```\n\n\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff1a\n\n```javascript\ninject: ['num']\n```\n\n\u8fd8\u53ef\u4ee5\u8fd9\u6837\u5199\uff0c\u8fd9\u6837\u5199\u5c31\u53ef\u4ee5\u8bbf\u95ee\u7236\u7ec4\u4ef6\u4e2d\u7684\u6240\u6709\u5c5e\u6027\uff1a\n\n```javascript\nprovide() {\n return {\n    app: this\n  };\n}\ndata() {\n return {\n    num: 1\n  };\n}\n\ninject: ['app']\nconsole.log(this.app.num)\n```\n\n**\u6ce8\u610f\uff1a** \u4f9d\u8d56\u6ce8\u5165\u6240\u63d0\u4f9b\u7684\u5c5e\u6027\u662f**\u975e\u54cd\u5e94\u5f0f**\u7684\u3002\n\n### \uff083\uff09ref / $refs\n\n\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u662f\u5b9e\u73b0**\u7236\u5b50\u7ec4\u4ef6**\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\n\n\n`ref`\uff1a \u8fd9\u4e2a\u5c5e\u6027\u7528\u5728\u5b50\u7ec4\u4ef6\u4e0a\uff0c\u5b83\u7684\u5f15\u7528\u5c31\u6307\u5411\u4e86\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u3002\u53ef\u4ee5\u901a\u8fc7\u5b9e\u4f8b\u6765\u8bbf\u95ee\u7ec4\u4ef6\u7684\u6570\u636e\u548c\u65b9\u6cd5\u3002\n\n\n\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff1a\n\n```javascript\nexport default {\n  data () {\n    return {\n      name: 'JavaScript'\n    }\n  },\n  methods: {\n    sayHello () {\n      console.log('hello')\n    }\n  }\n}\n```\n\n\u5728\u7236\u7ec4\u4ef6\u4e2d\uff1a\n\n```javascript\n<template>\n  <child ref=\"child\"></component-a>\n</template>\n<script>\n  import child from './child.vue'\n  export default {\n    components: { child },\n    mounted () {\n      console.log(this.$refs.child.name);  // JavaScript\n      this.$refs.child.sayHello();  // hello\n    }\n  }\n</script>\n```\n\n### \uff084\uff09`$parent / $children`\n\n- \u4f7f\u7528`$parent`\u53ef\u4ee5\u8ba9\u7ec4\u4ef6\u8bbf\u95ee\u7236\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff08\u8bbf\u95ee\u7684\u662f\u4e0a\u4e00\u7ea7\u7236\u7ec4\u4ef6\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff09\n- \u4f7f\u7528`$children`\u53ef\u4ee5\u8ba9\u7ec4\u4ef6\u8bbf\u95ee\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u4f46\u662f\uff0c`$children`\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u987a\u5e8f\uff0c\u5e76\u4e14\u8bbf\u95ee\u7684\u6570\u636e\u4e5f\u4e0d\u662f\u54cd\u5e94\u5f0f\u7684\u3002\n\n\n\n\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff1a\n\n```javascript\n<template>\n  <div>\n    <span>{{message}}</span>\n    <p>\u83b7\u53d6\u7236\u7ec4\u4ef6\u7684\u503c\u4e3a:  {{parentVal}}</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      message: 'Vue'\n    }\n  },\n  computed:{\n    parentVal(){\n      return this.$parent.msg;\n    }\n  }\n}\n</script>\n```\n\n\u5728\u7236\u7ec4\u4ef6\u4e2d\uff1a\n\n```javascript\n// \u7236\u7ec4\u4ef6\u4e2d\n<template>\n  <div class=\"hello_world\">\n    <div>{{msg}}</div>\n    <child></child>\n    <button @click=\"change\">\u70b9\u51fb\u6539\u53d8\u5b50\u7ec4\u4ef6\u503c</button>\n  </div>\n</template>\n\n<script>\nimport child from './child.vue'\nexport default {\n  components: { child },\n  data() {\n    return {\n      msg: 'Welcome'\n    }\n  },\n  methods: {\n    change() {\n      // \u83b7\u53d6\u5230\u5b50\u7ec4\u4ef6\n      this.$children[0].message = 'JavaScript'\n    }\n  }\n}\n</script>\n```\n\n\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u5b50\u7ec4\u4ef6\u83b7\u53d6\u5230\u4e86\u7236\u7ec4\u4ef6\u7684`parentVal`\u503c\uff0c\u7236\u7ec4\u4ef6\u6539\u53d8\u4e86\u5b50\u7ec4\u4ef6\u4e2d`message`\u7684\u503c\u3002\n**\u9700\u8981\u6ce8\u610f\uff1a**\n\n- \u901a\u8fc7`$parent`\u8bbf\u95ee\u5230\u7684\u662f\u4e0a\u4e00\u7ea7\u7236\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528`$root`\u6765\u8bbf\u95ee\u6839\u7ec4\u4ef6\u7684\u5b9e\u4f8b\n- \u5728\u7ec4\u4ef6\u4e2d\u4f7f\u7528`$children`\u62ff\u5230\u7684\u662f\u6240\u6709\u7684\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\uff0c\u5b83\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5e76\u4e14\u662f\u65e0\u5e8f\u7684\n- \u5728\u6839\u7ec4\u4ef6`#app`\u4e0a\u62ff`$parent`\u5f97\u5230\u7684\u662f`new Vue()`\u7684\u5b9e\u4f8b\uff0c\u5728\u8fd9\u5b9e\u4f8b\u4e0a\u518d\u62ff`$parent`\u5f97\u5230\u7684\u662f`undefined`\uff0c\u800c\u5728\u6700\u5e95\u5c42\u7684\u5b50\u7ec4\u4ef6\u62ff`$children`\u662f\u4e2a\u7a7a\u6570\u7ec4\n- `$children` \u7684\u503c\u662f**\u6570\u7ec4**\uff0c\u800c`$parent`\u662f\u4e2a**\u5bf9\u8c61**\n\n### \uff085\uff09`$attrs / $listeners`\n\n\u8003\u8651\u4e00\u79cd\u573a\u666f\uff0c\u5982\u679cA\u662fB\u7ec4\u4ef6\u7684\u7236\u7ec4\u4ef6\uff0cB\u662fC\u7ec4\u4ef6\u7684\u7236\u7ec4\u4ef6\u3002\u5982\u679c\u60f3\u8981\u7ec4\u4ef6A\u7ed9\u7ec4\u4ef6C\u4f20\u9012\u6570\u636e\uff0c\u8fd9\u79cd\u9694\u4ee3\u7684\u6570\u636e\uff0c\u8be5\u4f7f\u7528\u54ea\u79cd\u65b9\u5f0f\u5462\uff1f\n\n\n\u5982\u679c\u662f\u7528`props/$emit`\u6765\u4e00\u7ea7\u4e00\u7ea7\u7684\u4f20\u9012\uff0c\u786e\u5b9e\u53ef\u4ee5\u5b8c\u6210\uff0c\u4f46\u662f\u6bd4\u8f83\u590d\u6742\uff1b\u5982\u679c\u4f7f\u7528\u4e8b\u4ef6\u603b\u7ebf\uff0c\u5728\u591a\u4eba\u5f00\u53d1\u6216\u8005\u9879\u76ee\u8f83\u5927\u7684\u65f6\u5019\uff0c\u7ef4\u62a4\u8d77\u6765\u5f88\u9ebb\u70e6\uff1b\u5982\u679c\u4f7f\u7528Vuex\uff0c\u7684\u786e\u4e5f\u53ef\u4ee5\uff0c\u4f46\u662f\u5982\u679c\u4ec5\u4ec5\u662f\u4f20\u9012\u6570\u636e\uff0c\u90a3\u53ef\u80fd\u5c31\u6709\u70b9\u6d6a\u8d39\u4e86\u3002\n\n\n\u9488\u5bf9\u4e0a\u8ff0\u60c5\u51b5\uff0cVue\u5f15\u5165\u4e86`$attrs / $listeners`\uff0c\u5b9e\u73b0\u7ec4\u4ef6\u4e4b\u95f4\u7684\u8de8\u4ee3\u901a\u4fe1\u3002\n\n\n\u5148\u6765\u770b\u4e00\u4e0b`inheritAttrs`\uff0c\u5b83\u7684\u9ed8\u8ba4\u503ctrue\uff0c\u7ee7\u627f\u6240\u6709\u7684\u7236\u7ec4\u4ef6\u5c5e\u6027\u9664`props`\u4e4b\u5916\u7684\u6240\u6709\u5c5e\u6027\uff1b`inheritAttrs\uff1afalse` \u53ea\u7ee7\u627fclass\u5c5e\u6027 \u3002\n\n- `$attrs`\uff1a\u7ee7\u627f\u6240\u6709\u7684\u7236\u7ec4\u4ef6\u5c5e\u6027\uff08\u9664\u4e86prop\u4f20\u9012\u7684\u5c5e\u6027\u3001class \u548c style \uff09\uff0c\u4e00\u822c\u7528\u5728\u5b50\u7ec4\u4ef6\u7684\u5b50\u5143\u7d20\u4e0a\n- `$listeners`\uff1a\u8be5\u5c5e\u6027\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u91cc\u9762\u5305\u542b\u4e86\u4f5c\u7528\u5728\u8fd9\u4e2a\u7ec4\u4ef6\u4e0a\u7684\u6240\u6709\u76d1\u542c\u5668\uff0c\u53ef\u4ee5\u914d\u5408 `v-on=\"$listeners\"` \u5c06\u6240\u6709\u7684\u4e8b\u4ef6\u76d1\u542c\u5668\u6307\u5411\u8fd9\u4e2a\u7ec4\u4ef6\u7684\u67d0\u4e2a\u7279\u5b9a\u7684\u5b50\u5143\u7d20\u3002\uff08\u76f8\u5f53\u4e8e\u5b50\u7ec4\u4ef6\u7ee7\u627f\u7236\u7ec4\u4ef6\u7684\u4e8b\u4ef6\uff09\n\n\n\nA\u7ec4\u4ef6\uff08`APP.vue`\uff09\uff1a\n\n```javascript\n<template>\n    <div id=\"app\">\n        //\u6b64\u5904\u76d1\u542c\u4e86\u4e24\u4e2a\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u5728B\u7ec4\u4ef6\u6216\u8005C\u7ec4\u4ef6\u4e2d\u76f4\u63a5\u89e6\u53d1 \n        <child1 :p-child1=\"child1\" :p-child2=\"child2\" @test1=\"onTest1\" @test2=\"onTest2\"></child1>\n    </div>\n</template>\n<script>\nimport Child1 from './Child1.vue';\nexport default {\n    components: { Child1 },\n    methods: {\n        onTest1() {\n            console.log('test1 running');\n        },\n        onTest2() {\n            console.log('test2 running');\n        }\n    }\n};\n</script>\n```\n\nB\u7ec4\u4ef6\uff08`Child1.vue`\uff09\uff1a\n\n```javascript\n<template>\n    <div class=\"child-1\">\n        <p>props: {{pChild1}}</p>\n        <p>$attrs: {{$attrs}}</p>\n        <child2 v-bind=\"$attrs\" v-on=\"$listeners\"></child2>\n    </div>\n</template>\n<script>\nimport Child2 from './Child2.vue';\nexport default {\n    props: ['pChild1'],\n    components: { Child2 },\n    inheritAttrs: false,\n    mounted() {\n        this.$emit('test1'); // \u89e6\u53d1APP.vue\u4e2d\u7684test1\u65b9\u6cd5\n    }\n};\n</script>\n```\n\nC \u7ec4\u4ef6 (`Child2.vue`)\uff1a\n\n```javascript\n<template>\n    <div class=\"child-2\">\n        <p>props: {{pChild2}}</p>\n        <p>$attrs: {{$attrs}}</p>\n    </div>\n</template>\n<script>\nexport default {\n    props: ['pChild2'],\n    inheritAttrs: false,\n    mounted() {\n        this.$emit('test2');// \u89e6\u53d1APP.vue\u4e2d\u7684test2\u65b9\u6cd5\n    }\n};\n</script>\n```\n\n\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff1a\n\n- C\u7ec4\u4ef6\u4e2d\u80fd\u76f4\u63a5\u89e6\u53d1test\u7684\u539f\u56e0\u5728\u4e8e B\u7ec4\u4ef6\u8c03\u7528C\u7ec4\u4ef6\u65f6 \u4f7f\u7528 v-on \u7ed1\u5b9a\u4e86`$listeners` \u5c5e\u6027\n- \u5728B\u7ec4\u4ef6\u4e2d\u901a\u8fc7v-bind \u7ed1\u5b9a`$attrs`\u5c5e\u6027\uff0cC\u7ec4\u4ef6\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u5230A\u7ec4\u4ef6\u4e2d\u4f20\u9012\u4e0b\u6765\u7684props\uff08\u9664\u4e86B\u7ec4\u4ef6\u4e2dprops\u58f0\u660e\u7684\uff09\n\n### \uff086\uff09\u603b\u7ed3\n\n**\uff081\uff09\u7236\u5b50\u7ec4\u4ef6\u95f4\u901a\u4fe1**\n\n- \u5b50\u7ec4\u4ef6\u901a\u8fc7 props \u5c5e\u6027\u6765\u63a5\u53d7\u7236\u7ec4\u4ef6\u7684\u6570\u636e\uff0c\u7136\u540e\u7236\u7ec4\u4ef6\u5728\u5b50\u7ec4\u4ef6\u4e0a\u6ce8\u518c\u76d1\u542c\u4e8b\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7 emit \u89e6\u53d1\u4e8b\u4ef6\u6765\u5411\u7236\u7ec4\u4ef6\u53d1\u9001\u6570\u636e\u3002\n- \u901a\u8fc7 ref \u5c5e\u6027\u7ed9\u5b50\u7ec4\u4ef6\u8bbe\u7f6e\u4e00\u4e2a\u540d\u5b57\u3002\u7236\u7ec4\u4ef6\u901a\u8fc7 `$refs` \u7ec4\u4ef6\u540d\u6765\u83b7\u5f97\u5b50\u7ec4\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u901a\u8fc7 `$parent` \u83b7\u5f97\u7236\u7ec4\u4ef6\uff0c\u8fd9\u6837\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u901a\u4fe1\u3002\n- \u4f7f\u7528 provide/inject\uff0c\u5728\u7236\u7ec4\u4ef6\u4e2d\u901a\u8fc7 provide\u63d0\u4f9b\u53d8\u91cf\uff0c\u5728\u5b50\u7ec4\u4ef6\u4e2d\u901a\u8fc7 inject \u6765\u5c06\u53d8\u91cf\u6ce8\u5165\u5230\u7ec4\u4ef6\u4e2d\u3002\u4e0d\u8bba\u5b50\u7ec4\u4ef6\u6709\u591a\u6df1\uff0c\u53ea\u8981\u8c03\u7528\u4e86 inject \u90a3\u4e48\u5c31\u53ef\u4ee5\u6ce8\u5165 provide\u4e2d\u7684\u6570\u636e\u3002\n\n**\uff082\uff09\u5144\u5f1f\u7ec4\u4ef6\u95f4\u901a\u4fe1**\n\n- \u4f7f\u7528 eventBus \u7684\u65b9\u6cd5\uff0c\u5b83\u7684\u672c\u8d28\u662f\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684 Vue \u5b9e\u4f8b\u6765\u4f5c\u4e3a\u6d88\u606f\u4f20\u9012\u7684\u5bf9\u8c61\uff0c\u901a\u4fe1\u7684\u7ec4\u4ef6\u5f15\u5165\u8fd9\u4e2a\u5b9e\u4f8b\uff0c\u901a\u4fe1\u7684\u7ec4\u4ef6\u901a\u8fc7\u5728\u8fd9\u4e2a\u5b9e\u4f8b\u4e0a\u76d1\u542c\u548c\u89e6\u53d1\u4e8b\u4ef6\uff0c\u6765\u5b9e\u73b0\u6d88\u606f\u7684\u4f20\u9012\u3002\n- \u901a\u8fc7 `$parent/$refs` \u6765\u83b7\u53d6\u5230\u5144\u5f1f\u7ec4\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u901a\u4fe1\u3002\n\n**\uff083\uff09\u4efb\u610f\u7ec4\u4ef6\u4e4b\u95f4**\n\n- \u4f7f\u7528 eventBus \uff0c\u5176\u5b9e\u5c31\u662f\u521b\u5efa\u4e00\u4e2a\u4e8b\u4ef6\u4e2d\u5fc3\uff0c\u76f8\u5f53\u4e8e\u4e2d\u8f6c\u7ad9\uff0c\u53ef\u4ee5\u7528\u5b83\u6765\u4f20\u9012\u4e8b\u4ef6\u548c\u63a5\u6536\u4e8b\u4ef6\u3002\n\n\n\n\u5982\u679c\u4e1a\u52a1\u903b\u8f91\u590d\u6742\uff0c\u5f88\u591a\u7ec4\u4ef6\u4e4b\u95f4\u9700\u8981\u540c\u65f6\u5904\u7406\u4e00\u4e9b\u516c\u5171\u7684\u6570\u636e\uff0c\u8fd9\u4e2a\u65f6\u5019\u91c7\u7528\u4e0a\u9762\u8fd9\u4e00\u4e9b\u65b9\u6cd5\u53ef\u80fd\u4e0d\u5229\u4e8e\u9879\u76ee\u7684\u7ef4\u62a4\u3002\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528 vuex \uff0cvuex \u7684\u601d\u60f3\u5c31\u662f\u5c06\u8fd9\u4e00\u4e9b\u516c\u5171\u7684\u6570\u636e\u62bd\u79bb\u51fa\u6765\uff0c\u5c06\u5b83\u4f5c\u4e3a\u4e00\u4e2a\u5168\u5c40\u7684\u53d8\u91cf\u6765\u7ba1\u7406\uff0c\u7136\u540e\u5176\u4ed6\u7ec4\u4ef6\u5c31\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u516c\u5171\u6570\u636e\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\uff0c\u8fd9\u6837\u8fbe\u5230\u4e86\u89e3\u8026\u7684\u76ee\u7684\u3002\n\n"}, "author_user_info": {"user_id": "3544481220801815", "user_name": "CUGGZ", "company": "\u5728\u7ebf\u6559\u80b2", "job_title": "\u524d\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08", "avatar_large": "https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/61130727b6e6bf9ed813434aeaed8ac3~300x300.image", "level": 4, "description": "\u89c6\u91ce\u6240\u53ca\uff0c\u552f\u6709\u524d\u7aef\uff01", "followee_count": 30, "follower_count": 1629, "post_article_count": 45, "digg_article_count": 73, "got_digg_count": 4541, "got_view_count": 274430, "post_shortmsg_count": 1, "digg_shortmsg_count": 6, "isfollowed": false, "favorable_author": 1, "power": 7285, "study_point": 0, "university": {"university_id": "0", "name": "", "logo": ""}, "major": {"major_id": "0", "parent_id": "0", "name": ""}, "student_status": 0, "select_event_count": 0, "select_online_course_count": 0, "identity": 0, "is_select_annual": false, "select_annual_rank": 0, "annual_list_type": 0, "extraMap": {}, "is_logout": 0}, "category": {"category_id": "6809637767543259144", "category_name": "\u524d\u7aef", "category_url": "frontend", "rank": 2, "back_ground": "https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png", "icon": "https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png", "ctime": 1457483942, "mtime": 1432503190, "show_type": 3, "item_type": 2, "promote_tag_cap": 4, "promote_priority": 2}, "tags": [{"id": 2546524, "tag_id": "6809640404791590919", "tag_name": "\u9762\u8bd5", "color": "#545454", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/85dd1ce8008458ac220c.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1435971430, "mtime": 1632292468, "id_type": 9, "tag_alias": "", "post_article_count": 15891, "concern_user_count": 349674}, {"id": 2546526, "tag_id": "6809640407484334093", "tag_name": "\u524d\u7aef", "color": "#60ADFF", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/bac28828a49181c34110.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 1, "ctime": 1435971546, "mtime": 1632292712, "id_type": 9, "tag_alias": "", "post_article_count": 90068, "concern_user_count": 527780}, {"id": 2546498, "tag_id": "6809640369764958215", "tag_name": "Vue.js", "color": "#41B883", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/7b5c3eb591b671749fee.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1432234520, "mtime": 1632292861, "id_type": 9, "tag_alias": "", "post_article_count": 31473, "concern_user_count": 313582}], "user_interact": {"id": 6919373017218809864, "omitempty": 2, "user_id": 0, "is_digg": false, "is_follow": false, "is_collect": false}, "org": {"org_info": null, "org_user": null, "is_followed": false}, "req_id": "202109221446310102020921662D0000D0"}