{"article_id": "6844904184894980104", "article_info": {"article_id": "6844904184894980104", "user_id": "764915822103079", "category_id": "6809637767543259144", "tag_ids": [6809640398105870343, 6809640543006490638], "visible_level": 0, "link_url": "https://juejin.im/post/6844904184894980104", "cover_image": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3f6e0a9eed1~tplv-t2oaga2asx-image.image", "is_gfw": 0, "title": "\u4e00\u6587\u8bfb\u61c2 TypeScript \u6cdb\u578b\u53ca\u5e94\u7528\uff08 7.8K\u5b57\uff09", "brief_content": "\u8f6f\u4ef6\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u8981\u521b\u5efa\u4e00\u81f4\u7684\u5b9a\u4e49\u826f\u597d\u7684 API\uff0c\u540c\u65f6\u4e5f\u8981\u8003\u8651\u53ef\u91cd\u7528\u6027\u3002 \u7ec4\u4ef6\u4e0d\u4ec5\u80fd\u591f\u652f\u6301\u5f53\u524d\u7684\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\u4e5f\u80fd\u652f\u6301\u672a\u6765\u7684\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u5728\u521b\u5efa\u5927\u578b\u7cfb\u7edf\u65f6\u4e3a\u4f60\u63d0\u4f9b\u4e86\u5341\u5206\u7075\u6d3b\u7684\u529f\u80fd\u3002 \u5728\u50cf C# \u548c Java \u8fd9\u6837\u7684\u8bed\u8a00\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u6cdb\u578b\u6765\u521b\u5efa\u53ef\u91cd\u7528\u7684\u7ec4\u4ef6\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u652f\u6301\u591a\u79cd\u7c7b\u578b\u2026", "is_english": 0, "is_original": 1, "user_index": 11.626657516865, "original_type": 0, "original_author": "", "content": "<p>\u89c9\u5f97 TypeScript \u6cdb\u578b\u6709\u70b9\u96be\uff0c\u60f3\u7cfb\u7edf\u5b66\u4e60 TypeScript \u6cdb\u578b\u76f8\u5173\u77e5\u8bc6\u7684\u5c0f\u4f19\u4f34\u4eec\u770b\u8fc7\u6765\uff0c<strong>\u672c\u6587\u4ece\u516b\u4e2a\u65b9\u9762\u5165\u624b\uff0c\u5168\u65b9\u4f4d\u5e26\u4f60\u4e00\u6b65\u6b65\u5b66\u4e60 TypeScript \u4e2d\u6cdb\u578b</strong>\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\u5927\u7eb2\u8bf7\u770b\u4e0b\u56fe\uff1a</p>\n<p></p><figure><img alt=\"master-ts-generic\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3d970e872ef~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<p><strong>\u52a8\u9759\uff08\u56fe\uff09\u7ed3\u5408</strong>\uff0c\u5728\u6cdb\u578b\u5b66\u4e60\u4e4b\u8def\u52a9\u4f60\u4e00\u81c2\u4e4b\u529b\uff0c\u8fd8\u5728\u72b9\u8c6b\u4ec0\u4e48\uff0c\u8d76\u7d27\u5f00\u542f TypeScript \u6cdb\u578b\u7684\u5b66\u4e60\u4e4b\u65c5\u5427\uff01</p>\n<blockquote>\n<p>\u60f3\u5165\u95e8 TypeScript \u7684\u5c0f\u4f19\u4f34\u770b\u8fc7\u6765\uff0c\u963f\u5b9d\u54e5\u7279\u610f\u4e3a\u4f60\u4eec\u51c6\u5907\u7684 \u2014\u2014 <a target=\"_blank\" href=\"https://juejin.cn/post/6844904182843965453\">1.2W\u5b57 | \u4e86\u4e0d\u8d77\u7684 TypeScript \u5165\u95e8\u6559\u7a0b</a>\uff081027+ \u4e2a\ud83d\udc4d\uff09\u6559\u7a0b\u3002</p>\n</blockquote>\n<h3 class=\"heading\">\u4e00\u3001\u6cdb\u578b\u662f\u4ec0\u4e48</h3>\n<p>\u8f6f\u4ef6\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u8981\u521b\u5efa\u4e00\u81f4\u7684\u5b9a\u4e49\u826f\u597d\u7684 API\uff0c\u540c\u65f6\u4e5f\u8981\u8003\u8651\u53ef\u91cd\u7528\u6027\u3002 \u7ec4\u4ef6\u4e0d\u4ec5\u80fd\u591f\u652f\u6301\u5f53\u524d\u7684\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\u4e5f\u80fd\u652f\u6301\u672a\u6765\u7684\u6570\u636e\u7c7b\u578b\uff0c\u8fd9\u5728\u521b\u5efa\u5927\u578b\u7cfb\u7edf\u65f6\u4e3a\u4f60\u63d0\u4f9b\u4e86\u5341\u5206\u7075\u6d3b\u7684\u529f\u80fd\u3002</p>\n<p><strong>\u5728\u50cf C# \u548c Java \u8fd9\u6837\u7684\u8bed\u8a00\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u6cdb\u578b\u6765\u521b\u5efa\u53ef\u91cd\u7528\u7684\u7ec4\u4ef6\uff0c\u4e00\u4e2a\u7ec4\u4ef6\u53ef\u4ee5\u652f\u6301\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\u3002 \u8fd9\u6837\u7528\u6237\u5c31\u53ef\u4ee5\u4ee5\u81ea\u5df1\u7684\u6570\u636e\u7c7b\u578b\u6765\u4f7f\u7528\u7ec4\u4ef6\u3002</strong></p>\n<p>\u8bbe\u8ba1\u6cdb\u578b\u7684\u5173\u952e\u76ee\u7684\u662f\u5728\u6210\u5458\u4e4b\u95f4\u63d0\u4f9b\u6709\u610f\u4e49\u7684\u7ea6\u675f\uff0c\u8fd9\u4e9b\u6210\u5458\u53ef\u4ee5\u662f\uff1a\u7c7b\u7684\u5b9e\u4f8b\u6210\u5458\u3001\u7c7b\u7684\u65b9\u6cd5\u3001\u51fd\u6570\u53c2\u6570\u548c\u51fd\u6570\u8fd4\u56de\u503c\u3002</p>\n<p>\u4e3a\u4e86\u4fbf\u4e8e\u5927\u5bb6\u66f4\u597d\u5730\u7406\u89e3\u4e0a\u8ff0\u7684\u5185\u5bb9\uff0c\u6211\u4eec\u6765\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u4e00\u6b65\u6b65\u63ed\u793a\u6cdb\u578b\u7684\u4f5c\u7528\u3002\u9996\u5148\u6211\u4eec\u6765\u5b9a\u4e49\u4e00\u4e2a\u901a\u7528\u7684 <code>identity</code> \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\u5e76\u76f4\u63a5\u8fd4\u56de\u5b83\uff1a</p>\n<pre><code class=\"hljs javascript\" lang=\"javascript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> (<span class=\"hljs-params\">value</span>) </span>{\n  <span class=\"hljs-keyword\">return</span> value;\n}\n\n<span class=\"hljs-built_in\">console</span>.log(identity(<span class=\"hljs-number\">1</span>)) <span class=\"hljs-comment\">// 1</span>\n</code></pre><p>\u73b0\u5728\uff0c\u6211\u4eec\u5c06 <code>identity</code> \u51fd\u6570\u505a\u9002\u5f53\u7684\u8c03\u6574\uff0c\u4ee5\u652f\u6301 TypeScript \u7684 Number \u7c7b\u578b\u7684\u53c2\u6570\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> (<span class=\"hljs-params\">value: <span class=\"hljs-built_in\">Number</span></span>) : <span class=\"hljs-title\">Number</span> </span>{\n  <span class=\"hljs-keyword\">return</span> value;\n}\n\n<span class=\"hljs-built_in\">console</span>.log(identity(<span class=\"hljs-number\">1</span>)) <span class=\"hljs-comment\">// 1</span>\n</code></pre><p>\u8fd9\u91cc <code>identity</code> \u7684\u95ee\u9898\u662f\u6211\u4eec\u5c06 <code>Number</code> \u7c7b\u578b\u5206\u914d\u7ed9\u53c2\u6570\u548c\u8fd4\u56de\u7c7b\u578b\uff0c\u4f7f\u8be5\u51fd\u6570\u4ec5\u53ef\u7528\u4e8e\u8be5\u539f\u59cb\u7c7b\u578b\u3002\u4f46\u8be5\u51fd\u6570\u5e76\u4e0d\u662f\u53ef\u6269\u5c55\u6216\u901a\u7528\u7684\uff0c\u5f88\u660e\u663e\u8fd9\u5e76\u4e0d\u662f\u6211\u4eec\u6240\u5e0c\u671b\u7684\u3002</p>\n<p>\u6211\u4eec\u786e\u5b9e\u53ef\u4ee5\u628a <code>Number</code> \u6362\u6210 <code>any</code>\uff0c\u6211\u4eec\u5931\u53bb\u4e86\u5b9a\u4e49\u5e94\u8be5\u8fd4\u56de\u54ea\u79cd\u7c7b\u578b\u7684\u80fd\u529b\uff0c\u5e76\u4e14\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4f7f\u7f16\u8bd1\u5668\u5931\u53bb\u4e86\u7c7b\u578b\u4fdd\u62a4\u7684\u4f5c\u7528\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u8ba9 <code>identity</code> \u51fd\u6570\u53ef\u4ee5\u9002\u7528\u4e8e\u4efb\u4f55\u7279\u5b9a\u7684\u7c7b\u578b\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6cdb\u578b\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> &lt;<span class=\"hljs-title\">T</span>&gt;(<span class=\"hljs-params\">value: T</span>) : <span class=\"hljs-title\">T</span> </span>{\n  <span class=\"hljs-keyword\">return</span> value;\n}\n\n<span class=\"hljs-built_in\">console</span>.log(identity&lt;<span class=\"hljs-built_in\">Number</span>&gt;(<span class=\"hljs-number\">1</span>)) <span class=\"hljs-comment\">// 1</span>\n</code></pre><p>\u5bf9\u4e8e\u521a\u63a5\u89e6 TypeScript \u6cdb\u578b\u7684\u8bfb\u8005\u6765\u8bf4\uff0c\u9996\u6b21\u770b\u5230 <code>&lt;T&gt;</code> \u8bed\u6cd5\u4f1a\u611f\u5230\u964c\u751f\u3002\u4f46\u8fd9\u6ca1\u4ec0\u4e48\u53ef\u62c5\u5fc3\u7684\uff0c\u5c31\u50cf\u4f20\u9012\u53c2\u6570\u4e00\u6837\uff0c\u6211\u4eec\u4f20\u9012\u4e86\u6211\u4eec\u60f3\u8981\u7528\u4e8e\u7279\u5b9a\u51fd\u6570\u8c03\u7528\u7684\u7c7b\u578b\u3002</p>\n<p></p><figure><img alt=\"generic-type-filled\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3d9774a21ac~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<p>\u53c2\u8003\u4e0a\u9762\u7684\u56fe\u7247\uff0c\u5f53\u6211\u4eec\u8c03\u7528 <code>identity&lt;Number&gt;(1)</code> \uff0c<code>Number</code> \u7c7b\u578b\u5c31\u50cf\u53c2\u6570 <code>1</code> \u4e00\u6837\uff0c\u5b83\u5c06\u5728\u51fa\u73b0 <code>T</code> \u7684\u4efb\u4f55\u4f4d\u7f6e\u586b\u5145\u8be5\u7c7b\u578b\u3002\u56fe\u4e2d <code>&lt;T&gt;</code> \u5185\u90e8\u7684 <code>T</code> \u88ab\u79f0\u4e3a\u7c7b\u578b\u53d8\u91cf\uff0c\u5b83\u662f\u6211\u4eec\u5e0c\u671b\u4f20\u9012\u7ed9 identity \u51fd\u6570\u7684\u7c7b\u578b\u5360\u4f4d\u7b26\uff0c\u540c\u65f6\u5b83\u88ab\u5206\u914d\u7ed9 <code>value</code> \u53c2\u6570\u7528\u6765\u4ee3\u66ff\u5b83\u7684\u7c7b\u578b\uff1a\u6b64\u65f6 <code>T</code> \u5145\u5f53\u7684\u662f\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u7279\u5b9a\u7684 Number \u7c7b\u578b\u3002</p>\n<p>\u5176\u4e2d <code>T</code> \u4ee3\u8868 <strong>Type</strong>\uff0c\u5728\u5b9a\u4e49\u6cdb\u578b\u65f6\u901a\u5e38\u7528\u4f5c\u7b2c\u4e00\u4e2a\u7c7b\u578b\u53d8\u91cf\u540d\u79f0\u3002\u4f46\u5b9e\u9645\u4e0a <code>T</code> \u53ef\u4ee5\u7528\u4efb\u4f55\u6709\u6548\u540d\u79f0\u4ee3\u66ff\u3002\u9664\u4e86 <code>T</code> \u4e4b\u5916\uff0c\u4ee5\u4e0b\u662f\u5e38\u89c1\u6cdb\u578b\u53d8\u91cf\u4ee3\u8868\u7684\u610f\u601d\uff1a</p>\n<ul>\n<li>K\uff08Key\uff09\uff1a\u8868\u793a\u5bf9\u8c61\u4e2d\u7684\u952e\u7c7b\u578b\uff1b</li>\n<li>V\uff08Value\uff09\uff1a\u8868\u793a\u5bf9\u8c61\u4e2d\u7684\u503c\u7c7b\u578b\uff1b</li>\n<li>E\uff08Element\uff09\uff1a\u8868\u793a\u5143\u7d20\u7c7b\u578b\u3002</li>\n</ul>\n<p>\u5176\u5b9e\u5e76\u4e0d\u662f\u53ea\u80fd\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u5f15\u5165\u5e0c\u671b\u5b9a\u4e49\u7684\u4efb\u4f55\u6570\u91cf\u7684\u7c7b\u578b\u53d8\u91cf\u3002\u6bd4\u5982\u6211\u4eec\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u7c7b\u578b\u53d8\u91cf <code>U</code>\uff0c\u7528\u4e8e\u6269\u5c55\u6211\u4eec\u5b9a\u4e49\u7684 <code>identity</code> \u51fd\u6570\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> &lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>&gt;(<span class=\"hljs-params\">value: T, message: U</span>) : <span class=\"hljs-title\">T</span> </span>{\n  <span class=\"hljs-built_in\">console</span>.log(message);\n  <span class=\"hljs-keyword\">return</span> value;\n}\n\n<span class=\"hljs-built_in\">console</span>.log(identity&lt;<span class=\"hljs-built_in\">Number</span>, <span class=\"hljs-built_in\">string</span>&gt;(<span class=\"hljs-number\">68</span>, <span class=\"hljs-string\">\"Semlinker\"</span>));\n</code></pre><p></p><figure><img alt=\"generic-multi-type-filled\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3dbccc38ea7~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<p>\u9664\u4e86\u4e3a\u7c7b\u578b\u53d8\u91cf\u663e\u5f0f\u8bbe\u5b9a\u503c\u4e4b\u5916\uff0c\u4e00\u79cd\u66f4\u5e38\u89c1\u7684\u505a\u6cd5\u662f\u4f7f\u7f16\u8bd1\u5668\u81ea\u52a8\u9009\u62e9\u8fd9\u4e9b\u7c7b\u578b\uff0c\u4ece\u800c\u4f7f\u4ee3\u7801\u66f4\u7b80\u6d01\u3002\u6211\u4eec\u53ef\u4ee5\u5b8c\u5168\u7701\u7565\u5c16\u62ec\u53f7\uff0c\u6bd4\u5982\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> &lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>&gt;(<span class=\"hljs-params\">value: T, message: U</span>) : <span class=\"hljs-title\">T</span> </span>{\n  <span class=\"hljs-built_in\">console</span>.log(message);\n  <span class=\"hljs-keyword\">return</span> value;\n}\n\n<span class=\"hljs-built_in\">console</span>.log(identity(<span class=\"hljs-number\">68</span>, <span class=\"hljs-string\">\"Semlinker\"</span>));\n</code></pre><p>\u5bf9\u4e8e\u4e0a\u8ff0\u4ee3\u7801\uff0c\u7f16\u8bd1\u5668\u8db3\u591f\u806a\u660e\uff0c\u80fd\u591f\u77e5\u9053\u6211\u4eec\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u5e76\u5c06\u5b83\u4eec\u8d4b\u503c\u7ed9 T \u548c U\uff0c\u800c\u4e0d\u9700\u8981\u5f00\u53d1\u4eba\u5458\u663e\u5f0f\u6307\u5b9a\u5b83\u4eec\u3002\u4e0b\u9762\u6211\u4eec\u6765\u770b\u5f20\u52a8\u56fe\uff0c\u76f4\u89c2\u5730\u611f\u53d7\u4e00\u4e0b\u7c7b\u578b\u4f20\u9012\u7684\u8fc7\u7a0b\uff1a</p>\n<p></p><figure><img alt=\"generic-type-filled\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3d9773f34ad~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<p>\uff08\u56fe\u7247\u6765\u6e90\uff1a<a target=\"_blank\" href=\"https://medium.com/better-programming/typescript-generics-90be93d8c292%EF%BC%89\">https://medium.com/better-programming/typescript-generics-90be93d8c292\uff09</a></p>\n<blockquote>\n<p>\u611f\u8c22 @\u4ed1\uff08\u524d\u7aef\u642c\u7816\u515a\uff09\u6307\u51fa\uff0c\u8be5\u52a8\u56fe\u6709bug\u3002</p>\n<p>\u52a8\u6001\u56fe\u6700\u540e\u4e00\u53e5\u9519\u4e86\u5417\uff1fconsole.log(identity([1,2,3]))\u8fd9\u91cc\u6ce8\u5165\u7c7b\u578b\u5e94\u8be5\u662fnumber[]\u5427\uff1f</p>\n</blockquote>\n<p>\u5982\u4f60\u6240\u89c1\uff0c\u8be5\u51fd\u6570\u63a5\u6536\u4f60\u4f20\u9012\u7ed9\u5b83\u7684\u4efb\u4f55\u7c7b\u578b\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7c7b\u578b\u521b\u5efa\u53ef\u91cd\u7528\u7684\u7ec4\u4ef6\u3002\u73b0\u5728\u6211\u4eec\u518d\u6765\u770b\u4e00\u4e0b <code>identity</code> \u51fd\u6570\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> &lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>&gt;(<span class=\"hljs-params\">value: T, message: U</span>) : <span class=\"hljs-title\">T</span> </span>{\n  <span class=\"hljs-built_in\">console</span>.log(message);\n  <span class=\"hljs-keyword\">return</span> value;\n}\n</code></pre><p>\u76f8\u6bd4\u4e4b\u524d\u5b9a\u4e49\u7684 <code>identity</code> \u51fd\u6570\uff0c\u65b0\u7684 <code>identity</code> \u51fd\u6570\u589e\u52a0\u4e86\u4e00\u4e2a\u7c7b\u578b\u53d8\u91cf <code>U</code>\uff0c\u4f46\u8be5\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u6211\u4eec\u4ecd\u7136\u4f7f\u7528 <code>T</code>\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u8fd4\u56de\u4e24\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u8be5\u600e\u4e48\u529e\u5462\uff1f\u9488\u5bf9\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u6709\u591a\u79cd\u65b9\u6848\uff0c\u5176\u4e2d\u4e00\u79cd\u5c31\u662f\u4f7f\u7528\u5143\u7ec4\uff0c\u5373\u4e3a\u5143\u7ec4\u8bbe\u7f6e\u901a\u7528\u7684\u7c7b\u578b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span> &lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>&gt;(<span class=\"hljs-params\">value: T, message: U</span>) : [<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>] </span>{\n  <span class=\"hljs-keyword\">return</span> [value, message];\n}\n</code></pre><p>\u867d\u7136\u4f7f\u7528\u5143\u7ec4\u89e3\u51b3\u4e86\u4e0a\u8ff0\u7684\u95ee\u9898\uff0c\u4f46\u6709\u6ca1\u6709\u5176\u5b83\u66f4\u597d\u7684\u65b9\u6848\u5462\uff1f\u7b54\u6848\u662f\u6709\u7684\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u6cdb\u578b\u63a5\u53e3\u3002</p>\n<h3 class=\"heading\">\u4e8c\u3001\u6cdb\u578b\u63a5\u53e3</h3>\n<p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u9762\u63d0\u5230\u7684\u95ee\u9898\uff0c\u9996\u5148\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7528\u4e8e\u7684 <code>identity</code> \u51fd\u6570\u901a\u7528 <code>Identities</code> \u63a5\u53e3\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Identities&lt;V, M&gt; {\n  value: V,\n  message: M\n}\n</code></pre><p>\u5728\u4e0a\u8ff0\u7684 <code>Identities</code> \u63a5\u53e3\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u7c7b\u578b\u53d8\u91cf <code>V</code> \u548c <code>M</code>\uff0c\u6765\u8fdb\u4e00\u6b65\u8bf4\u660e\u6709\u6548\u7684\u5b57\u6bcd\u90fd\u53ef\u4ee5\u7528\u4e8e\u8868\u793a\u7c7b\u578b\u53d8\u91cf\uff0c\u4e4b\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06 <code>Identities</code> \u63a5\u53e3\u4f5c\u4e3a <code>identity</code> \u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span>&lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>&gt; (<span class=\"hljs-params\">value: T, message: U</span>): <span class=\"hljs-title\">Identities</span>&lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">U</span>&gt; </span>{\n  <span class=\"hljs-built_in\">console</span>.log(value + <span class=\"hljs-string\">\": \"</span> + <span class=\"hljs-keyword\">typeof</span> (value));\n  <span class=\"hljs-built_in\">console</span>.log(message + <span class=\"hljs-string\">\": \"</span> + <span class=\"hljs-keyword\">typeof</span> (message));\n  <span class=\"hljs-keyword\">let</span> identities: Identities&lt;T, U&gt; = {\n    value,\n    message\n  };\n  <span class=\"hljs-keyword\">return</span> identities;\n}\n\n<span class=\"hljs-built_in\">console</span>.log(identity(<span class=\"hljs-number\">68</span>, <span class=\"hljs-string\">\"Semlinker\"</span>));\n</code></pre><p>\u4ee5\u4e0a\u4ee3\u7801\u6210\u529f\u8fd0\u884c\u540e\uff0c\u5728\u63a7\u5236\u53f0\u4f1a\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p>\n<pre><code class=\"hljs shell\" lang=\"shell\">68: number\nSemlinker: string\n{value: 68, message: \"Semlinker\"}\n</code></pre><p>\u6cdb\u578b\u9664\u4e86\u53ef\u4ee5\u5e94\u7528\u5728\u51fd\u6570\u548c\u63a5\u53e3\u4e4b\u5916\uff0c\u5b83\u4e5f\u53ef\u4ee5\u5e94\u7528\u5728\u7c7b\u4e2d\uff0c\u4e0b\u9762\u6211\u4eec\u5c31\u6765\u770b\u4e00\u4e0b\u5728\u7c7b\u4e2d\u5982\u4f55\u4f7f\u7528\u6cdb\u578b\u3002</p>\n<h3 class=\"heading\">\u4e09\u3001\u6cdb\u578b\u7c7b</h3>\n<p>\u5728\u7c7b\u4e2d\u4f7f\u7528\u6cdb\u578b\u4e5f\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u7c7b\u540d\u540e\u9762\uff0c\u4f7f\u7528 <code>&lt;T, ...&gt;</code> \u7684\u8bed\u6cd5\u5b9a\u4e49\u4efb\u610f\u591a\u4e2a\u7c7b\u578b\u53d8\u91cf\uff0c\u5177\u4f53\u793a\u4f8b\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> GenericInterface&lt;U&gt; {\n  value: U\n  getIdentity: <span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> U\n}\n\n<span class=\"hljs-keyword\">class</span> IdentityClass&lt;T&gt; <span class=\"hljs-keyword\">implements</span> GenericInterface&lt;T&gt; {\n  value: T\n\n  <span class=\"hljs-keyword\">constructor</span>(<span class=\"hljs-params\">value: T</span>) {\n    <span class=\"hljs-keyword\">this</span>.value = value\n  }\n\n  getIdentity(): T {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.value\n  }\n\n}\n\n<span class=\"hljs-keyword\">const</span> myNumberClass = <span class=\"hljs-keyword\">new</span> IdentityClass&lt;<span class=\"hljs-built_in\">Number</span>&gt;(<span class=\"hljs-number\">68</span>);\n<span class=\"hljs-built_in\">console</span>.log(myNumberClass.getIdentity()); <span class=\"hljs-comment\">// 68</span>\n\n<span class=\"hljs-keyword\">const</span> myStringClass = <span class=\"hljs-keyword\">new</span> IdentityClass&lt;<span class=\"hljs-built_in\">string</span>&gt;(<span class=\"hljs-string\">\"Semlinker!\"</span>);\n<span class=\"hljs-built_in\">console</span>.log(myStringClass.getIdentity()); <span class=\"hljs-comment\">// Semlinker!</span>\n</code></pre><p>\u63a5\u4e0b\u6765\u6211\u4eec\u4ee5\u5b9e\u4f8b\u5316 <code>myNumberClass</code> \u4e3a\u4f8b\uff0c\u6765\u5206\u6790\u4e00\u4e0b\u5176\u8c03\u7528\u8fc7\u7a0b\uff1a</p>\n<ul>\n<li>\u5728\u5b9e\u4f8b\u5316 <code>IdentityClass</code> \u5bf9\u8c61\u65f6\uff0c\u6211\u4eec\u4f20\u5165 <code>Number</code> \u7c7b\u578b\u548c\u6784\u9020\u51fd\u6570\u53c2\u6570\u503c <code>68</code>\uff1b</li>\n<li>\u4e4b\u540e\u5728 <code>IdentityClass</code> \u7c7b\u4e2d\uff0c\u7c7b\u578b\u53d8\u91cf <code>T</code> \u7684\u503c\u53d8\u6210 <code>Number</code> \u7c7b\u578b\uff1b</li>\n<li><code>IdentityClass</code> \u7c7b\u5b9e\u73b0\u4e86 <code>GenericInterface&lt;T&gt;</code>\uff0c\u800c\u6b64\u65f6 <code>T</code> \u8868\u793a <code>Number</code> \u7c7b\u578b\uff0c\u56e0\u6b64\u7b49\u4ef7\u4e8e\u8be5\u7c7b\u5b9e\u73b0\u4e86 <code>GenericInterface&lt;Number&gt;</code> \u63a5\u53e3\uff1b</li>\n<li>\u800c\u5bf9\u4e8e <code>GenericInterface&lt;U&gt;</code> \u63a5\u53e3\u6765\u8bf4\uff0c\u7c7b\u578b\u53d8\u91cf <code>U</code> \u4e5f\u53d8\u6210\u4e86 <code>Number</code>\u3002\u8fd9\u91cc\u6211\u6709\u610f\u4f7f\u7528\u4e0d\u540c\u7684\u53d8\u91cf\u540d\uff0c\u4ee5\u8868\u660e\u7c7b\u578b\u503c\u6cbf\u94fe\u5411\u4e0a\u4f20\u64ad\uff0c\u4e14\u4e0e\u53d8\u91cf\u540d\u65e0\u5173\u3002</li>\n</ul>\n<p>\u6cdb\u578b\u7c7b\u53ef\u786e\u4fdd\u5728\u6574\u4e2a\u7c7b\u4e2d\u4e00\u81f4\u5730\u4f7f\u7528\u6307\u5b9a\u7684\u6570\u636e\u7c7b\u578b\u3002\u6bd4\u5982\uff0c\u4f60\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\u5728\u4f7f\u7528 Typescript \u7684 React \u9879\u76ee\u4e2d\u4f7f\u7528\u4e86\u4ee5\u4e0b\u7ea6\u5b9a\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">type</span> Props = {\n  className?: <span class=\"hljs-built_in\">string</span>\n   ...\n};\n\n<span class=\"hljs-keyword\">type</span> State = {\n  submitted?: bool\n   ...\n};\n\n<span class=\"hljs-keyword\">class</span> MyComponent <span class=\"hljs-keyword\">extends</span> React.Component&lt;Props, State&gt; {\n   ...\n}\n</code></pre><p>\u5728\u4ee5\u4e0a\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5c06\u6cdb\u578b\u4e0e React \u7ec4\u4ef6\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u786e\u4fdd\u7ec4\u4ef6\u7684 props \u548c state \u662f\u7c7b\u578b\u5b89\u5168\u7684\u3002</p>\n<p>\u76f8\u4fe1\u770b\u5230\u8fd9\u91cc\u4e00\u4e9b\u8bfb\u8005\u4f1a\u6709\u7591\u95ee\uff0c\u6211\u4eec\u5728\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u4f7f\u7528\u6cdb\u578b\u5462\uff1f\u901a\u5e38\u5728\u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u6cdb\u578b\u65f6\uff0c\u6211\u4eec\u6709\u4ee5\u4e0b\u4e24\u4e2a\u53c2\u8003\u6807\u51c6\uff1a</p>\n<ul>\n<li>\u5f53\u4f60\u7684\u51fd\u6570\u3001\u63a5\u53e3\u6216\u7c7b\u5c06\u5904\u7406\u591a\u79cd\u6570\u636e\u7c7b\u578b\u65f6\uff1b</li>\n<li>\u5f53\u51fd\u6570\u3001\u63a5\u53e3\u6216\u7c7b\u5728\u591a\u4e2a\u5730\u65b9\u4f7f\u7528\u8be5\u6570\u636e\u7c7b\u578b\u65f6\u3002</li>\n</ul>\n<p>\u5f88\u6709\u53ef\u80fd\u4f60\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1\u5728\u9879\u76ee\u65e9\u671f\u5c31\u4f7f\u7528\u6cdb\u578b\u7684\u7ec4\u4ef6\uff0c\u4f46\u662f\u968f\u7740\u9879\u76ee\u7684\u53d1\u5c55\uff0c\u7ec4\u4ef6\u7684\u529f\u80fd\u901a\u5e38\u4f1a\u88ab\u6269\u5c55\u3002\u8fd9\u79cd\u589e\u52a0\u7684\u53ef\u6269\u5c55\u6027\u6700\u7ec8\u5f88\u53ef\u80fd\u4f1a\u6ee1\u8db3\u4e0a\u8ff0\u4e24\u4e2a\u6761\u4ef6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5f15\u5165\u6cdb\u578b\u5c06\u6bd4\u590d\u5236\u7ec4\u4ef6\u6765\u6ee1\u8db3\u4e00\u7cfb\u5217\u6570\u636e\u7c7b\u578b\u66f4\u5e72\u51c0\u3002</p>\n<p>\u6211\u4eec\u5c06\u5728\u672c\u6587\u7684\u540e\u9762\u63a2\u8ba8\u66f4\u591a\u6ee1\u8db3\u8fd9\u4e24\u4e2a\u6761\u4ef6\u7684\u7528\u4f8b\u3002\u4e0d\u8fc7\u5728\u8fd9\u6837\u505a\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u5148\u4ecb\u7ecd\u4e00\u4e0b Typescript \u6cdb\u578b\u63d0\u4f9b\u7684\u5176\u4ed6\u529f\u80fd\u3002</p>\n<h3 class=\"heading\">\u56db\u3001\u6cdb\u578b\u7ea6\u675f</h3>\n<p>\u6709\u65f6\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u9650\u5236\u6bcf\u4e2a\u7c7b\u578b\u53d8\u91cf\u63a5\u53d7\u7684\u7c7b\u578b\u6570\u91cf\uff0c\u8fd9\u5c31\u662f\u6cdb\u578b\u7ea6\u675f\u7684\u4f5c\u7528\u3002\u4e0b\u9762\u6211\u4eec\u6765\u4e3e\u51e0\u4e2a\u4f8b\u5b50\uff0c\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u4f7f\u7528\u6cdb\u578b\u7ea6\u675f\u3002</p>\n<h4 class=\"heading\">4.1 \u786e\u4fdd\u5c5e\u6027\u5b58\u5728</h4>\n<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u7c7b\u578b\u53d8\u91cf\u5bf9\u5e94\u7684\u7c7b\u578b\u4e0a\u5b58\u5728\u67d0\u4e9b\u5c5e\u6027\u3002\u8fd9\u65f6\uff0c\u9664\u975e\u6211\u4eec\u663e\u5f0f\u5730\u5c06\u7279\u5b9a\u5c5e\u6027\u5b9a\u4e49\u4e3a\u7c7b\u578b\u53d8\u91cf\uff0c\u5426\u5219\u7f16\u8bd1\u5668\u4e0d\u4f1a\u77e5\u9053\u5b83\u4eec\u7684\u5b58\u5728\u3002</p>\n<p>\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\u662f\u5728\u5904\u7406\u5b57\u7b26\u4e32\u6216\u6570\u7ec4\u65f6\uff0c\u6211\u4eec\u4f1a\u5047\u8bbe <code>length</code> \u5c5e\u6027\u662f\u53ef\u7528\u7684\u3002\u8ba9\u6211\u4eec\u518d\u6b21\u4f7f\u7528 <code>identity</code> \u51fd\u6570\u5e76\u5c1d\u8bd5\u8f93\u51fa\u53c2\u6570\u7684\u957f\u5ea6\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span>&lt;<span class=\"hljs-title\">T</span>&gt;(<span class=\"hljs-params\">arg: T</span>): <span class=\"hljs-title\">T</span> </span>{\n  <span class=\"hljs-built_in\">console</span>.log(arg.length); <span class=\"hljs-comment\">// Error</span>\n  <span class=\"hljs-keyword\">return</span> arg;\n}\n</code></pre><p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7f16\u8bd1\u5668\u5c06\u4e0d\u4f1a\u77e5\u9053 <code>T</code> \u786e\u5b9e\u542b\u6709 <code>length</code> \u5c5e\u6027\uff0c\u5c24\u5176\u662f\u5728\u53ef\u4ee5\u5c06\u4efb\u4f55\u7c7b\u578b\u8d4b\u7ed9\u7c7b\u578b\u53d8\u91cf <code>T</code> \u7684\u60c5\u51b5\u4e0b\u3002\u6211\u4eec\u9700\u8981\u505a\u7684\u5c31\u662f\u8ba9\u7c7b\u578b\u53d8\u91cf <code>extends</code> \u4e00\u4e2a\u542b\u6709\u6211\u4eec\u6240\u9700\u5c5e\u6027\u7684\u63a5\u53e3\uff0c\u6bd4\u5982\u8fd9\u6837\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Length {\n  length: <span class=\"hljs-built_in\">number</span>;\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span>&lt;<span class=\"hljs-title\">T</span> <span class=\"hljs-title\">extends</span> <span class=\"hljs-title\">Length</span>&gt;(<span class=\"hljs-params\">arg: T</span>): <span class=\"hljs-title\">T</span> </span>{\n  <span class=\"hljs-built_in\">console</span>.log(arg.length); <span class=\"hljs-comment\">// \u53ef\u4ee5\u83b7\u53d6length\u5c5e\u6027</span>\n  <span class=\"hljs-keyword\">return</span> arg;\n}\n</code></pre><p><code>T extends Length</code> \u7528\u4e8e\u544a\u8bc9\u7f16\u8bd1\u5668\uff0c\u6211\u4eec\u652f\u6301\u5df2\u7ecf\u5b9e\u73b0 <code>Length</code> \u63a5\u53e3\u7684\u4efb\u4f55\u7c7b\u578b\u3002\u4e4b\u540e\uff0c\u5f53\u6211\u4eec\u4f7f\u7528\u4e0d\u542b\u6709 <code>length</code> \u5c5e\u6027\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u8c03\u7528  <code>identity</code> \u51fd\u6570\u65f6\uff0cTypeScript \u4f1a\u63d0\u793a\u76f8\u5173\u7684\u9519\u8bef\u4fe1\u606f\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\">identity(<span class=\"hljs-number\">68</span>); <span class=\"hljs-comment\">// Error</span>\n<span class=\"hljs-comment\">// Argument of type '68' is not assignable to parameter of type 'Length'.(2345)</span>\n</code></pre><p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 <code>,</code> \u53f7\u6765\u5206\u9694\u591a\u79cd\u7ea6\u675f\u7c7b\u578b\uff0c\u6bd4\u5982\uff1a<code>&lt;T extends Length, Type2, Type3&gt;</code>\u3002\u800c\u5bf9\u4e8e\u4e0a\u8ff0\u7684 <code>length</code> \u5c5e\u6027\u95ee\u9898\u6765\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u663e\u5f0f\u5730\u5c06\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u6570\u7ec4\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\uff0c\u5177\u4f53\u65b9\u5f0f\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span>&lt;<span class=\"hljs-title\">T</span>&gt;(<span class=\"hljs-params\">arg: T[]</span>): <span class=\"hljs-title\">T</span>[] </span>{\n   <span class=\"hljs-built_in\">console</span>.log(arg.length);  \n   <span class=\"hljs-keyword\">return</span> arg; \n}\n\n<span class=\"hljs-comment\">// or</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">identity</span>&lt;<span class=\"hljs-title\">T</span>&gt;(<span class=\"hljs-params\">arg: <span class=\"hljs-built_in\">Array</span>&lt;T&gt;</span>): <span class=\"hljs-title\">Array</span>&lt;<span class=\"hljs-title\">T</span>&gt; </span>{      \n  <span class=\"hljs-built_in\">console</span>.log(arg.length);\n  <span class=\"hljs-keyword\">return</span> arg; \n}\n</code></pre><h4 class=\"heading\">4.2 \u68c0\u67e5\u5bf9\u8c61\u4e0a\u7684\u952e\u662f\u5426\u5b58\u5728</h4>\n<p>\u6cdb\u578b\u7ea6\u675f\u7684\u53e6\u4e00\u4e2a\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u5c31\u662f\u68c0\u67e5\u5bf9\u8c61\u4e0a\u7684\u952e\u662f\u5426\u5b58\u5728\u3002\u4e0d\u8fc7\u5728\u770b\u5177\u4f53\u793a\u4f8b\u4e4b\u524d\uff0c\u6211\u4eec\u5f97\u6765\u4e86\u89e3\u4e00\u4e0b <code>keyof</code> \u64cd\u4f5c\u7b26\uff0c<strong><code>keyof</code> \u64cd\u4f5c\u7b26\u662f\u5728 TypeScript 2.1 \u7248\u672c\u5f15\u5165\u7684\uff0c\u8be5\u64cd\u4f5c\u7b26\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u67d0\u79cd\u7c7b\u578b\u7684\u6240\u6709\u952e\uff0c\u5176\u8fd4\u56de\u7c7b\u578b\u662f\u8054\u5408\u7c7b\u578b\u3002</strong> \"\u8033\u542c\u4e3a\u865a\uff0c\u773c\u89c1\u4e3a\u5b9e\"\uff0c\u6211\u4eec\u6765\u4e3e\u4e2a <code>keyof</code> \u7684\u4f7f\u7528\u793a\u4f8b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Person {\n  name: <span class=\"hljs-built_in\">string</span>;\n  age: <span class=\"hljs-built_in\">number</span>;\n  location: <span class=\"hljs-built_in\">string</span>;\n}\n\n<span class=\"hljs-keyword\">type</span> K1 = keyof Person; <span class=\"hljs-comment\">// \"name\" | \"age\" | \"location\"</span>\n<span class=\"hljs-keyword\">type</span> K2 = keyof Person[];  <span class=\"hljs-comment\">// number | \"length\" | \"push\" | \"concat\" | ...</span>\n<span class=\"hljs-keyword\">type</span> K3 = keyof { [x: <span class=\"hljs-built_in\">string</span>]: Person };  <span class=\"hljs-comment\">// string | number</span>\n</code></pre><p>\u901a\u8fc7 <code>keyof</code> \u64cd\u4f5c\u7b26\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u83b7\u53d6\u6307\u5b9a\u7c7b\u578b\u7684\u6240\u6709\u952e\uff0c\u4e4b\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u7ed3\u5408\u524d\u9762\u4ecb\u7ecd\u7684 <code>extends</code> \u7ea6\u675f\uff0c\u5373\u9650\u5236\u8f93\u5165\u7684\u5c5e\u6027\u540d\u5305\u542b\u5728 <code>keyof</code> \u8fd4\u56de\u7684\u8054\u5408\u7c7b\u578b\u4e2d\u3002\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getProperty</span>&lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">K</span> <span class=\"hljs-title\">extends</span> <span class=\"hljs-title\">keyof</span> <span class=\"hljs-title\">T</span>&gt;(<span class=\"hljs-params\">obj: T, key: K</span>): <span class=\"hljs-title\">T</span>[<span class=\"hljs-title\">K</span>] </span>{\n  <span class=\"hljs-keyword\">return</span> obj[key];\n}\n</code></pre><p>\u5728\u4ee5\u4e0a\u7684 <code>getProperty</code> \u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7 <code>K extends keyof T</code> \u786e\u4fdd\u53c2\u6570 key \u4e00\u5b9a\u662f\u5bf9\u8c61\u4e2d\u542b\u6709\u7684\u952e\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u53d1\u751f\u8fd0\u884c\u65f6\u9519\u8bef\u3002\u8fd9\u662f\u4e00\u4e2a\u7c7b\u578b\u5b89\u5168\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u4e0e\u7b80\u5355\u8c03\u7528 <code>let value = obj[key];</code> \u4e0d\u540c\u3002</p>\n<p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5982\u4f55\u4f7f\u7528 <code>getProperty</code> \u51fd\u6570\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">enum</span> Difficulty {\n  Easy,\n  Intermediate,\n  Hard\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">getProperty</span>&lt;<span class=\"hljs-title\">T</span>, <span class=\"hljs-title\">K</span> <span class=\"hljs-title\">extends</span> <span class=\"hljs-title\">keyof</span> <span class=\"hljs-title\">T</span>&gt;(<span class=\"hljs-params\">obj: T, key: K</span>): <span class=\"hljs-title\">T</span>[<span class=\"hljs-title\">K</span>] </span>{\n  <span class=\"hljs-keyword\">return</span> obj[key];\n}\n\n<span class=\"hljs-keyword\">let</span> tsInfo = {\n   name: <span class=\"hljs-string\">\"Typescript\"</span>,\n   supersetOf: <span class=\"hljs-string\">\"Javascript\"</span>,\n   difficulty: Difficulty.Intermediate\n}\n \n<span class=\"hljs-keyword\">let</span> difficulty: Difficulty = \n  getProperty(tsInfo, <span class=\"hljs-string\">'difficulty'</span>); <span class=\"hljs-comment\">// OK</span>\n\n<span class=\"hljs-keyword\">let</span> supersetOf: <span class=\"hljs-built_in\">string</span> = \n  getProperty(tsInfo, <span class=\"hljs-string\">'superset_of'</span>); <span class=\"hljs-comment\">// Error</span>\n</code></pre><p>\u5728\u4ee5\u4e0a\u793a\u4f8b\u4e2d\uff0c\u5bf9\u4e8e <code>getProperty(tsInfo, 'superset_of')</code> \u8fd9\u4e2a\u8868\u8fbe\u5f0f\uff0cTypeScript \u7f16\u8bd1\u5668\u4f1a\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef\u4fe1\u606f\uff1a</p>\n<pre><code class=\"hljs bash\" lang=\"bash\">Argument of <span class=\"hljs-built_in\">type</span> <span class=\"hljs-string\">'\"superset_of\"'</span> is not assignable to parameter of <span class=\"hljs-built_in\">type</span> \n<span class=\"hljs-string\">'\"difficulty\" | \"name\" | \"supersetOf\"'</span>.(2345)\n</code></pre><p>\u5f88\u660e\u663e\u901a\u8fc7\u4f7f\u7528\u6cdb\u578b\u7ea6\u675f\uff0c\u5728\u7f16\u8bd1\u9636\u6bb5\u6211\u4eec\u5c31\u53ef\u4ee5\u63d0\u524d\u53d1\u73b0\u9519\u8bef\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u7a0b\u5e8f\u7684\u5065\u58ee\u6027\u548c\u7a33\u5b9a\u6027\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u4ecb\u7ecd\u4e00\u4e0b\u6cdb\u578b\u53c2\u6570\u9ed8\u8ba4\u7c7b\u578b\u3002</p>\n<h3 class=\"heading\">\u4e94\u3001\u6cdb\u578b\u53c2\u6570\u9ed8\u8ba4\u7c7b\u578b</h3>\n<p>\u5728 TypeScript 2.3 \u4ee5\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6cdb\u578b\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u9ed8\u8ba4\u7c7b\u578b\u3002\u5f53\u4f7f\u7528\u6cdb\u578b\u65f6\u6ca1\u6709\u5728\u4ee3\u7801\u4e2d\u76f4\u63a5\u6307\u5b9a\u7c7b\u578b\u53c2\u6570\uff0c\u4ece\u5b9e\u9645\u503c\u53c2\u6570\u4e2d\u4e5f\u65e0\u6cd5\u63a8\u65ad\u51fa\u7c7b\u578b\u65f6\uff0c\u8fd9\u4e2a\u9ed8\u8ba4\u7c7b\u578b\u5c31\u4f1a\u8d77\u4f5c\u7528\u3002</p>\n<p>\u6cdb\u578b\u53c2\u6570\u9ed8\u8ba4\u7c7b\u578b\u4e0e\u666e\u901a\u51fd\u6570\u9ed8\u8ba4\u503c\u7c7b\u4f3c\uff0c\u5bf9\u5e94\u7684\u8bed\u6cd5\u5f88\u7b80\u5355\uff0c\u5373 <code>&lt;T=Default Type&gt;</code>\uff0c\u5bf9\u5e94\u7684\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> A&lt;T=string&gt; {\n  name: T;\n}\n\n<span class=\"hljs-keyword\">const</span> strA: A = { name: <span class=\"hljs-string\">\"Semlinker\"</span> };\n<span class=\"hljs-keyword\">const</span> numB: A&lt;<span class=\"hljs-built_in\">number</span>&gt; = { name: <span class=\"hljs-number\">101</span> };\n</code></pre><p>\u6cdb\u578b\u53c2\u6570\u7684\u9ed8\u8ba4\u7c7b\u578b\u9075\u5faa\u4ee5\u4e0b\u89c4\u5219\uff1a</p>\n<ul>\n<li>\u6709\u9ed8\u8ba4\u7c7b\u578b\u7684\u7c7b\u578b\u53c2\u6570\u88ab\u8ba4\u4e3a\u662f\u53ef\u9009\u7684\u3002</li>\n<li>\u5fc5\u9009\u7684\u7c7b\u578b\u53c2\u6570\u4e0d\u80fd\u5728\u53ef\u9009\u7684\u7c7b\u578b\u53c2\u6570\u540e\u3002</li>\n<li>\u5982\u679c\u7c7b\u578b\u53c2\u6570\u6709\u7ea6\u675f\uff0c\u7c7b\u578b\u53c2\u6570\u7684\u9ed8\u8ba4\u7c7b\u578b\u5fc5\u987b\u6ee1\u8db3\u8fd9\u4e2a\u7ea6\u675f\u3002</li>\n<li>\u5f53\u6307\u5b9a\u7c7b\u578b\u5b9e\u53c2\u65f6\uff0c\u4f60\u53ea\u9700\u8981\u6307\u5b9a\u5fc5\u9009\u7c7b\u578b\u53c2\u6570\u7684\u7c7b\u578b\u5b9e\u53c2\u3002 \u672a\u6307\u5b9a\u7684\u7c7b\u578b\u53c2\u6570\u4f1a\u88ab\u89e3\u6790\u4e3a\u5b83\u4eec\u7684\u9ed8\u8ba4\u7c7b\u578b\u3002</li>\n<li>\u5982\u679c\u6307\u5b9a\u4e86\u9ed8\u8ba4\u7c7b\u578b\uff0c\u4e14\u7c7b\u578b\u63a8\u65ad\u65e0\u6cd5\u9009\u62e9\u4e00\u4e2a\u5019\u9009\u7c7b\u578b\uff0c\u90a3\u4e48\u5c06\u4f7f\u7528\u9ed8\u8ba4\u7c7b\u578b\u4f5c\u4e3a\u63a8\u65ad\u7ed3\u679c\u3002</li>\n<li>\u4e00\u4e2a\u88ab\u73b0\u6709\u7c7b\u6216\u63a5\u53e3\u5408\u5e76\u7684\u7c7b\u6216\u8005\u63a5\u53e3\u7684\u58f0\u660e\u53ef\u4ee5\u4e3a\u73b0\u6709\u7c7b\u578b\u53c2\u6570\u5f15\u5165\u9ed8\u8ba4\u7c7b\u578b\u3002</li>\n<li>\u4e00\u4e2a\u88ab\u73b0\u6709\u7c7b\u6216\u63a5\u53e3\u5408\u5e76\u7684\u7c7b\u6216\u8005\u63a5\u53e3\u7684\u58f0\u660e\u53ef\u4ee5\u5f15\u5165\u65b0\u7684\u7c7b\u578b\u53c2\u6570\uff0c\u53ea\u8981\u5b83\u6307\u5b9a\u4e86\u9ed8\u8ba4\u7c7b\u578b\u3002</li>\n</ul>\n<h3 class=\"heading\">\u516d\u3001\u6cdb\u578b\u6761\u4ef6\u7c7b\u578b</h3>\n<p>\u5728 TypeScript 2.8 \u4e2d\u5f15\u5165\u4e86\u6761\u4ef6\u7c7b\u578b\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u67d0\u4e9b\u6761\u4ef6\u5f97\u5230\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u6240\u8bf4\u7684\u6761\u4ef6\u662f\u7c7b\u578b\u517c\u5bb9\u6027\u7ea6\u675f\u3002\u5c3d\u7ba1\u4ee5\u4e0a\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86 <code>extends</code> \u5173\u952e\u5b57\uff0c\u4e5f\u4e0d\u4e00\u5b9a\u8981\u5f3a\u5236\u6ee1\u8db3\u7ee7\u627f\u5173\u7cfb\uff0c\u800c\u662f\u68c0\u67e5\u662f\u5426\u6ee1\u8db3\u7ed3\u6784\u517c\u5bb9\u6027\u3002</p>\n<p>\u6761\u4ef6\u7c7b\u578b\u4f1a\u4ee5\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\u8fdb\u884c\u7c7b\u578b\u5173\u7cfb\u68c0\u6d4b\uff0c\u4ece\u800c\u5728\u4e24\u79cd\u7c7b\u578b\u4e2d\u9009\u62e9\u5176\u4e00\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\">T <span class=\"hljs-keyword\">extends</span> U ? X : Y\n</code></pre><p>\u4ee5\u4e0a\u8868\u8fbe\u5f0f\u7684\u610f\u601d\u662f\uff1a\u82e5 <code>T</code> \u80fd\u591f\u8d4b\u503c\u7ed9 <code>U</code>\uff0c\u90a3\u4e48\u7c7b\u578b\u662f <code>X</code>\uff0c\u5426\u5219\u4e3a <code>Y</code>\u3002\u5728\u6761\u4ef6\u7c7b\u578b\u8868\u8fbe\u5f0f\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u8fd8\u4f1a\u7ed3\u5408 <code>infer</code> \u5173\u952e\u5b57\uff0c\u5b9e\u73b0\u7c7b\u578b\u62bd\u53d6\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Dictionary&lt;T = any&gt; {\n  [key: <span class=\"hljs-built_in\">string</span>]: T;\n}\n \n<span class=\"hljs-keyword\">type</span> StrDict = Dictionary&lt;<span class=\"hljs-built_in\">string</span>&gt;\n\n<span class=\"hljs-keyword\">type</span> DictMember&lt;T&gt; = T <span class=\"hljs-keyword\">extends</span> Dictionary&lt;infer V&gt; ? V : never\n<span class=\"hljs-keyword\">type</span> StrDictMember = DictMember&lt;StrDict&gt; <span class=\"hljs-comment\">// string</span>\n</code></pre><p>\u5728\u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u5f53\u7c7b\u578b T \u6ee1\u8db3 <code>T extends Dictionary</code> \u7ea6\u675f\u65f6\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528 <code>infer</code> \u5173\u952e\u5b57\u58f0\u660e\u4e86\u4e00\u4e2a\u7c7b\u578b\u53d8\u91cf V\uff0c\u5e76\u8fd4\u56de\u8be5\u7c7b\u578b\uff0c\u5426\u5219\u8fd4\u56de <code>never</code> \u7c7b\u578b\u3002</p>\n<blockquote>\n<p>\u5728 TypeScript \u4e2d\uff0c<code>never</code> \u7c7b\u578b\u8868\u793a\u7684\u662f\u90a3\u4e9b\u6c38\u4e0d\u5b58\u5728\u7684\u503c\u7684\u7c7b\u578b\u3002 \u4f8b\u5982\uff0c <code>never</code> \u7c7b\u578b\u662f\u90a3\u4e9b\u603b\u662f\u4f1a\u629b\u51fa\u5f02\u5e38\u6216\u6839\u672c\u5c31\u4e0d\u4f1a\u6709\u8fd4\u56de\u503c\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u6216\u7bad\u5934\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u3002</p>\n<p>\u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6ca1\u6709\u7c7b\u578b\u662f <code>never</code> \u7684\u5b50\u7c7b\u578b\u6216\u53ef\u4ee5\u8d4b\u503c\u7ed9 <code>never</code> \u7c7b\u578b\uff08\u9664\u4e86 <code>never</code> \u672c\u8eab\u4e4b\u5916\uff09\u3002 \u5373\u4f7f <code>any</code> \u4e5f\u4e0d\u53ef\u4ee5\u8d4b\u503c\u7ed9 <code>never</code>\u3002</p>\n</blockquote>\n<p>\u9664\u4e86\u4e0a\u8ff0\u7684\u5e94\u7528\u5916\uff0c\u5229\u7528\u6761\u4ef6\u7c7b\u578b\u548c <code>infer</code> \u5173\u952e\u5b57\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u65b9\u4fbf\u5730\u5b9e\u73b0\u83b7\u53d6 Promise \u5bf9\u8c61\u7684\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u6bd4\u5982\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">stringPromise</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">\"Hello, Semlinker!\"</span>;\n}\n\n<span class=\"hljs-keyword\">interface</span> Person {\n  name: <span class=\"hljs-built_in\">string</span>;\n  age: <span class=\"hljs-built_in\">number</span>;\n}\n\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">personPromise</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">return</span> { name: <span class=\"hljs-string\">\"Semlinker\"</span>, age: <span class=\"hljs-number\">30</span> } <span class=\"hljs-keyword\">as</span> Person;\n}\n\n<span class=\"hljs-keyword\">type</span> PromiseType&lt;T&gt; = <span class=\"hljs-function\">(<span class=\"hljs-params\">args: <span class=\"hljs-built_in\">any</span>[]</span>) =&gt;</span> <span class=\"hljs-built_in\">Promise</span>&lt;T&gt;;\n<span class=\"hljs-keyword\">type</span> UnPromisify&lt;T&gt; = T <span class=\"hljs-keyword\">extends</span> PromiseType&lt;infer U&gt; ? U : never;\n\n<span class=\"hljs-keyword\">type</span> extractStringPromise = UnPromisify&lt;<span class=\"hljs-keyword\">typeof</span> stringPromise&gt;; <span class=\"hljs-comment\">// string</span>\n<span class=\"hljs-keyword\">type</span> extractPersonPromise = UnPromisify&lt;<span class=\"hljs-keyword\">typeof</span> personPromise&gt;; <span class=\"hljs-comment\">// Person</span>\n</code></pre><h3 class=\"heading\">\u4e03\u3001\u6cdb\u578b\u5de5\u5177\u7c7b\u578b</h3>\n<p>\u4e3a\u4e86\u65b9\u4fbf\u5f00\u53d1\u8005 TypeScript \u5185\u7f6e\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u5de5\u5177\u7c7b\u578b\uff0c\u6bd4\u5982 Partial\u3001Required\u3001Readonly\u3001Record \u548c ReturnType \u7b49\u3002\u51fa\u4e8e\u7bc7\u5e45\u8003\u8651\uff0c\u8fd9\u91cc\u6211\u4eec\u53ea\u7b80\u5355\u4ecb\u7ecd\u5176\u4e2d\u51e0\u4e2a\u5e38\u7528\u7684\u5de5\u5177\u7c7b\u578b\u3002</p>\n<h4 class=\"heading\">7.1 Partial</h4>\n<p><code>Partial&lt;T&gt;</code> \u7684\u4f5c\u7528\u5c31\u662f\u5c06\u67d0\u4e2a\u7c7b\u578b\u91cc\u7684\u5c5e\u6027\u5168\u90e8\u53d8\u4e3a\u53ef\u9009\u9879 <code>?</code>\u3002</p>\n<p><strong>\u5b9a\u4e49\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-comment\">/**\n * node_modules/typescript/lib/lib.es5.d.ts\n * Make all properties in T optional\n */</span>\n<span class=\"hljs-keyword\">type</span> Partial&lt;T&gt; = {\n    [P <span class=\"hljs-keyword\">in</span> keyof T]?: T[P];\n};\n</code></pre><p>\u5728\u4ee5\u4e0a\u4ee3\u7801\u4e2d\uff0c\u9996\u5148\u901a\u8fc7 <code>keyof T</code> \u62ff\u5230 <code>T</code> \u7684\u6240\u6709\u5c5e\u6027\u540d\uff0c\u7136\u540e\u4f7f\u7528 <code>in</code> \u8fdb\u884c\u904d\u5386\uff0c\u5c06\u503c\u8d4b\u7ed9 <code>P</code>\uff0c\u6700\u540e\u901a\u8fc7 <code>T[P]</code> \u53d6\u5f97\u76f8\u5e94\u7684\u5c5e\u6027\u503c\u3002\u4e2d\u95f4\u7684 <code>?</code> \u53f7\uff0c\u7528\u4e8e\u5c06\u6240\u6709\u5c5e\u6027\u53d8\u4e3a\u53ef\u9009\u3002</p>\n<p><strong>\u793a\u4f8b\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Todo {\n  title: <span class=\"hljs-built_in\">string</span>;\n  description: <span class=\"hljs-built_in\">string</span>;\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">updateTodo</span>(<span class=\"hljs-params\">todo: Todo, fieldsToUpdate: Partial&lt;Todo&gt;</span>) </span>{\n  <span class=\"hljs-keyword\">return</span> { ...todo, ...fieldsToUpdate };\n}\n\n<span class=\"hljs-keyword\">const</span> todo1 = {\n  title: <span class=\"hljs-string\">\"organize desk\"</span>,\n  description: <span class=\"hljs-string\">\"clear clutter\"</span>\n};\n\n<span class=\"hljs-keyword\">const</span> todo2 = updateTodo(todo1, {\n  description: <span class=\"hljs-string\">\"throw out trash\"</span>\n});\n</code></pre><p>\u5728\u4e0a\u9762\u7684 <code>updateTodo</code> \u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u5229\u7528 <code>Partial&lt;T&gt;</code> \u5de5\u5177\u7c7b\u578b\uff0c\u5b9a\u4e49 <code>fieldsToUpdate</code> \u7684\u7c7b\u578b\u4e3a <code>Partial&lt;Todo&gt;</code>\uff0c\u5373\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\">{\n   title?: <span class=\"hljs-built_in\">string</span> | <span class=\"hljs-literal\">undefined</span>;\n   description?: <span class=\"hljs-built_in\">string</span> | <span class=\"hljs-literal\">undefined</span>;\n}\n</code></pre><h4 class=\"heading\">7.2 Record</h4>\n<p><code>Record&lt;K extends keyof any, T&gt;</code> \u7684\u4f5c\u7528\u662f\u5c06 <code>K</code> \u4e2d\u6240\u6709\u7684\u5c5e\u6027\u7684\u503c\u8f6c\u5316\u4e3a <code>T</code> \u7c7b\u578b\u3002</p>\n<p><strong>\u5b9a\u4e49\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-comment\">/**\n * node_modules/typescript/lib/lib.es5.d.ts\n * Construct a type with a set of properties K of type T\n */</span>\n<span class=\"hljs-keyword\">type</span> Record&lt;K <span class=\"hljs-keyword\">extends</span> keyof <span class=\"hljs-built_in\">any</span>, T&gt; = {\n    [P <span class=\"hljs-keyword\">in</span> K]: T;\n};\n</code></pre><p><strong>\u793a\u4f8b\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> PageInfo {\n  title: <span class=\"hljs-built_in\">string</span>;\n}\n\n<span class=\"hljs-keyword\">type</span> Page = <span class=\"hljs-string\">\"home\"</span> | <span class=\"hljs-string\">\"about\"</span> | <span class=\"hljs-string\">\"contact\"</span>;\n\n<span class=\"hljs-keyword\">const</span> x: Record&lt;Page, PageInfo&gt; = {\n  about: { title: <span class=\"hljs-string\">\"about\"</span> },\n  contact: { title: <span class=\"hljs-string\">\"contact\"</span> },\n  home: { title: <span class=\"hljs-string\">\"home\"</span> }\n};\n</code></pre><h4 class=\"heading\">7.3 Pick</h4>\n<p><code>Pick&lt;T, K extends keyof T&gt;</code> \u7684\u4f5c\u7528\u662f\u5c06\u67d0\u4e2a\u7c7b\u578b\u4e2d\u7684\u5b50\u5c5e\u6027\u6311\u51fa\u6765\uff0c\u53d8\u6210\u5305\u542b\u8fd9\u4e2a\u7c7b\u578b\u90e8\u5206\u5c5e\u6027\u7684\u5b50\u7c7b\u578b\u3002</p>\n<p><strong>\u5b9a\u4e49\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-comment\">// node_modules/typescript/lib/lib.es5.d.ts</span>\n\n<span class=\"hljs-comment\">/**\n * From T, pick a set of properties whose keys are in the union K\n */</span>\n<span class=\"hljs-keyword\">type</span> Pick&lt;T, K <span class=\"hljs-keyword\">extends</span> keyof T&gt; = {\n    [P <span class=\"hljs-keyword\">in</span> K]: T[P];\n};\n</code></pre><p><strong>\u793a\u4f8b\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Todo {\n  title: <span class=\"hljs-built_in\">string</span>;\n  description: <span class=\"hljs-built_in\">string</span>;\n  completed: <span class=\"hljs-built_in\">boolean</span>;\n}\n\n<span class=\"hljs-keyword\">type</span> TodoPreview = Pick&lt;Todo, <span class=\"hljs-string\">\"title\"</span> | <span class=\"hljs-string\">\"completed\"</span>&gt;;\n\n<span class=\"hljs-keyword\">const</span> todo: TodoPreview = {\n  title: <span class=\"hljs-string\">\"Clean room\"</span>,\n  completed: <span class=\"hljs-literal\">false</span>\n};\n</code></pre><h4 class=\"heading\">7.4 Exclude</h4>\n<p><code>Exclude&lt;T, U&gt;</code> \u7684\u4f5c\u7528\u662f\u5c06\u67d0\u4e2a\u7c7b\u578b\u4e2d\u5c5e\u4e8e\u53e6\u4e00\u4e2a\u7684\u7c7b\u578b\u79fb\u9664\u6389\u3002</p>\n<p><strong>\u5b9a\u4e49\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-comment\">// node_modules/typescript/lib/lib.es5.d.ts</span>\n\n<span class=\"hljs-comment\">/**\n * Exclude from T those types that are assignable to U\n */</span>\n<span class=\"hljs-keyword\">type</span> Exclude&lt;T, U&gt; = T <span class=\"hljs-keyword\">extends</span> U ? never : T;\n</code></pre><p>\u5982\u679c <code>T</code> \u80fd\u8d4b\u503c\u7ed9 <code>U</code> \u7c7b\u578b\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u4f1a\u8fd4\u56de <code>never</code> \u7c7b\u578b\uff0c\u5426\u5219\u8fd4\u56de <code>T</code> \u7c7b\u578b\u3002\u6700\u7ec8\u5b9e\u73b0\u7684\u6548\u679c\u5c31\u662f\u5c06 <code>T</code> \u4e2d\u67d0\u4e9b\u5c5e\u4e8e <code>U</code> \u7684\u7c7b\u578b\u79fb\u9664\u6389\u3002</p>\n<p><strong>\u793a\u4f8b\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">type</span> T0 = Exclude&lt;<span class=\"hljs-string\">\"a\"</span> | <span class=\"hljs-string\">\"b\"</span> | <span class=\"hljs-string\">\"c\"</span>, <span class=\"hljs-string\">\"a\"</span>&gt;; <span class=\"hljs-comment\">// \"b\" | \"c\"</span>\n<span class=\"hljs-keyword\">type</span> T1 = Exclude&lt;<span class=\"hljs-string\">\"a\"</span> | <span class=\"hljs-string\">\"b\"</span> | <span class=\"hljs-string\">\"c\"</span>, <span class=\"hljs-string\">\"a\"</span> | <span class=\"hljs-string\">\"b\"</span>&gt;; <span class=\"hljs-comment\">// \"c\"</span>\n<span class=\"hljs-keyword\">type</span> T2 = Exclude&lt;<span class=\"hljs-built_in\">string</span> | <span class=\"hljs-built_in\">number</span> | <span class=\"hljs-function\">(<span class=\"hljs-params\">(<span class=\"hljs-params\"></span>) =&gt; <span class=\"hljs-built_in\">void</span></span>), <span class=\"hljs-params\">Function</span>&gt;; // <span class=\"hljs-params\">string</span> | <span class=\"hljs-params\">number</span>\n</span></code></pre><h4 class=\"heading\">7.5 ReturnType</h4>\n<p><code>ReturnType&lt;T&gt;</code> \u7684\u4f5c\u7528\u662f\u7528\u4e8e\u83b7\u53d6\u51fd\u6570 <code>T</code> \u7684\u8fd4\u56de\u7c7b\u578b\u3002</p>\n<p><strong>\u5b9a\u4e49\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-comment\">// node_modules/typescript/lib/lib.es5.d.ts</span>\n\n<span class=\"hljs-comment\">/**\n * Obtain the return type of a function type\n */</span>\n<span class=\"hljs-keyword\">type</span> ReturnType&lt;T <span class=\"hljs-keyword\">extends</span> (...args: <span class=\"hljs-built_in\">any</span>) =&gt; <span class=\"hljs-built_in\">any</span>&gt; = T <span class=\"hljs-keyword\">extends</span> (...args: <span class=\"hljs-built_in\">any</span>) =&gt; infer R ? R : <span class=\"hljs-built_in\">any</span>;\n</code></pre><p><strong>\u793a\u4f8b\uff1a</strong></p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">type</span> T0 = ReturnType&lt;<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> <span class=\"hljs-built_in\">string</span>&gt;; <span class=\"hljs-comment\">// string</span>\n<span class=\"hljs-keyword\">type</span> T1 = ReturnType&lt;<span class=\"hljs-function\">(<span class=\"hljs-params\">s: <span class=\"hljs-built_in\">string</span></span>) =&gt;</span> <span class=\"hljs-built_in\">void</span>&gt;; <span class=\"hljs-comment\">// void</span>\n<span class=\"hljs-keyword\">type</span> T2 = ReturnType&lt;&lt;T&gt;<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> T&gt;; <span class=\"hljs-comment\">// {}</span>\n<span class=\"hljs-keyword\">type</span> T3 = ReturnType&lt;&lt;T <span class=\"hljs-keyword\">extends</span> U, U <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-built_in\">number</span>[]&gt;<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> T&gt;; <span class=\"hljs-comment\">// number[]</span>\n<span class=\"hljs-keyword\">type</span> T4 = ReturnType&lt;<span class=\"hljs-built_in\">any</span>&gt;; <span class=\"hljs-comment\">// any</span>\n<span class=\"hljs-keyword\">type</span> T5 = ReturnType&lt;never&gt;; <span class=\"hljs-comment\">// any</span>\n<span class=\"hljs-keyword\">type</span> T6 = ReturnType&lt;<span class=\"hljs-built_in\">string</span>&gt;; <span class=\"hljs-comment\">// Error</span>\n<span class=\"hljs-keyword\">type</span> T7 = ReturnType&lt;<span class=\"hljs-built_in\">Function</span>&gt;; <span class=\"hljs-comment\">// Error</span>\n</code></pre><p>\u7b80\u5355\u4ecb\u7ecd\u4e86\u6cdb\u578b\u5de5\u5177\u7c7b\u578b\uff0c\u6700\u540e\u6211\u4eec\u6765\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u6cdb\u578b\u6765\u521b\u5efa\u5bf9\u8c61\u3002</p>\n<h3 class=\"heading\">\u516b\u3001\u4f7f\u7528\u6cdb\u578b\u521b\u5efa\u5bf9\u8c61</h3>\n<h4 class=\"heading\">8.1 \u6784\u9020\u7b7e\u540d</h4>\n<p>\u6709\u65f6\uff0c\u6cdb\u578b\u7c7b\u53ef\u80fd\u9700\u8981\u57fa\u4e8e\u4f20\u5165\u7684\u6cdb\u578b T \u6765\u521b\u5efa\u5176\u7c7b\u578b\u76f8\u5173\u7684\u5bf9\u8c61\u3002\u6bd4\u5982\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">class</span> FirstClass {\n  id: <span class=\"hljs-built_in\">number</span> | <span class=\"hljs-literal\">undefined</span>;\n}\n\n<span class=\"hljs-keyword\">class</span> SecondClass {\n  name: <span class=\"hljs-built_in\">string</span> | <span class=\"hljs-literal\">undefined</span>;\n}\n\n<span class=\"hljs-keyword\">class</span> GenericCreator&lt;T&gt; {\n  create(): T {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> T();\n  }\n}\n\n<span class=\"hljs-keyword\">const</span> creator1 = <span class=\"hljs-keyword\">new</span> GenericCreator&lt;FirstClass&gt;();\n<span class=\"hljs-keyword\">const</span> firstClass: FirstClass = creator1.create();\n\n<span class=\"hljs-keyword\">const</span> creator2 = <span class=\"hljs-keyword\">new</span> GenericCreator&lt;SecondClass&gt;();\n<span class=\"hljs-keyword\">const</span> secondClass: SecondClass = creator2.create();\n</code></pre><p>\u5728\u4ee5\u4e0a\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e24\u4e2a\u666e\u901a\u7c7b\u548c\u4e00\u4e2a\u6cdb\u578b\u7c7b <code>GenericCreator&lt;T&gt;</code>\u3002\u5728\u901a\u7528\u7684 <code>GenericCreator</code> \u6cdb\u578b\u7c7b\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a <code>create</code> \u7684\u6210\u5458\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u4f1a\u4f7f\u7528 new \u5173\u952e\u5b57\u6765\u8c03\u7528\u4f20\u5165\u7684\u5b9e\u9645\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\uff0c\u6765\u521b\u5efa\u5bf9\u5e94\u7684\u5bf9\u8c61\u3002\u4f46\u53ef\u60dc\u7684\u662f\uff0c\u4ee5\u4e0a\u4ee3\u7801\u5e76\u4e0d\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u5bf9\u4e8e\u4ee5\u4e0a\u4ee3\u7801\uff0c\u5728 <strong>TypeScript v3.9.2</strong> \u7f16\u8bd1\u5668\u4e0b\u4f1a\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef\uff1a</p>\n<pre><code class=\"hljs bash\" lang=\"bash\"><span class=\"hljs-string\">'T'</span> only refers to a <span class=\"hljs-built_in\">type</span>, but is being used as a value here.\n</code></pre><p>\u8fd9\u4e2a\u9519\u8bef\u7684\u610f\u601d\u662f\uff1a<code>T</code> \u7c7b\u578b\u4ec5\u6307\u7c7b\u578b\uff0c\u4f46\u6b64\u5904\u88ab\u7528\u4f5c\u503c\u3002\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u6839\u636e TypeScript \u6587\u6863\uff0c\u4e3a\u4e86\u4f7f\u901a\u7528\u7c7b\u80fd\u591f\u521b\u5efa T \u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u5176\u6784\u9020\u51fd\u6570\u6765\u5f15\u7528 T \u7c7b\u578b\u3002\u5bf9\u4e8e\u4e0a\u8ff0\u95ee\u9898\uff0c\u5728\u4ecb\u7ecd\u5177\u4f53\u7684\u89e3\u51b3\u65b9\u6848\u524d\uff0c\u6211\u4eec\u5148\u6765\u4ecb\u7ecd\u4e00\u4e0b\u6784\u9020\u7b7e\u540d\u3002</p>\n<p>\u5728 TypeScript \u63a5\u53e3\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>new</code> \u5173\u952e\u5b57\u6765\u63cf\u8ff0\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Point {\n  <span class=\"hljs-keyword\">new</span> (x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>): Point;\n}\n</code></pre><p>\u4ee5\u4e0a\u63a5\u53e3\u4e2d\u7684 <code>new (x: number, y: number)</code> \u6211\u4eec\u79f0\u4e4b\u4e3a\u6784\u9020\u7b7e\u540d\uff0c\u5176\u8bed\u6cd5\u5982\u4e0b\uff1a</p>\n<blockquote>\n<p><em>ConstructSignature:</em>\n\u2003<code>new</code>\u2003<em>TypeParametersopt</em>\u2003<code>(</code>\u2003<em>ParameterListopt</em>\u2003<code>)</code>\u2003<em>TypeAnnotationopt</em></p>\n</blockquote>\n<p>\u5728\u4e0a\u8ff0\u7684\u6784\u9020\u7b7e\u540d\u4e2d\uff0c<code>TypeParametersopt</code> \u3001<code>ParameterListopt</code> \u548c <code>TypeAnnotationopt</code> \u5206\u522b\u8868\u793a\uff1a\u53ef\u9009\u7684\u7c7b\u578b\u53c2\u6570\u3001\u53ef\u9009\u7684\u53c2\u6570\u5217\u8868\u548c\u53ef\u9009\u7684\u7c7b\u578b\u6ce8\u89e3\u3002\u4e0e\u8be5\u8bed\u6cd5\u76f8\u5bf9\u5e94\u7684\u51e0\u79cd\u5e38\u89c1\u7684\u4f7f\u7528\u5f62\u5f0f\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">new</span> C  \n<span class=\"hljs-keyword\">new</span> C ( ... )  \n<span class=\"hljs-keyword\">new</span> C &lt; ... &gt; ( ... )\n</code></pre><p>\u4ecb\u7ecd\u5b8c\u6784\u9020\u7b7e\u540d\uff0c\u6211\u4eec\u518d\u6765\u4ecb\u7ecd\u4e00\u4e2a\u4e0e\u4e4b\u76f8\u5173\u7684\u6982\u5ff5\uff0c\u5373\u6784\u9020\u51fd\u6570\u7c7b\u578b\u3002</p>\n<h4 class=\"heading\">8.2 \u6784\u9020\u51fd\u6570\u7c7b\u578b</h4>\n<p>\u5728 TypeScript \u8bed\u8a00\u89c4\u8303\u4e2d\u8fd9\u6837\u5b9a\u4e49\u6784\u9020\u51fd\u6570\u7c7b\u578b\uff1a</p>\n<blockquote>\n<p>An object type containing one or more construct signatures is said to be a <em><strong>constructor type</strong></em>. Constructor types may be written using constructor type literals or by including construct signatures in object type literals.</p>\n</blockquote>\n<p>\u901a\u8fc7\u89c4\u8303\u4e2d\u7684\u63cf\u8ff0\u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4ee5\u4e0b\u7ed3\u8bba\uff1a</p>\n<ul>\n<li>\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u6784\u9020\u7b7e\u540d\u7684\u5bf9\u8c61\u7c7b\u578b\u88ab\u79f0\u4e3a\u6784\u9020\u51fd\u6570\u7c7b\u578b\uff1b</li>\n<li>\u6784\u9020\u51fd\u6570\u7c7b\u578b\u53ef\u4ee5\u4f7f\u7528\u6784\u9020\u51fd\u6570\u7c7b\u578b\u5b57\u9762\u91cf\u6216\u5305\u542b\u6784\u9020\u7b7e\u540d\u7684\u5bf9\u8c61\u7c7b\u578b\u5b57\u9762\u91cf\u6765\u7f16\u5199\u3002</li>\n</ul>\n<p>\u90a3\u4e48\u4ec0\u4e48\u662f\u6784\u9020\u51fd\u6570\u7c7b\u578b\u5b57\u9762\u91cf\u5462\uff1f\u6784\u9020\u51fd\u6570\u7c7b\u578b\u5b57\u9762\u91cf\u662f\u5305\u542b\u5355\u4e2a\u6784\u9020\u51fd\u6570\u7b7e\u540d\u7684\u5bf9\u8c61\u7c7b\u578b\u7684\u7b80\u5199\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6784\u9020\u51fd\u6570\u7c7b\u578b\u5b57\u9762\u91cf\u7684\u5f62\u5f0f\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">new</span> &lt; T1, T2, ... &gt; <span class=\"hljs-function\">(<span class=\"hljs-params\"> p1, p2, ... </span>) =&gt;</span> R\n</code></pre><p>\u8be5\u5f62\u5f0f\u4e0e\u4ee5\u4e0b\u5bf9\u8c61\u7c7b\u578b\u5b57\u9762\u91cf\u662f\u7b49\u4ef7\u7684\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\">{ <span class=\"hljs-keyword\">new</span> &lt; T1, T2, ... &gt; ( p1, p2, ... ) : R }\n</code></pre><p>\u4e0b\u9762\u6211\u4eec\u6765\u4e3e\u4e2a\u5b9e\u9645\u7684\u793a\u4f8b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-comment\">// \u6784\u9020\u51fd\u6570\u7c7b\u578b\u5b57\u9762\u91cf</span>\n<span class=\"hljs-keyword\">new</span> (x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>) =&gt; Point\n</code></pre><p>\u7b49\u4ef7\u4e8e\u4ee5\u4e0b\u5bf9\u8c61\u7c7b\u578b\u5b57\u9762\u91cf\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\">{\n   <span class=\"hljs-keyword\">new</span> (x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>): Point;\n}\n</code></pre><h4 class=\"heading\">8.3 \u6784\u9020\u51fd\u6570\u7c7b\u578b\u7684\u5e94\u7528</h4>\n<p>\u5728\u4ecb\u7ecd\u6784\u9020\u51fd\u6570\u7c7b\u578b\u7684\u5e94\u7528\u524d\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e2a\u4f8b\u5b50\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Point {\n  <span class=\"hljs-keyword\">new</span> (x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>): Point;\n  x: <span class=\"hljs-built_in\">number</span>;\n  y: <span class=\"hljs-built_in\">number</span>;\n}\n\n<span class=\"hljs-keyword\">class</span> Point2D <span class=\"hljs-keyword\">implements</span> Point {\n  readonly x: <span class=\"hljs-built_in\">number</span>;\n  readonly y: <span class=\"hljs-built_in\">number</span>;\n\n  <span class=\"hljs-keyword\">constructor</span>(<span class=\"hljs-params\">x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span></span>) {\n    <span class=\"hljs-keyword\">this</span>.x = x;\n    <span class=\"hljs-keyword\">this</span>.y = y;\n  }\n}\n\n<span class=\"hljs-keyword\">const</span> point: Point = <span class=\"hljs-keyword\">new</span> Point2D(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n</code></pre><p>\u5bf9\u4e8e\u4ee5\u4e0a\u7684\u4ee3\u7801\uff0cTypeScript \u7f16\u8bd1\u5668\u4f1a\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef\u4fe1\u606f\uff1a</p>\n<pre><code class=\"hljs bash\" lang=\"bash\">Class <span class=\"hljs-string\">'Point2D'</span> incorrectly implements interface <span class=\"hljs-string\">'Point'</span>.\nType <span class=\"hljs-string\">'Point2D'</span> provides no match <span class=\"hljs-keyword\">for</span> the signature <span class=\"hljs-string\">'new (x: number, y: number): Point'</span>.\n</code></pre><p>\u76f8\u4fe1\u5f88\u591a\u521a\u63a5\u89e6 TypeScript \u4e0d\u4e45\u7684\u5c0f\u4f19\u4f34\u90fd\u4f1a\u9047\u5230\u4e0a\u8ff0\u7684\u95ee\u9898\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u5c31\u9700\u8981\u628a\u5bf9\u524d\u9762\u5b9a\u4e49\u7684 <code>Point</code> \u63a5\u53e3\u8fdb\u884c\u5206\u79bb\uff0c\u5373\u628a\u63a5\u53e3\u7684\u5c5e\u6027\u548c\u6784\u9020\u51fd\u6570\u7c7b\u578b\u8fdb\u884c\u5206\u79bb\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">interface</span> Point {\n  x: <span class=\"hljs-built_in\">number</span>;\n  y: <span class=\"hljs-built_in\">number</span>;\n}\n\n<span class=\"hljs-keyword\">interface</span> PointConstructor {\n  <span class=\"hljs-keyword\">new</span> (x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>): Point;\n}\n</code></pre><p>\u5b8c\u6210\u63a5\u53e3\u62c6\u5206\u4e4b\u540e\uff0c\u9664\u4e86\u524d\u9762\u5df2\u7ecf\u5b9a\u4e49\u7684 <code>Point2D</code> \u7c7b\u4e4b\u5916\uff0c\u6211\u4eec\u53c8\u5b9a\u4e49\u4e86\u4e00\u4e2a <code>newPoint</code> \u5de5\u5382\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u7528\u4e8e\u6839\u636e\u4f20\u5165\u7684 PointConstructor \u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\uff0c\u6765\u521b\u5efa\u5bf9\u5e94\u7684 Point \u5bf9\u8c61\u3002</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">class</span> Point2D <span class=\"hljs-keyword\">implements</span> Point {\n  readonly x: <span class=\"hljs-built_in\">number</span>;\n  readonly y: <span class=\"hljs-built_in\">number</span>;\n\n  <span class=\"hljs-keyword\">constructor</span>(<span class=\"hljs-params\">x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span></span>) {\n    <span class=\"hljs-keyword\">this</span>.x = x;\n    <span class=\"hljs-keyword\">this</span>.y = y;\n  }\n}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">newPoint</span>(<span class=\"hljs-params\">\n  pointConstructor: PointConstructor,\n  x: <span class=\"hljs-built_in\">number</span>,\n  y: <span class=\"hljs-built_in\">number</span>\n</span>): <span class=\"hljs-title\">Point</span> </span>{\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> pointConstructor(x, y);\n}\n\n<span class=\"hljs-keyword\">const</span> point: Point = newPoint(Point2D, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n</code></pre><h4 class=\"heading\">8.4 \u4f7f\u7528\u6cdb\u578b\u521b\u5efa\u5bf9\u8c61</h4>\n<p>\u4e86\u89e3\u5b8c\u6784\u9020\u7b7e\u540d\u548c\u6784\u9020\u51fd\u6570\u7c7b\u578b\u4e4b\u540e\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u5f00\u59cb\u89e3\u51b3\u4e0a\u9762\u9047\u5230\u7684\u95ee\u9898\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u91cd\u6784\u4e00\u4e0b <code>create</code> \u65b9\u6cd5\uff0c\u5177\u4f53\u5982\u4e0b\u6240\u793a\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">class</span> GenericCreator&lt;T&gt; {\n  create&lt;T&gt;(c: { <span class=\"hljs-keyword\">new</span> (): T }): T {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> c();\n  }\n}\n</code></pre><p>\u5728\u4ee5\u4e0a\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u91cd\u65b0\u5b9a\u4e49\u4e86 <code>create</code> \u6210\u5458\u65b9\u6cd5\uff0c\u6839\u636e\u8be5\u65b9\u6cd5\u7684\u7b7e\u540d\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u8be5\u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\uff0c\u5176\u7c7b\u578b\u662f\u6784\u9020\u51fd\u6570\u7c7b\u578b\uff0c\u4e14\u8be5\u6784\u9020\u51fd\u6570\u4e0d\u5305\u542b\u4efb\u4f55\u53c2\u6570\uff0c\u8c03\u7528\u8be5\u6784\u9020\u51fd\u6570\u540e\uff0c\u4f1a\u8fd4\u56de\u7c7b\u578b T \u7684\u5b9e\u4f8b\u3002</p>\n<p>\u5982\u679c\u6784\u9020\u51fd\u6570\u542b\u6709\u53c2\u6570\u7684\u8bdd\uff0c\u6bd4\u5982\u5305\u542b\u4e00\u4e2a <code>number</code> \u7c7b\u578b\u7684\u53c2\u6570\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5b9a\u4e49 create \u65b9\u6cd5\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\">create&lt;T&gt;(c: { <span class=\"hljs-keyword\">new</span>(a: <span class=\"hljs-built_in\">number</span>): T; }, num: <span class=\"hljs-built_in\">number</span>): T {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> c(num);\n}\n</code></pre><p>\u66f4\u65b0\u5b8c <code>GenericCreator</code> \u6cdb\u578b\u7c7b\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u6765\u521b\u5efa <code>FirstClass</code> \u548c <code>SecondClass</code> \u7c7b\u7684\u5b9e\u4f8b\uff1a</p>\n<pre><code class=\"hljs typescript\" lang=\"typescript\"><span class=\"hljs-keyword\">const</span> creator1 = <span class=\"hljs-keyword\">new</span> GenericCreator&lt;FirstClass&gt;();\n<span class=\"hljs-keyword\">const</span> firstClass: FirstClass = creator1.create(FirstClass);\n\n<span class=\"hljs-keyword\">const</span> creator2 = <span class=\"hljs-keyword\">new</span> GenericCreator&lt;SecondClass&gt;();\n<span class=\"hljs-keyword\">const</span> secondClass: SecondClass = creator2.create(SecondClass);\n</code></pre><h3 class=\"heading\">\u4e5d\u3001\u53c2\u8003\u8d44\u6e90</h3>\n<ul>\n<li><a target=\"_blank\" href=\"https://medium.com/better-programming/typescript-generics-90be93d8c292\">typescript-generics</a></li>\n<li><a target=\"_blank\" href=\"https://medium.com/@rossbulat/typescript-generics-explained-15c6493b510f\">typescript-generics-explained</a></li>\n<li><a target=\"_blank\" href=\"https://dev.to/shadow1349/typescript-tip-of-the-week-generics-170g\">typescript-tip-of-the-week-generics</a></li>\n</ul>\n<p></p><figure><img src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/22/172dc5bb94585adf~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n", "ctime": "1591743000", "mtime": "1599032200", "rtime": "1591743000", "draft_id": "6845076817020190727", "view_count": 36601, "collect_count": 1366, "digg_count": 989, "comment_count": 74, "hot_index": 2893, "is_hot": 0, "rank_index": 0.01543295, "status": 2, "verify_status": 1, "audit_status": 2, "mark_content": ""}, "author_user_info": {"user_id": "764915822103079", "user_name": "\u963f\u5b9d\u54e5", "company": "", "job_title": "\ud83c\udfc6\u6398\u91d1\u7b7e\u7ea6\u4f5c\u8005 | \u516c\u4f17\u53f7@\u5168\u6808\u4fee\u4ed9\u4e4b\u8def", "avatar_large": "https://sf3-ttcdn-tos.pstatp.com/img/user-avatar/075d8e781ba84bf64035ac251988fb93~300x300.image", "level": 6, "description": "\u805a\u7126\u5168\u6808\uff0c\u4e13\u6ce8\u5206\u4eab TS\u3001Vue 3\u3001\u524d\u7aef\u67b6\u6784\u7b49\u6280\u672f\u5e72\u8d27\u3002", "followee_count": 63, "follower_count": 14949, "post_article_count": 91, "digg_article_count": 477, "got_digg_count": 32682, "got_view_count": 1221114, "post_shortmsg_count": 4, "digg_shortmsg_count": 41, "isfollowed": false, "favorable_author": 1, "power": 43572, "study_point": 0, "university": {"university_id": "0", "name": "", "logo": ""}, "major": {"major_id": "0", "parent_id": "0", "name": ""}, "student_status": 0, "select_event_count": 0, "select_online_course_count": 0, "identity": 0, "is_select_annual": false, "select_annual_rank": 10, "annual_list_type": 0, "extraMap": {}, "is_logout": 0}, "category": {"category_id": "6809637767543259144", "category_name": "\u524d\u7aef", "category_url": "frontend", "rank": 2, "back_ground": "https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png", "icon": "https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png", "ctime": 1457483942, "mtime": 1432503190, "show_type": 3, "item_type": 2, "promote_tag_cap": 4, "promote_priority": 2}, "tags": [{"id": 2546519, "tag_id": "6809640398105870343", "tag_name": "JavaScript", "color": "#616161", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/5d70fd6af940df373834.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1435884803, "mtime": 1632826896, "id_type": 9, "tag_alias": "", "post_article_count": 68218, "concern_user_count": 399079}, {"id": 2546625, "tag_id": "6809640543006490638", "tag_name": "TypeScript", "color": "#0061c4", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/d788a559489fa6e30b25.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1441228068, "mtime": 1632827466, "id_type": 9, "tag_alias": "", "post_article_count": 4012, "concern_user_count": 48076}], "user_interact": {"id": 6844904184894980104, "omitempty": 2, "user_id": 0, "is_digg": false, "is_follow": false, "is_collect": false}, "org": {"org_info": null, "org_user": null, "is_followed": false}, "req_id": "2021092819181401021219715301006FD0", "status": {"push_status": 0}}