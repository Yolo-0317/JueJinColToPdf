{"article_id": "6844903709466427406", "article_info": {"article_id": "6844903709466427406", "user_id": "2330620383999822", "category_id": "6809637767543259144", "tag_ids": [6809640398105870343, 6809640837895585805, 6809640956946546702], "visible_level": 0, "link_url": "https://juejin.im/post/6844903709466427406", "cover_image": "", "is_gfw": 0, "title": "\u4eca\u65e5\u5934\u6761\u9762\u8bd5\u9898\u4e0e\u89e3\u6790", "brief_content": "\u7b80\u8981\uff1a\u6dfb\u52a0Expires\u5934\u80fd\u6709\u6548\u7684\u5229\u7528\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u80fd\u529b\u6765\u6539\u5584\u9875\u9762\u7684\u6027\u80fd\uff0c\u80fd\u5728\u540e\u7eed\u7684\u9875\u9762\u4e2d\u6709\u6548\u907f\u514d\u5f88\u591a\u4e0d\u5fc5\u8981\u7684Http\u8bf7\u6c42\uff0cWEB\u670d\u52a1\u5668\u4f7f\u7528Expires\u5934\u6765\u544a\u8bc9Web\u5ba2\u6237\u7aef\u5b83\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u7ec4\u4ef6\u7684\u5f53\u524d\u526f\u672c\uff0c\u76f4\u5230\u6307\u5b9a\u7684\u65f6\u95f4\u4e3a\u6b62\u3002 \u4f8b\u5982\uff1aExpires\uff1aThu\uff0c15 Apr 2010 \u2026", "is_english": 0, "is_original": 1, "user_index": 0, "original_type": 0, "original_author": "", "content": "<h3 class=\"heading\">\u7b80\u7b54\u9898</h3>\n<h4 class=\"heading\">1.css3\u7279\u6027\u4e2d\u7684transform\uff1atranslateZ(0)\u6709\u4ec0\u4e48\u4f5c\u7528</h4>\n<p><strong>\u7b54\u6848\uff1a</strong>\nGPU\u52a0\u901f\uff0c\u4f18\u5316\u524d\u7aef\u6027\u80fd</p>\n<hr>\n<h4 class=\"heading\">2.\u5217\u4e3e\u4e09\u79cd\u7981\u6b62\u6d4f\u89c8\u5668\u7f13\u5b58\u7684\u5934\u5b57\u6bb5\uff0c\u5e76\u5199\u51fa\u54cd\u5e94\u7684\u8bbe\u7f6e\u503c</h4>\n<p>Expires\uff1a\u544a\u8bc9\u6d4f\u89c8\u5668\u628a\u56de\u9001\u7684\u8d44\u6e90\u7f13\u5b58\u591a\u957f\u65f6\u95f4 -1\u62160\u5219\u662f\u4e0d\u7f13\u5b58\n<strong>\u7b80\u8981\uff1a\u6dfb\u52a0Expires\u5934\u80fd\u6709\u6548\u7684\u5229\u7528\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u80fd\u529b\u6765\u6539\u5584\u9875\u9762\u7684\u6027\u80fd\uff0c\u80fd\u5728\u540e\u7eed\u7684\u9875\u9762\u4e2d\u6709\u6548\u907f\u514d\u5f88\u591a\u4e0d\u5fc5\u8981\u7684Http\u8bf7\u6c42\uff0cWEB\u670d\u52a1\u5668\u4f7f\u7528Expires\u5934\u6765\u544a\u8bc9Web\u5ba2\u6237\u7aef\u5b83\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u7ec4\u4ef6\u7684\u5f53\u524d\u526f\u672c\uff0c\u76f4\u5230\u6307\u5b9a\u7684\u65f6\u95f4\u4e3a\u6b62\u3002</strong>\n\u4f8b\u5982\uff1aExpires\uff1aThu\uff0c15 Apr  2010  20\uff1a00\uff1a00  GMT;  \u4ed6\u544a\u8bc9\u6d4f\u89c8\u5668\u7f13\u5b58\u6709\u6548\u6027\u6301\u7eed\u52302010\u5e744\u670815\u65e5\u4e3a\u6b62\uff0c\u5728\u8fd9\u4e2a\u65f6\u95f4\u4e4b\u5185\u76f8\u540c\u7684\u8bf7\u6c42\u4f7f\u7528\u7f13\u5b58\uff0c\u8fd9\u4e2a\u65f6\u95f4\u4e4b\u5916\u4f7f\u7528http\u8bf7\u6c42\u3002</p>\n<p>Cache-Control\uff1ano-cache\nCathe-Control\uff1amax-age=315360000</p>\n<p>Expires\u6709\u4e00\u4e2a\u975e\u5e38\u5927\u7684\u7f3a\u9677\uff0c\u5b83\u4f7f\u7528\u4e00\u4e2a\u56fa\u5b9a\u7684\u65f6\u95f4\uff0c\u8981\u6c42\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u7684\u65f6\u949f\u4fdd\u6301\u4e25\u683c\u7684\u540c\u6b65\uff0c\u5e76\u4e14\u8fd9\u4e00\u5929\u5230\u6765\u540e\uff0c\u670d\u52a1\u5668\u8fd8\u5f97\u91cd\u65b0\u8bbe\u5b9a\u65b0\u7684\u65f6\u95f4\u3002\nHTTP1.1\u5f15\u5165\u4e86Cathe-Control\uff0c\u5b83\u4f7f\u7528max-age\u6307\u5b9a\u7ec4\u4ef6\u88ab\u7f13\u5b58\u591a\u4e45\uff0c\u4ece\u8bf7\u6c42\u5f00\u59cb\u5728max-age\u65f6\u95f4\u5185\u6d4f\u89c8\u5668\u4f7f\u7528\u7f13\u5b58\uff0c\u4e4b\u5916\u7684\u4f7f\u7528\u8bf7\u6c42\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6d88\u9664Expires\u7684\u9650\u5236\uff0c\n\u5982\u679c\u5bf9\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u8981\u6c42\u5f88\u9ad8\u7684\u8bdd\uff0c\u53ef\u4ee5\u4e24\u4e2a\u90fd\u4f7f\u7528\u3002</p>\n<p>Pragma\uff1ano-cache</p>\n<hr>\n<h4 class=\"heading\">3.\u7cbe\u786e\u83b7\u53d6\u9875\u9762\u5143\u7d20\u4f4d\u7f6e\u7684\u65b9\u5f0f\u6709\u54ea\u4e9b</h4>\n<p>\u90a3\u5c31\u662f\u4f7f\u7528getBoundingClientRect()\u65b9\u6cd5\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u5305\u542b\u4e86left\u3001right\u3001top\u3001bottom\u56db\u4e2a\u5c5e\u6027\uff0c\u5206\u522b\u5bf9\u5e94\u4e86\u8be5\u5143\u7d20\u7684\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0b\u89d2\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\uff08viewport\uff09\u5de6\u4e0a\u89d2\u7684\u8ddd\u79bb\u3002</p>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-keyword\">var</span> X= <span class=\"hljs-keyword\">this</span>.getBoundingClientRect().left;\n<span class=\"hljs-keyword\">var</span> Y =<span class=\"hljs-keyword\">this</span>.getBoundingClientRect().top;\n<span class=\"hljs-comment\">//\u518d\u52a0\u4e0a\u6eda\u52a8\u8ddd\u79bb\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u7edd\u5bf9\u4f4d\u7f6e</span>\n<span class=\"hljs-keyword\">var</span> X= <span class=\"hljs-keyword\">this</span>.getBoundingClientRect().left+<span class=\"hljs-built_in\">document</span>.documentElement.scrollLeft;\n<span class=\"hljs-keyword\">var</span> Y =<span class=\"hljs-keyword\">this</span>.getBoundingClientRect().top+<span class=\"hljs-built_in\">document</span>.documentElement.scrollTop;\n</code></pre><hr>\n<h4 class=\"heading\">4.\u6b63\u5219\u4ece2018-10-07T11:48:47 Asia/zh-cn \u63d0\u53d6\u51fa\u6765\u7ed3\u679c[2018,10,07,11,48,47]</h4>\n<p>\"2018-10-07T11:48:47 Asia/zh-cn\".match( /\\d{1,}/g )</p>\n<hr>\n<h4 class=\"heading\">5.\u5982\u4f55\u5224\u65adobject\u662f\u6570\u7ec4\u7c7b\u578b\uff1f</h4>\n<pre><code class=\"hljs js\" lang=\"js\">alert(<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-number\">1</span>);                <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"number\" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-string\">\"1\"</span>);              <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"string\" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-literal\">true</span>);             <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"boolean\" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> {});               <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"object\" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> []);               <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"object \" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)</span>{});     <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"function\" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-literal\">null</span>);             <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"object\" </span>\nalert(<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-literal\">undefined</span>);        <span class=\"hljs-comment\">// \u8fd4\u56de\u5b57\u7b26\u4e32\"undefined\"</span>\n</code></pre><p>\u5176\u4e2d\uff0ctypeof {}\u548ctypeof []\u7684\u7ed3\u679c\u90fd\u662fobject\uff0c\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u6211\u600e\u4e48\u901a\u8fc7typeof\u53bb\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u4e0d\u662f\u6570\u7ec4\u7c7b\u578b\u5462\uff1f</p>\n<p>\u5bf9\u8c61\u662f\u5bf9\u8c61\uff0c\u6570\u7ec4\u4e5f\u662f\u5bf9\u8c61\uff0cjs\u4e2d\u4e07\u7269\u7686\u5bf9\u8c61\uff0c\u5f88\u663e\u7136\uff0c\u901a\u8fc7\u7b80\u5355\u7684typeof\u8fd0\u7b97\u7b26\u662f\u4e0d\u80fd\u591f\u8fbe\u5230\u76ee\u7684\uff0c\u6211\u4eec\u5f97\u6362\u4e2a\u65b9\u6cd5\u3002</p>\n<p>1\u3001\u4ece\u539f\u578b\u5165\u624b\uff0cArray.prototype.isPrototypeOf(obj);</p>\n<p>\u5229\u7528isPrototypeOf()\u65b9\u6cd5\uff0c\u5224\u5b9aArray\u662f\u4e0d\u662f\u5728obj\u7684\u539f\u578b\u94fe\u4e2d\uff0c\u5982\u679c\u662f\uff0c\u5219\u8fd4\u56detrue,\u5426\u5219false\u3002</p>\n<p></p><figure><img alt=\"\u5224\u65adobject\u662f\u6570\u7ec4\u7c7b\u578b\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/11/7/166eea927dfb2608~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure>\n2.Array.isArray()\u65b9\u6cd5\u3002<p></p>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-built_in\">Array</span>.isArray([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>]);  <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-built_in\">Array</span>.isArray({<span class=\"hljs-attr\">foo</span>: <span class=\"hljs-number\">123</span>}); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-built_in\">Array</span>.isArray(<span class=\"hljs-string\">'foobar'</span>);   <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-built_in\">Array</span>.isArray(<span class=\"hljs-literal\">undefined</span>);  <span class=\"hljs-comment\">// false&amp;emsp;</span>\n</code></pre><h3 class=\"heading\">\u7f16\u7a0b\u9898</h3>\n<hr>\n<h5 class=\"heading\">1.\u5df2\u77e5\u6570\u636e\u7ed3\u6784users\uff0c\u8bf7\u5b9e\u73b0\u8bed\u6cd5\u652f\u6301user.unique\u80fd\u591f\u6309\u7167name\u5b57\u6bb5\u53bb\u91cd\uff0c\u5e76\u8f93\u51fa\u7ed3\u6784\u4e3a\uff1a[\"a\",\"b\"]</h5>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-keyword\">var</span> users=[{\n   <span class=\"hljs-attr\">id</span>:<span class=\"hljs-number\">1</span>,<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">\"a\"</span>\n},{\n   <span class=\"hljs-attr\">id</span>:<span class=\"hljs-number\">2</span>,<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">\"a\"</span>\n},{\n   <span class=\"hljs-attr\">id</span>:<span class=\"hljs-number\">3</span>,<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">\"b\"</span>\n},{\n   <span class=\"hljs-attr\">id</span>:<span class=\"hljs-number\">4</span>,<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">\"v\"</span>\n}]\n\n</code></pre><pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-built_in\">Array</span>.prototype.unique = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) </span>{\n    <span class=\"hljs-keyword\">var</span> res;\n    <span class=\"hljs-keyword\">this</span>.map(<span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> {\n        <span class=\"hljs-keyword\">this</span>[item.id - <span class=\"hljs-number\">1</span>] = item.name\n    })\n    <span class=\"hljs-comment\">// ES6\u91cc\u65b0\u6dfb\u52a0\u4e86\u4e24\u4e2a\u5f88\u597d\u7528\u7684\u4e1c\u897f\uff0cset\u548cArray.from</span>\n    <span class=\"hljs-comment\">// set\u662f\u4e00\u79cd\u65b0\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5b83\u53ef\u4ee5\u63a5\u6536\u4e00\u4e2a\u6570\u7ec4\u6216\u8005\u662f\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff0c\u81ea\u52a8\u53bb\u91cd\u5176\u4e2d\u7684\u91cd\u590d\u9879\u76ee\u3002</span>\n    res=<span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Set</span>(<span class=\"hljs-keyword\">this</span>);\n    <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">\"new Set\u5bf9\u8c61\"</span>,res)\n    <span class=\"hljs-comment\">// \u4f46\u662f\u8fd9\u91cc\u5927\u5bb6\u53ef\u4ee5\u770b\u5230\uff0cset\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f46\u662f\u6211\u4eec\u60f3\u8981\u7684\u662f\u6570\u7ec4\u554a\u3002</span>\n    <span class=\"hljs-comment\">// \u8fd9\u56de\uff0c\u5c31\u8be5\u8f6e\u5230Array.from\u51fa\u573a\u4e86\uff0c\u5b83\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u53ef\u4ee5\u628a\u7c7b\u6570\u7ec4\u5bf9\u8c61\u3001\u53ef\u8fed\u4ee3\u5bf9\u8c61\u8f6c\u5316\u4e3a\u6570\u7ec4\u3002</span>\n    res=<span class=\"hljs-built_in\">Array</span>.from(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Set</span>(<span class=\"hljs-keyword\">this</span>));\n    <span class=\"hljs-keyword\">return</span>  res<span class=\"hljs-comment\">//es6 \u6570\u7ec4\u53bb\u91cd</span>\n}\n<span class=\"hljs-built_in\">console</span>.log(users.unique());\n</code></pre><p></p><figure><img alt=\"\u53bb\u91cd\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/11/7/166eea927dd4c872~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<hr>\n<h5 class=\"heading\">2.\u5df2\u77e5\u5982\u4e0b\u5bf9\u8c61\uff0c\u8bf7\u57fa\u4e8ees6\u7684proxy\u65b9\u6cd5\u8bbe\u8ba1\u4e00\u4e2a\u5c5e\u6027\u62e6\u622a\u8bfb\u53d6\u64cd\u4f5c\u7684\u4f8b\u5b50\uff0c\u8981\u6c42\u5b9e\u73b0\u53bb\u8bbf\u95ee\u76ee\u6807\u5bf9\u8c61example\u4e2d\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\u65f6\uff0c\u629b\u51fa\u9519\u8bef\uff1aProperty \"$(property)\" does not exist</h5>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-keyword\">const</span> man={\n    <span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">'jscoder'</span>,\n    <span class=\"hljs-attr\">age</span>:<span class=\"hljs-number\">22</span>\n}\n <span class=\"hljs-comment\">//\u8865\u5168\u4ee3\u7801</span>\n<span class=\"hljs-keyword\">const</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Proxy</span>(...)\nproxy.name <span class=\"hljs-comment\">//\"jscoder\"</span>\nproxy.age <span class=\"hljs-comment\">//22</span>\nproxy.location <span class=\"hljs-comment\">//Property \"$(property)\" does not exist</span>\n</code></pre><p><strong>\u8003\u70b9</strong>\nes6 javascript\u7684Proxy \u5b9e\u4f8b\u7684\u65b9\u6cd5 ,<code>get()</code> get\u65b9\u6cd5\u7528\u4e8e\u62e6\u622a\u67d0\u4e2a\u5c5e\u6027\u7684\u8bfb\u53d6\u64cd\u4f5c\u3002</p>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-keyword\">var</span> man = {\n\t<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">'jscoder'</span>,\n    <span class=\"hljs-attr\">age</span>:<span class=\"hljs-number\">22</span>\n};\n<span class=\"hljs-keyword\">var</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Proxy</span>(man, {\n\t<span class=\"hljs-attr\">get</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">target, property</span>) </span>{\n\t\t<span class=\"hljs-keyword\">if</span>(property <span class=\"hljs-keyword\">in</span> target) {\n\t\t\t<span class=\"hljs-keyword\">return</span> target[property];\n\t\t} <span class=\"hljs-keyword\">else</span> {\n\t\t\t<span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">ReferenceError</span>(<span class=\"hljs-string\">`Property <span class=\"hljs-subst\">${property}</span> does not exist.`</span>);\n\t\t}\n\t}\n});\n<span class=\"hljs-built_in\">console</span>.log(proxy.name)\n<span class=\"hljs-built_in\">console</span>.log(proxy.age)\n<span class=\"hljs-built_in\">console</span>.log(proxy.location)\n</code></pre><p>Proxy \u5b9e\u4f8b\u7684\u65b9\u6cd5\u7684\u5176\u4ed6\u65b9\u6cd5\u53c2\u8003\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5f88\u8be6\u7ec6\n<a target=\"_blank\" href=\"https://blog.csdn.net/qq_30100043/article/details/53443017\">https://blog.csdn.net/qq_30100043/article/details/53443017</a></p>\n<hr>\n<h5 class=\"heading\">3.\u7ed9\u51fa\u5982\u4e0b\u865a\u62dfdom\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5982\u4f55\u5b9e\u73b0\u7b80\u5355\u7684\u865a\u62dfdom\uff0c\u6e32\u67d3\u5230\u76ee\u6807dom\u6811</h5>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-comment\">//\u6837\u4f8b\u6570\u636e</span>\n<span class=\"hljs-keyword\">let</span> demoNode = ({\n    <span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'ul'</span>,\n    <span class=\"hljs-attr\">props</span>: {<span class=\"hljs-string\">'class'</span>: <span class=\"hljs-string\">'list'</span>},\n    <span class=\"hljs-attr\">children</span>: [\n        ({<span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'li'</span>, <span class=\"hljs-attr\">children</span>: [<span class=\"hljs-string\">'douyin'</span>]}),\n        ({<span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'li'</span>, <span class=\"hljs-attr\">children</span>: [<span class=\"hljs-string\">'toutiao'</span>]})\n    ]\n});\n</code></pre><p>//\u6784\u5efa\u4e00\u4e2arender\u51fd\u6570\uff0c\u5c06demoNode\u5bf9\u8c61\u6e32\u67d3\u4e3a\u4ee5\u4e0bdom</p>\n<pre><code class=\"hljs html\" lang=\"html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ul</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"list\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">li</span>&gt;</span>douyin<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">li</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">li</span>&gt;</span>toutiao<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">li</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ul</span>&gt;</span>\n</code></pre><p>\u770b\u5230\u865a\u62dfDOM\uff0c\u662f\u4e0d\u662f\u611f\u89c9\u5f88\u7384\u4e4e\uff0c\u4f46\u662f\u5265\u5f00\u5b83\u534e\u4e3d\u7684\u5916\u8863\uff0c\u4e5f\u5c31\u90a3\u6837:</p>\n<ol>\n<li>\u901a\u8fc7JavaScript\u6765\u6784\u5efa\u865a\u62df\u7684DOM\u6811\u7ed3\u6784\uff0c\u5e76\u5c06\u5176\u5448\u73b0\u5230\u9875\u9762\u4e2d\uff1b</li>\n<li>\u5f53\u6570\u636e\u6539\u53d8\uff0c\u5f15\u8d77DOM\u6811\u7ed3\u6784\u53d1\u751f\u6539\u53d8\uff0c\u4ece\u800c\u751f\u6210\u4e00\u9897\u65b0\u7684\u865a\u62dfDOM\u6811\uff0c\u5c06\u5176\u4e0e\u4e4b\u524d\u7684DOM\u5bf9\u6bd4\uff0c\u5c06\u53d8\u5316\u90e8\u5206\u5e94\u7528\u5230\u771f\u5b9e\u7684DOM\u6811\u4e2d\uff0c\u5373\u9875\u9762\u4e2d\u3002\n\u901a\u8fc7\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u865a\u62dfDOM\uff0c\u5e76\u5c06\u5176\u4e0e\u771f\u5b9e\u7684DOM\u5173\u8054\u3002</li>\n</ol>\n<p><strong>\u6784\u5efa\u865a\u62dfDOM</strong></p>\n<p>\u865a\u62dfDOM\uff0c\u5176\u5b9e\u5c31\u662f\u7528JavaScript\u5bf9\u8c61\u6765\u6784\u5efaDOM\u6811\uff0c\u5982\u4e0aul\u7ec4\u4ef6\u6a21\u7248\uff0c\u5176\u6811\u5f62\u7ed3\u6784\u5982\u4e0b\uff1a\n</p><figure><img alt=\"DOM\u6811\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/11/19/16729d4c7abc5f95~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure>\n\u901a\u8fc7JavaScript\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u6784\u5efa\u5b83\uff0c\u5982\u4e0b\uff1a<p></p>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-keyword\">var</span> elem = Element({\n    <span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'ul'</span>,\n    <span class=\"hljs-attr\">props</span>: {<span class=\"hljs-string\">'class'</span>: <span class=\"hljs-string\">'list'</span>},\n    <span class=\"hljs-attr\">children</span>: [\n        Element({<span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'li'</span>, <span class=\"hljs-attr\">children</span>: [<span class=\"hljs-string\">'item1'</span>]}),\n        Element({<span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'li'</span>, <span class=\"hljs-attr\">children</span>: [<span class=\"hljs-string\">'item2'</span>]})\n    ]\n});\n</code></pre><blockquote>\n<p>note\uff1aElement\u4e3a\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u8fd4\u56de\u4e00\u4e2aElement\u5bf9\u8c61\u3002\u4e3a\u4e86\u66f4\u6e05\u6670\u7684\u5448\u73b0\u865a\u62dfDOM\u7ed3\u6784\uff0c\u6211\u4eec\u7701\u7565\u4e86new\uff0c\u800c\u5728Element\u4e2d\u5b9e\u73b0\u3002</p>\n</blockquote>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-comment\">/*\n* @Params:\n*     tagName(string)(requered)\n*     props(object)(optional)\n*     children(array)(optional)\n* */</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">Element</span>(<span class=\"hljs-params\">{tagName, props, children}</span>)</span>{\n    <span class=\"hljs-keyword\">if</span>(!(<span class=\"hljs-keyword\">this</span> <span class=\"hljs-keyword\">instanceof</span> Element)){\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> Element({tagName, props, children})\n    }\n    <span class=\"hljs-keyword\">this</span>.tagName = tagName;\n    <span class=\"hljs-keyword\">this</span>.props = props || {};\n    <span class=\"hljs-keyword\">this</span>.children = children || [];\n}\n</code></pre><p>\u597d\u4e86\uff0c\u901a\u8fc7Element\u6211\u4eec\u53ef\u4ee5\u4efb\u610f\u5730\u6784\u5efa\u865a\u62dfDOM\u6811\u4e86\u3002\u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff0c\u865a\u62df\u7684\u7ec8\u5f52\u662f\u865a\u62df\u7684\uff0c\u6211\u4eec\u5f97\u5c06\u5176\u5448\u73b0\u5230\u9875\u9762\u4e2d\uff0c\u4e0d\u7136\uff0c\u6ca1\u5375\u7528\u3002\u3002</p>\n<p>\u600e\u4e48\u5448\u73b0\u5462\uff1f</p>\n<p>\u4ece\u4e0a\u9762\u5f97\u77e5\uff0c\u8fd9\u662f\u4e00\u9897\u6811\u561b\uff0c\u90a3\u6211\u4eec\u5c31\u901a\u8fc7\u904d\u5386\uff0c\u9010\u4e2a\u8282\u70b9\u5730\u521b\u5efa\u771f\u5b9eDOM\u8282\u70b9:</p>\n<p>\u2003\u20031. createElement;</p>\n<p>\u2003\u20032. createTextNode.</p>\n<p>\u600e\u4e48\u904d\u5386\u5462\uff1f</p>\n<p>\u56e0\u4e3a\u8fd9\u662f\u4e00\u9897\u6811\u561b\uff0c\u5bf9\u4e8e\u6811\u5f62\u7ed3\u6784\u65e0\u5916\u4e4e\u4e24\u79cd\u904d\u5386\uff1a</p>\n<p>\u2003\u20031. \u6df1\u5ea6\u4f18\u5148\u904d\u5386(DFS)</p>\n<p></p><figure><img alt=\"\u6df1\u5ea6\u4f18\u5148\u904d\u5386\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/11/7/166eea927eae95c5~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<p>\u2003\u20032. \u5e7f\u5ea6\u4f18\u5148\u904d\u5386(BFS)</p>\n<p></p><figure><img alt=\"\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/11/7/166eea927e91d41b~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n<p>\u9488\u5bf9\u5b9e\u9645\u60c5\u51b5\uff0c\u6211\u4eec\u5f97\u91c7\u7528DFS\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f</p>\n<p>\u56e0\u4e3a\u6211\u4eec\u5f97\u5c06\u5b50\u8282\u70b9append\u5230\u7236\u8282\u70b9\u4e2d</p>\n<p>\u597d\u4e86\uff0c\u90a3\u6211\u4eec\u91c7\u7528DFS\uff0c\u5c31\u6765\u5b9e\u73b0\u4e00\u4e2arender\u51fd\u6570\u5427\uff0c\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs js\" lang=\"js\">Element.prototype.render = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)</span>{\n    <span class=\"hljs-keyword\">var</span> el = <span class=\"hljs-built_in\">document</span>.createElement(<span class=\"hljs-keyword\">this</span>.tagName),\n        props = <span class=\"hljs-keyword\">this</span>.props,\n        propName,\n        propValue;\n    <span class=\"hljs-keyword\">for</span>(propName <span class=\"hljs-keyword\">in</span> props){\n        propValue = props[propName];\n        el.setAttribute(propName, propValue);\n    }\n    <span class=\"hljs-keyword\">this</span>.children.forEach(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">child</span>)</span>{\n        <span class=\"hljs-keyword\">var</span> childEl = <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-keyword\">if</span>(child <span class=\"hljs-keyword\">instanceof</span> Element){\n            childEl = child.render();\n        }<span class=\"hljs-keyword\">else</span>{\n            childEl = <span class=\"hljs-built_in\">document</span>.createTextNode(child);\n        }\n        el.appendChild(childEl);\n    });\n    <span class=\"hljs-keyword\">return</span> el;\n};\n</code></pre><p>\u6b64\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06\u865a\u62dfDOM\u5448\u73b0\u5230\u6307\u5b9a\u771f\u5b9eDOM\u4e2d\u5566\u3002\u5047\u8bbe\uff0c\u6211\u4eec\u5c06\u4e0a\u8bc9ul\u865a\u62dfDOM\u5448\u73b0\u5230\u9875\u9762body\u4e2d\uff0c\u5982\u4e0b\uff1a</p>\n<pre><code class=\"hljs js\" lang=\"js\"><span class=\"hljs-keyword\">var</span> elem = Element({\n    <span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'ul'</span>,\n    <span class=\"hljs-attr\">props</span>: {<span class=\"hljs-string\">'class'</span>: <span class=\"hljs-string\">'list'</span>},\n    <span class=\"hljs-attr\">children</span>: [\n        Element({<span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'li'</span>, <span class=\"hljs-attr\">children</span>: [<span class=\"hljs-string\">'item1'</span>]}),\n        Element({<span class=\"hljs-attr\">tagName</span>: <span class=\"hljs-string\">'li'</span>, <span class=\"hljs-attr\">children</span>: [<span class=\"hljs-string\">'item2'</span>]})\n    ]\n});\n<span class=\"hljs-built_in\">document</span>.querySelector(<span class=\"hljs-string\">'body'</span>).appendChild(elem.render());\n</code></pre><p></p><figure><img alt=\"\u516c\u4f17\u53f7\" src=\"https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/7/29/16c3d9bf43b824fe~tplv-t2oaga2asx-image.image\"><figcaption></figcaption></figure><p></p>\n", "ctime": "1541602656", "mtime": "1599641221", "rtime": "1542463084", "draft_id": "6845075646977146888", "view_count": 8598, "collect_count": 325, "digg_count": 269, "comment_count": 27, "hot_index": 725, "is_hot": 0, "rank_index": 0.00139388, "status": 2, "verify_status": 1, "audit_status": 2, "mark_content": ""}, "author_user_info": {"user_id": "2330620383999822", "user_name": "\u70df\u96e8\u7a7a\u7075", "company": "\u4eac\u4e1c\u79d1\u6280", "job_title": "\u524d\u7aef", "avatar_large": "https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/2cfc11ade01b79ff56fdcb282f2f94e1~300x300.image", "level": 3, "description": "high level touch fish engineer", "followee_count": 774, "follower_count": 1255, "post_article_count": 16, "digg_article_count": 958, "got_digg_count": 2320, "got_view_count": 108501, "post_shortmsg_count": 0, "digg_shortmsg_count": 12, "isfollowed": false, "favorable_author": 0, "power": 3213, "study_point": 0, "university": {"university_id": "0", "name": "", "logo": ""}, "major": {"major_id": "0", "parent_id": "0", "name": ""}, "student_status": 0, "select_event_count": 0, "select_online_course_count": 0, "identity": 0, "is_select_annual": false, "select_annual_rank": 0, "annual_list_type": 0, "extraMap": {}, "is_logout": 0}, "category": {"category_id": "6809637767543259144", "category_name": "\u524d\u7aef", "category_url": "frontend", "rank": 2, "back_ground": "https://lc-mhke0kuv.cn-n1.lcfile.com/8c95587526f346c0.png", "icon": "https://lc-mhke0kuv.cn-n1.lcfile.com/1c40f5eaba561e32.png", "ctime": 1457483942, "mtime": 1432503190, "show_type": 3, "item_type": 2, "promote_tag_cap": 4, "promote_priority": 2}, "tags": [{"id": 2546519, "tag_id": "6809640398105870343", "tag_name": "JavaScript", "color": "#616161", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/5d70fd6af940df373834.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1435884803, "mtime": 1632303928, "id_type": 9, "tag_alias": "", "post_article_count": 67754, "concern_user_count": 399027}, {"id": 2546837, "tag_id": "6809640837895585805", "tag_name": "\u670d\u52a1\u5668", "color": "#a3abad", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/be1879c7e9983dab0049.png~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1489042149, "mtime": 1632291317, "id_type": 9, "tag_alias": "", "post_article_count": 10401, "concern_user_count": 20835}, {"id": 2546923, "tag_id": "6809640956946546702", "tag_name": "Element", "color": "#000000", "icon": "https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/leancloud-assets/2c670995272515e48cea.svg~tplv-t2oaga2asx-image.image", "back_ground": "", "show_navi": 0, "ctime": 1489435335, "mtime": 1632301576, "id_type": 9, "tag_alias": "", "post_article_count": 1935, "concern_user_count": 15234}], "user_interact": {"id": 6844903709466427406, "omitempty": 2, "user_id": 0, "is_digg": false, "is_follow": false, "is_collect": false}, "org": {"org_info": null, "org_user": null, "is_followed": false}, "req_id": "202109221755280102122060794E039F2C", "status": {"push_status": 0}}